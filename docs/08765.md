# 云中的可靠性:提出正确的问题

> 原文:[https://www . site point . com/reliability-in-the-cloud-asking-the-right-questions/](https://www.sitepoint.com/reliability-in-the-cloud-asking-the-right-questions/)

2011 年，普通大众开始接触云。不幸的是，在许多情况下，这种引入是云失败的结果。亚马逊 4 月份在北弗吉尼亚数据中心的中断是几起云中断中的第一起，引起了重大新闻报道。随着亚马逊及其客户努力恢复，FourSquare、Reddit 和 HootSuite 等热门网站和网络应用同时从网络上消失。

云的批评者很快指出这次中断是关键业务网络应用不能信任云的证据。无论批评者是否正确，对于谨慎的首席信息官来说，这些中断肯定会引发关于云可靠性的严重问题。

尽管云服务在灵活性和可扩展性方面引入了大量新选项，但运营团队仍需要在设计云架构时保持高度的专注。当服务外包给云时，很容易将基本的可靠性问题视为“别人的问题”但这与事实相去甚远。处理云计算的最佳方式是问与传统提供商相同的可靠性问题。

## 规划

在设计任何架构之前，无论是托管架构还是基于云的架构，都要收集同事的意见，以确定对基础架构的期望。

*   哪些 Web 应用程序是任务关键型的，需要 100%的正常运行时间？
*   是否有后端应用程序在发生灾难时会停机几天？
*   停机或数据丢失的代价是什么？

任何没有从这些基础开始的项目计划都注定失败——你可能会惊讶于有多少组织忘记了计划！

## 供应者

现在你知道你在寻找什么，开始寻找供应商。从广撒网开始——选择至少五家提供满足你需求的服务的供应商。除了最简单的项目，所有的项目都要确保从一个真实的人的真实对话开始。在这个阶段讨论最初的定价，这样你对市场会有更好的了解。让一些供应商参与进来将有助于保持每个人的诚实。

## 位置

确定位置的第一步必须基于对以下问题的回答:

*   您的应用程序是否需要一定的延迟或性能保证，这将受到网络布局的影响？
*   设施是否符合正常运行时间协会制定的第 3 级或第 4 级标准？

如果您的所有用户或访问者都在纽约，那么将数据中心放在洛杉矶可能没有意义。要求 100%正常运行时间的应用程序必须托管在多个位置，并且后续位置必须在不同的地理位置。即使管理最好的设施也会偶尔出现意外的紧急情况。

如果您的应用程序需要 100%的正常运行时间，您应该进一步分析位置。

*   有没有可能影响多个地点的可预测事件？

例如，一场冬季风暴可能会影响芝加哥和纽约。灾难善于发现你的弱点。提前计划。

好消息是云模式的备份容量很便宜。您可能只有几台服务器(或者根本没有)在备份数据中心运行，并且能够在发生灾难时启动更多实例。当您与提供商合作时，请询问有关他们如何建议配置灾难恢复的更多信息。您甚至可以考虑为您的主环境和灾难恢复环境使用不同的提供商，以降低其中一家提供商的业务方向变化影响您的服务的风险。

## 网络

现在，您已经对提供商和位置有了很好的了解，请更深入地了解该设施的网络连接。

*   提供商是否连接到多个“第 1 级”互联网提供商？
*   提供商采取什么步骤来确保他们的网络访问中没有单点故障？

## 数据和监测

到目前为止，您应该很清楚需要问哪些问题来确保您的云提供商是可靠的。但是还有一个步骤你可能会忘记——这又回到了最重要的计划阶段。如果没有记录在案、定期测试的故障转移流程，最好的数据中心冗余计划将毫无价值。

*   您的数据存储在哪里？
*   如果您的主数据中心停机，是否仍然可以访问所有关键数据？
*   过渡到灾难恢复数据中心需要多长时间，您能缩短这个时间吗？

谨慎的 Web 运营团队将每季度测试一次其灾难恢复流程，最好是执行灾难恢复的完全故障转移。至少，您的团队应该坐在一起，走过整个过程，即使进行实时故障转移不切实际。

最后，别忘了监控！如何知道关键服务是否离线？如果您在周一早上上班时才发现停机，那么您所有的灾难恢复计划都将受到影响。

*   是否所有关键系统都受到监控？
*   收到监控警报的人员是否有记录在案的方式来参与灾难恢复流程并传达状态？

在灾难发生期间，意识到自己没有数据库团队的电话号码从来都不是一个好时机。确保提前向所有关键人员传达联系信息和流程。

云对于希望部署可扩展且可靠的网站和网络应用的公司来说是完美的，但它不会改变良好规划的基础。2012 年，你的公司会因为缺乏冗余和良好的计划而遭遇大停电吗？或者，这一年你可以向你的客户报告说，你的业务没有受到影响，而美国有线电视新闻网正在报告大规模停电？

[可靠性图像](http://www.shutterstock.com/pic.mhtml?id=4116895)通过 Shutterstock

## 分享这篇文章