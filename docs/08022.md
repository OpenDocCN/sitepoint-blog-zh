# C 语言第 4 部分中的运算符

> 原文:[https://www.sitepoint.com/operators-in-c-part-4/](https://www.sitepoint.com/operators-in-c-part-4/)

这篇文章是 C 语言中操作符系列的最后一篇，是 C 语言第三部分中[操作符的继续。它将讨论剩余的操作符。下一类是等式运算符，它与关系运算符密切相关。](https://www.sitepoint.com/operators-in-c-part-3/ "Operators in C Part 3")

## 等式运算符

C #中有两个相等运算符:

1.等于(==)

2.不等于(！=)

这些运算符还用于形成逻辑表达式，表示条件为真或为假。结果表达式的值将是整数类型。使用相等运算符进行比较的逻辑表达式的操作数的数据类型必须满足以下组合之一:

a.两个操作数都必须是算术类型。

b.两个操作数都必须是指针类型。

两个指针比较相等，如果:

a.两者都是空指针。

b.两者都指向同一个对象或函数。

c.两者都是指向同一数组对象的最后一个元素的指针。

d.一个是指向一个数组对象末尾的指针，另一个是指向另一个数组对象开始的指针，这个数组对象恰好紧跟着地址空间中的第一个数组对象。

## 按位 AND、按位 Exclusive OR 和按位 Inclusive OR 运算符

有三种逻辑按位运算符:*按位与* ( **&** )、*按位异或*(**)*、按位异或* ( **|** ) *。*每个运算符都需要两个整数类型的操作数。对操作数中的每一对对应位独立执行运算。因此，将首先比较两个操作数中的最低有效位(即最右边的位)，然后是下一个最低有效位，依此类推，直到所有的位都被比较完。这些比较的结果是:**

 ***   如果两个位的值都为 1(即如果两个位都为真)，则**按位 AND** 表达式将返回 1，否则将返回 0。
*   如果其中一位的值为 1，另一位的值为 0(即如果一位为真，另一位为假)，则**位异或**表达式将返回 1，否则将返回 0。
*   如果一个或两个位的值都为 1(即如果一个或两个位都为真)，则**位包含或**表达式将返回 1，否则将返回 0。

例子:假设`a`和`b`是无符号整数变量，其中

`a = 0110 1101 1011 0111`

`b = 1010 0111 0010 0110`

____________________

然后，`  a&b = 0010 0101 0010 0110 `(按位与的结果)

再次， `a^b = 1100 1010 1001  0001`(按位异或的结果)

还有，`  a|b = 1110 1111 1011 0111`(按位异或的结果)

## 逻辑 AND、逻辑 OR 运算符

逻辑 AND (&&)和逻辑 OR (||)运算符作用于本身就是逻辑表达式的操作数。最终结果是将单个逻辑表达式组合成更复杂的条件，这些条件要么是*真*要么是*假*。

逻辑与表达式和逻辑或表达式的操作数应该是**标量类型**(算术类型和指针类型)。逻辑与表达式的结果和逻辑或表达式的结果是类型` int`。

如果两个操作数都不等于 0(即两个操作数都为真)，则**逻辑 AND & &** 运算符将产生 1；否则，它产生 0。如果第一个操作数等于 0(即如果第一个操作数为假)，则不计算第二个操作数。这是因为与按位运算符不同，逻辑表达式的操作数是从左向右计算的。

举例:假设 `i`是一个值为`3`的整型变量， `c`是一个值为 `w`的字符型变量。然后在表达式中((I>= 6)&&(c = = ' w '))；当第一个操作数`(i>=6)`为假时，第二个操作数不被计算，该逻辑与表达式的结果为 0。

如果任一操作数的比较结果不等于 0(即，如果任一操作数为真)，逻辑 OR || 运算符将产生 1；否则，它产生 0。

## 条件运算符(？:)

条件运算符(？:)是一个三元运算符，即需要三个操作数。简单的条件运算可以用条件运算符来执行。使用条件运算符的表达式称为**条件表达式。这样的表达式可以用来代替 if/else 语句(这将在后面的文章中讨论)。**

条件表达式的形式如下:

表情 1？表达 2:表达 3

计算条件表达式时，首先计算 expression1。如果表达式 1 为真，则执行表达式 2，否则执行表达式 3。

如果 expression1 为 true，则 expression2 将被求值，这将成为条件表达式的值；否则 expression3 将被求值，这将成为条件表达式的值。这样确定的条件表达式的值可以赋给一个变量，并在程序中稍后使用。条件表达式经常出现在简单赋值语句的右边。条件表达式的结果值被赋给左边的标识符。

例 1:假设`i`和`flag`是两个整型变量。考虑以下条件表达式:

`(i<0)? 0:100;`

首先计算表达式`(i<0)`。如果为真，(即 I 小于 0)，整个条件表达式取值`0`。否则，整个条件表达式都采用值`100`。如此确定的条件表达式的值可以赋给变量，并在程序中稍后使用。下面的语句说明了这一点:

`flag= (i<0)? 0:100;`

如果 `i`小于`0`,`flag` 的值将为`0`，否则将为`100`。

例 2:设`a`、 `b`、`max`为三个整数变量。以下条件表达式通过比较 a 和 b 来确定较大的值，并将其赋给 max:

`max=(a>b)?a:b;`

## 赋值运算符

c 语言中有几种不同的赋值操作符，它们用来构成**赋值表达式**，将表达式的值赋给标识符。最常用的赋值操作符是**简单赋值操作符(=)。**使用该运算符的赋值表达式以如下形式编写:

标识符=表达式

其中*标识符*代表变量，*表达式*代表常量、变量或更复杂的表达式。

注意，*简单赋值操作符* (=)和*相等操作符* (==)明显不同。赋值运算符用于为标识符赋值，而相等运算符用于确定两个表达式是否具有相同的值。这些运算符不能相互替代使用。

赋值表达式通常被称为**赋值语句**，因为它们实际上被写成了完整的语句。但是，赋值表达式也可以写成包含在其他语句中的表达式。

如果赋值表达式中的两个操作数属于不同的数据类型，那么右边表达式的值将自动转换为左边标识符的类型。整个表达式将是这种相同的数据类型。

**表单的多重赋值**

标识符 1 =标识符 2=…..=表达式

因此，多重赋值

标识符 1=标识符 2=表达式

相当于

标识符 1=(标识符 2=表达式)

比如在语句`i=j=5;`中，其中`i`和`j`为整数变量，先将值`5`赋给`j` ，再赋给 `i`。因此，通过使用多重赋值，在单个赋值语句中给两个变量赋值`5`。

### 复合赋值

c 包含以下复合赋值运算符:

+= -= *= /= %= >>= <<= &= ^= |=

使用复合赋值运算符的表达式采用以下形式:

表达式 1 运算符=表达式 2

要了解如何使用它们，请考虑赋值运算符+=。赋值表达式

公式

相当于

表达式 1 =表达式 1 +表达式 2

例如:

`a+=2;`

相当于

`a=a+2;`

其他复合赋值运算符也以同样的方式使用。通常 expression1 是一个标识符，比如变量或数组元素。

仅对于运算符+=和-=而言，要么左操作数应为指针类型，右操作数应为整数类型，要么两个操作数都应为算术类型。

对于其他运算符，每个操作数应具有与相应二元运算符所允许的算术类型一致的算术类型。

## 逗号运算符

C 中的**逗号运算符(，)**是一个二元运算符，充当两个操作数之间的*序列点*。它先计算第一个操作数，然后计算第二个操作数。使用逗号运算符的表达式的结果具有逗号运算符第二个操作数的值和数据类型。

逗号作为运算符的用法不同于它在函数调用、变量声明、初始化等中的用法。在那里它被用作一个**分隔符。**

以下示例说明了逗号运算符的用法:

设`result`、`a`、`i`为整型变量。考虑以下表达式:

`i=2,a=3;`

`result = (i+=2,i+a);`

在第一个语句 `i=2,a=3;`中，逗号被用作分隔符。在第二条语句中，逗号运算符首先将 `i`的值增加`2`，然后将 `a(3)`的值加到`i(4)`。存储在变量 `result`中的值是第二个操作数`i+a,`即`7`的值。如果去掉括号，变量 result 的值将是`4`。这是因为赋值运算符的优先级高于逗号运算符。因此，只有第一个操作数 `i+=2`将被求值，其值将存储在变量`result`中。括号的使用提高了括号内运算符的优先级。

for 循环中也使用逗号运算符。在 for 循环中逗号操作符的使用将在后面讨论控制结构的文章中讨论。

## 运算符优先级

指定运算符在表达式求值中的优先级，优先级最高的优先。下面列出了前面提到的运算符类别的优先级和关联性。如前所述，括号的使用提高了括号内运算符的优先级。运算符的结合性定义了运算符计算其操作数的顺序。例如:按位移位运算符从右向左计算，而逻辑运算符从左向右计算。

### 优先运算符组结合性

1 后缀运算符从左到右

2 前缀运算符从右到左

3 个乘法运算符从左到右

4 个加法运算符从左到右

5 位从左到右移位运算符

6 个关系运算符从左到右

7 个等式运算符从左到右

8 位运算符从左到右

9 个逻辑运算符从左到右

1o 条件运算符从左到右

11 个赋值运算符从右到左

12 个逗号运算符从左到右

下一篇文章将讨论 C 中提供的读写数据的函数。

## 分享这篇文章**