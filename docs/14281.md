# 自动化博客评论垃圾邮件？

> 原文：<https://www.sitepoint.com/automated-blog-comment-spam/>

Via [西蒙](http://simon.incutio.com)–[MT 加评论垃圾等于死站](http://photodude.com/article/2592/mt-plus-comment-spam-equals-dead-site)。博客垃圾评论这个话题让我很困扰，与其说它本身是个问题，不如说是因为有很多人在谈论它(并且深受其害)，而同时，真正的技术分析却很少。

我不得不说，我没有处理博客评论垃圾邮件(以及 Sitepoint 管理这些博客)的第一手经验，所以也许我不是提出建议的合适人选，但无论如何，从一个了解相关技术的人的角度来看，我还是要这么做。如果我错了，就开枪打我——最好是出于技术原因。

首先，我自己还没有完全回答这个问题主要是人、手动发布垃圾邮件，还是自动化过程(脚本)？我认为答案是两者都有，但更大的问题是后者，考虑到在一些地方产生的数量，以至于对可移动类型的拒绝服务。

在前一种情况下；一群悲伤的侏儒为 pagerank 付费发布链接，唯一像样的技术解决方案似乎是“黑名单”——维护应该被阻止发布的模式(urls 单词)列表。

从目前为止人们所做的快速扫描来看，似乎还没有人(如果我错了，请纠正我)建立某种实时黑名单服务，这种服务对所有人开放，可由可信的博客作者阅读和更新(自动)。在博客世界中已经有了大量基于 XML-RPC 的服务的经验，所以这不应该是一个巨大的飞跃。应该可以建立一种服务，在这种服务中，试图在单个博客上发表垃圾评论会导致黑名单，这种黑名单几乎会立即传播到订阅该服务的所有其他博客。在这种方案下，有可能淘汰垃圾邮件发送者已经失去兴趣的旧条目(减少搜索巨大列表的处理开销)。

在后一种情况下；通过脚本自动发送垃圾邮件，我认为，考虑到脚本本身的性质以及编写脚本所涉及的内容，垃圾邮件脚本开发人员的生活会变得非常困难(甚至不值得努力)。

在我看来，最有可能编写垃圾邮件脚本的工具是 Perl plus [LWP::UserAgent](http://cpan.uwinnipeg.ca/htdocs/libwww-perl/LWP/UserAgent.html) (或者类似的 LWP::Simple)、PHP plus[PEAR::HTTP _ Request](http://pear.php.net/package/HTTP_Request)(或者可能是 [Snoopy](http://snoopy.sourceforge.net/) )和 Python plus [httplib](http://docs.python.org/lib/module-httplib.html) 。也许正在使用通过 COM 的 Intenet Explorer？

要能够使用这些工具编写垃圾邮件脚本，至少需要一些编程和 HTTP 协议的知识，外加编写脚本的时间。当然，你不必是一个天才，一个简单的脚本并不需要很长时间来编写，但它仍然需要比“你好，世界”多一点的天赋和努力。

我有理由愿意冒险打赌，实际使用垃圾邮件脚本的人数远远高于编写这些脚本的人数(有哪个熟练的开发人员愿意在这上面浪费太多时间？).换句话说，有人编写了脚本，然后将它分发给一个缺乏对其进行重大修改的技能的小组。

同样值得注意的是，垃圾邮件发送者正在关注运行 mobile Type 等应用程序的博客，这些应用程序提供了发布评论的标准 HTTP API。我认为垃圾邮件脚本很原始，可能包含硬编码的表单域名，也可能包含硬编码的(相对)URL。换句话说，改变服务器上的 URLs 表单字段会破坏脚本。

因此，对于博客应用程序供应商来说，第一件事就是为他们的应用程序的给定*安装*创建独特的评论 API(例如，在设置过程中生成)。

此外，让服务器端能够根据每个请求改变表单 API 将会是一个移动的目标。对于获取评论表单的新副本的浏览器来说，这应该没有问题，但是基本脚本现在需要修改。

实现可能很简单，有一个不同评论字段集合的列表，每个集合有一个唯一的标识符(甚至发送到浏览器隐藏的表单字段),并使列表独立于博客应用的*安装*。每次向浏览器显示表单时，表单域的名称都是不同的，由服务器从列表中选择。提交表单时，唯一标识符告诉服务器预期的表单字段名称。

垃圾邮件脚本现在需要开始解析网页以提取字段名称，这增加了一个数量级的复杂性。

为了找出解析页面的脚本，可以使用一些随机的虚拟表单字段来识别和阻止脚本，这些字段对于使用 CSS 的浏览器来说是隐藏的。

脚本现在必须解析 HTML 和 CSS，然后找出 CSS 与 HTML 的关系——这不是你花 5 分钟就能完成的事情。

通过利用浏览器*具有*而脚本没有的能力，可以做更多的事情，也许首先要考虑的是 Javascript。基本上没有一种脚本语言能够完全解释 Javascript *和*，提供浏览器拥有的所有原生 Javascript 对象。首先，用 Javascript 设置一个 cookie，这是服务器在允许 POST 之前需要的，需要脚本从 Javascript 中提取这些信息*和*发送正确的 cookie 头(需要更多的复杂性)。最极端的情况是，XMLHttpRequest 可以用来获取一些更重要的信息，一旦页面加载完毕，就可以发表评论。

这只是一些具体的想法。现在的情况似乎是，我们正在寻找牢不可破的解决方案。不幸的是，想出既牢不可破又用户友好的东西是不可能的。

在我看来，更简单的方法就是与垃圾邮件发送者进行一场开发军备竞赛，这对于一个使用浏览器的普通访问者来说是“看不见的”。到了编写垃圾邮件工具需要大量开发时间和技能的地步，就不值得再花力气了。如果有人设法为你的博客编写了垃圾邮件工具，至少你会知道他们是 Mozilla 核心开发团队的一员。

不管怎样，这是我从远处看到的景象。如果错了就说出来。

## 分享这篇文章