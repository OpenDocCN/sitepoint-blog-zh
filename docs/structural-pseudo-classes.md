# 结构伪类

> 原文：<https://www.sitepoint.com/structural-pseudo-classes/>

以下是我们的书的摘录，由 Alexis Goldstein、Louis Lazaris 和 Estelle Weyl 撰写的《真实世界的 CSS3，第二版。世界各地的商店都有出售，或者你可以在这里买到电子书。

到目前为止，我们已经看到了如何根据元素的属性和状态来定位元素。CSS3 还使我们能够简单地根据元素在标记中的位置来定位元素。这些选择器被分组在标题[结构伪类下。](https://www.w3.org/TR/css3 selectors/#structural-pseudos)

这些现在看起来可能很复杂，但是当我们以后研究应用它们的方法时，它们会变得更有意义。这些选择器在 IE9 和更新版本以及所有其他浏览器的当前和旧版本中受支持，但在 IE8 和更低版本中不受支持:

`:root`

根元素，也就是 HTML 文件中的`html`元素。

`E:nth-child(n)`

元素`E`是其父元素的第`n`个子元素。在下面的注释中解释了`n`参数。

`E:nth-last-child(n)`

元素`F`是其父元素`E`的第`n`个子元素，从最后一个开始倒数。`li:nth-last-child(1)`将匹配任何列表中的最后一项这与`li:last-child`
相同(见下面的注释)。

`E:nth-of-type(n)`

在给定的父元素中是其类型的第`n`个元素的元素。下面的注释解释了`:nth-child`和`:nth-of-type`之间的区别。

`E:nth-last-of-type(n)`

类似于`nth-of-type(n)`，除了从父元素的最后一个元素开始向后计数。

### 注意:结构选择器的参数

有四个伪类将等式`an+b`作为括号中的参数，或者关键字`odd`和`even`。结构伪类包括`:nth-child(an + b)`、`:nth-last-child(an + b)`、`:nth-of-type(an + b)`和`:nth-last-of-type(an + b)`。在等式`an+b`中，`a`是整数形式的乘数，`b`是整数形式的偏移量，`n`始终是变量`n`。

在最简单的情况下，可以传递一个整数。例如，`E:nth-of-type(3)`将目标指向单个父元素的第三个`E`元素子元素。您可以传递两个关键字`odd`或`even`中的一个，以其他所有元素为目标。你也可以更有力地传递一个数字表达式，比如`E:nth-of-type(3n+1)`。`3n`表示每第三个元素，定义频率，`+1`是偏移。默认偏移量是零，因此`:nth-of-type(3n)`将匹配序列中的第 3、第 6 和第 9 个元素，`:nth-of-type(3n+1` 将匹配第 1、第 4、第 7 个元素，依此类推。

负偏移也是允许的。CSS 基于语言学语言，而不是编程语言，所以计数从`1`而不是`0`开始。乘数`a`和变量`n`之间不能有空格，偏移量必须在最后。

有了这些数字伪类，您可以精确定位您想要定位的元素，而无需向标记中添加类。最常见的例子是一个表格，其中每隔一行的颜色稍微深一点，以便于阅读。我们曾经不得不为每个`tr`添加奇数或偶数类来实现这一点。现在，我们可以简单地声明`tr:nth-of-type(odd)`来定位每一个奇数行而不触及标记。你甚至可以更进一步，用三色条纹的桌子:目标`tr:nth-of-type(3n)`、`tr:nth-of-type(3n+1)`和`tr:nth-of-type(3n+2)`，并对每张桌子应用不同的颜色。

`E:first-child`

元素`E` if `E`是其父元素的第一个子元素。这和`E:nth-child(1)`一样。

`E:last-child`

元素`E`如果`E`是其父元素的最后一个子元素，与`E:nth-last-child(1)`相同。

`:first-of-type`

同`:nth-of-type(1)`。

`E:last-of-type`

同`:nth-last-of-type(1)`。

`E:only-child`

元素`E`，如果`E`是其父元素的唯一子元素。

`E:only-of-type`

元素`E`，如果`E`是类型`E`的唯一元素，并且是其父元素的直接子元素。

### 注意:子类型与类型

在使用结构选择器`nth-of-type`和`nth-child`时，理解这种情况下 child 和 type 的含义是很重要的。Child 查看与计数匹配的所有子元素，并检查前驱元素是否匹配。Type 首先查找与前身匹配的所有元素，然后根据计数进行匹配。

在`p:nth-child(3n)`的情况下，浏览器查看一个父母的每三个孩子。如果那个孩子是`p`，有匹配；如果没有，没有匹配。在`p:nth-of-type(3n)`的情况下，浏览器查看父节点的所有`p`子节点，每三个匹配一个`p`。

结构伪类基于父类，并对每个新的父类重新开始计数。它们只查看父元素的直接子元素。文本节点不是等式的一部分。

`E:empty`

没有子元素的元素；这包括文本节点，所以`<p>hello</p>`和`<p> </p>`不会被`p:empty`匹配，但是`<p></p>`和`<p><!-- comment --></p>`会被匹配。这个选择器也匹配空的或者无效的元素，比如`<br>`和`<input>` 。在 CSS 选择器级别 4 中，我们将得到与`<p> </p>.`匹配的`p:blank`

`E:lang(en)`

语言中由两个字母缩写表示的元素，如`en`。不像`E:[lang|=en]`中的`lang`属性必须作为元素`E`的一个属性出现，如果在元素本身或任何祖先上声明了语言，`E:lang(en)`将匹配`E`。

`E:not(exception)`

这是一个特别有用的方法:它将选择那些与括号中的选择器不匹配的元素。

带有`:not`伪类的选择器匹配冒号左边的所有内容，然后从匹配的组中排除也匹配冒号右边的内容的元素。左手边的匹配先进行。例如，`p:not(.copyright)`将首先匹配文档中的所有段落，然后从集合中排除同样具有`copyright`类别的所有段落。可以把几个`:not`伪类串在一起。`input:not([type=checkbox]):not([type=radio])`将匹配页面上的所有`input`元素，除了那些类型为`checkbox`或`radio`的元素。

## 分享这篇文章