# Ctype 函数简介

> 原文：<https://www.sitepoint.com/an-introduction-to-ctype-functions/>

Ctype 扩展提供了一组函数，用于验证字符串中的字符是否属于正确的类型。在本文中，我们将看看字符类型函数使用的语法，看看有哪些特定的函数，以及如何使用它们来执行验证。

如果您运行的是 PHP 4.2 或更高版本，该扩展是默认启用的。如果你因为某些疯狂的原因不能忍受这个扩展与你的安装一起运行，那么你可以使用`--disable-ctype` compile 开关来关闭它。

如果你有 C 语言的背景，那么你可能已经熟悉了字符类型函数，因为这是它们的来源(不要忘记 PHP 实际上是用 C 语言编写的)。但是如果你对 Python 感兴趣，那么指出 PHP Ctype 函数与 Python 的 ctypes 库完全无关是公平的。这只是那些悲惨的和完全不可避免的命名相似性之一。

## 那么它是如何工作的呢？

一切都很简单。正如我前面提到的，这些函数检查字符串值，以查看字符是否在给定的范围内，或者每个字符是否都是适当的类型。例如，您可以使用这些函数来查看一个字符串是否只包含大写字符，或者它是否是数字，或者它是否包含十六进制字符，或者其他十几个可用选项中的一个。

你应该努力确保你总是传入一个字符串。当然，您可以传入整数，但是您正在给自己设置麻烦，因为 PHP 手册在每个函数的页面上都注明了:

> 如果提供了一个介于-128 和 255 之间(包括-128 和 255)的整数，它将被解释为单个字符的 ASCII 值(负值加上 256，以便允许字符在扩展的 ASCII 范围内)。任何其他整数都被解释为包含该整数的十进制数字的字符串。

来自`ctype_digit()`页面的这个例子说明了这一点的影响:

```
&lt;?php
$numeric_string = &quot;42&quot;;
$integer        = 42;

ctype_digit($numeric_string); // true
ctype_digit($integer);        // false (ASCII 42 is '*')

is_numeric($numeric_string);  // true
is_numeric($integer);         // true
```

如果我们看上面的代码，第一行的值为 true。然而，第二种说法是错误的。诚然，42 是一个整数，但是 ctype 语句将其作为单个 ASCII 字符进行计算，在本例中是一个星号。

当然，Ctype 函数并不是验证数据的唯一方法。您也可以根据需要使用`is_numeric()`功能。它将数字视为数字，并返回真值，如下所示:

```
&lt;?php
is_numeric($numeric_string);  // true
is_numeric($integer);         // true
```

还有其他的`is_*`功能，包括`is_float()`、`is_integer()`等。

为什么我们在这里讨论`is_*`函数？只是想提醒你给猫剥皮的方法不止一种。实际上，在今天这个时代，我可能不应该这么说。只是一种表达方式。不要剥了你的猫的皮，然后告诉每个人这是我的主意。只是做事有多种方式。

## 有哪些功能可用

我已经暗示了广泛的检查是可用的，但是究竟哪些功能是可用的呢？有什么样的检查？列表如下。

*   `ctype_alnum()`–检查字母数字字符(A–Z，大写或小写，0-9，无特殊字符、标点符号或其他畸形字符)。
*   `ctype_alpha()`–检查字母字符(A-Z，大写或小写)。
*   `ctype_cntrl()`–检查控制字符(如`n`等)。).
*   `ctype_digit()`–检查数字字符(0-9，无小数点、逗号等。).
*   `ctype_graph()`–检查可视可打印字符(非控制字符或空格)。
*   `ctype_lower()`–检查小写字符(仅 a-z 小写，无数字)。
*   `ctype_print()`–检查可打印字符，包括控制字符和空格。
*   `ctype_punct()`–检查标点类型字符(无数字、字母或空格)。一般来说，这些包括许多“脏话”字符，我们通常称之为“特殊”字符。@ &！#
*   `ctype_space()`–检查空白字符(包括空格和任何在页面上留下空格的控制字符，如“窄的不间断空格”和“蒙古文元音分隔符”)。
*   `ctype_upper()`–检查大写字符(仅 A-Z 大写，无数字或特殊字符)。
*   `ctype_xdigit()`–检查十六进制字符。

## 如何使用它们

使用 Ctype 函数非常简单。一般来说，你只需要在 if 语句中设置它，如果你测试数组中的一些值，有时会嵌入到循环中，然后检查函数调用的结果是真还是假。True 意味着该字符串中的每个字符都是该特定函数所调用的字符类型。

这里有一个例子:

```
&lt;?php
if (ctype_alnum($string)) {
    echo &quot;This string totally works&quot;;
}
else {
    echo &quot;And this one not so much&quot;;
}
```

如果`$string`的值是“Azxc1234 ”,那么你会看到消息说它工作了。如果`$string`是“123#Axy ”,那么它不会，因为#不是字母数字字符。

注意，如果你传入一个空字符串，函数将在 PHP 5.1 和更高版本中为假，但如果你在早期版本中则为真(这是现在升级的另一个原因！).

还要记住确保 Ctype 函数的输入是一个字符串！有疑问的时候，投出来也无妨。

```
&lt;?php
$integer = 42;

ctype_digit($integer);         // false
ctype_digit((string)$integer); // true
```

## 结论

这就是全部了！这些函数应该是 PHP 安装的一部分(如果不是，那么你肯定需要升级或者停止设置奇怪的 PHP 设置)。只要你只输入字符串，它们就很容易使用。

那么你会在哪里使用它们呢？好吧，任何时候你需要从一个表单中引入一个字符串，你可以用它们来测试你正在处理的数据的有效性。真的，前途无量。(幸运的是，我不必公开或私下表明你使用它们的目的；我只说功能是什么，怎么用)。

图片 via[Fotolia](http://us.fotolia.com/?utm_source=sitepoint&utm_medium=website_link&utm=campaign=sitepoint "Royalty Free Stock Photos at Fotolia.com")

## 分享这篇文章