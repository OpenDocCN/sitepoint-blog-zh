# 加入团队前你需要知道的 10 个 Git 技巧

> 原文:[https://www . site point . com/git-techniques-to-know-before-you-join-a-team/](https://www.sitepoint.com/git-techniques-to-know-before-you-join-a-team/)

您是否已经使用 Git 有一段时间了，但从未在团队环境中使用过？你熟悉 Git 的基础知识，但不确定大型团队在工作中如何使用 Git 吗？

在这篇文章中，我将谈论在你加入一个团队之前你必须熟悉的基本 Git 技术。我已经按照逻辑顺序列出了它们，因为每一步的重要性都是至关重要的。现在让我们进入列表。

## 1.克隆:团队起步

如果您已经在个人项目中使用了 Git，那么您可能只是从零开始初始化了一个项目，并随着时间的推移添加了一些内容。当您在现有的代码库上工作时，第一步是将代码库克隆到您的本地系统中。这使您能够在不受其他变更干扰的情况下处理您的存储库副本。

要克隆一个存储库，运行`git clone`命令，后跟存储库的路径:

```
git clone /path/to/repo 
```

如果您的源不在同一个系统中，您也可以 SSH 到远程系统并进行克隆:

```
git clone username@remote_system_ip:/path/to/repo/on/remote 
```

如果您是从互联网上的源进行克隆，您只需添加 URL:

```
git clone https://github.com/sdaityari/my_git_project.git 
```

无论何时克隆一个存储库，您都可以选择多种协议来连接到源。在上面的 GitHub 例子中，我使用了`https`协议。

## 2.在 Git 中管理远程

一旦您克隆了您的存储库，它仍然会维护一个指向源代码的指针。这个指针是 Git 中一个远程的例子。远程是指向同一个存储库的另一个副本的指针。当您克隆一个存储库时，会自动创建一个指向源的指针`origin`。

您可以通过运行以下命令来检查存储库中的远程列表:

```
git remove -v 
```

要添加遥控器，您可以使用`git remote add`命令:

```
git remote add remote_name remote_address 
```

您可以使用`git remote remove`命令移除遥控器:

```
git remote remove remote_name 
```

如果您想更改遥控器的地址，您可以使用`set-url`命令:

```
git remote set-url remote_name new_remote_address 
```

## 3.Git 中的分支

Git 相对于其他版本控制系统的最大优势是其分支的强大。在我进入分支的本质之前，你可能想知道*分支是什么*。分支是指向存储库中提交的指针，而提交又指向它的前任。因此，一个分支代表一个按时间顺序排列的提交列表。当您创建一个分支时，您实际上只创建了一个指向提交的新指针。然而，从本质上讲，它代表了一条新的、独立的发展道路。

如果你一直在做你自己的项目，你可能从来没有有意识地使用分支。默认情况下，Git 使用`master`分支进行开发。任何新的提交都被添加到这个分支。

对于 Git 来说，分支是将项目中的工作分成两部分所必需的。在同一时间，可能有许多开发人员在处理各种不同的问题。理想情况下，这些问题在不同的分支中处理，以确保新代码的逻辑分离，直到代码审查和合并。

要检查分支列表和当前活动分支，请运行以下命令:

```
git branch 
```

要创建新分支，请运行以下命令:

```
git branch new_branch 
```

即使 Git 创建了一个新的分支，请注意您的活动分支仍然是旧的分支。要在新的分支中开始开发，请运行以下命令:

```
git checkout new_branch 
```

要创建新分支并更改活动分支，请运行以下命令:

```
git checkout -b new_branch 
```

要重命名当前分支，请运行以下命令:

```
git branch -m new_renamed_branch 
```

使用`-D`选项删除一个分支:

```
git branch -D new_renamed_branch 
```

这里有一个关于 Git 中[分支的详细指南。](https://www.sitepoint.com/git-branching/)

## 4.更新您的本地存储库:合并

虽然我们已经检查了 Git 中分支的基础，但是下一个合乎逻辑的步骤是当您完成一个问题时，将一个分支合并到您的基本分支中。若要合并分支，请运行以下命令:

```
git checkout base_branch
git merge new_branch 
```

虽然这听起来像是一个简单的过程，但合并可能是 Git 中最耗时的过程，因为它可能会引起冲突。

## 5.处理冲突

假设您正在一个新的分支机构中处理一个文件。提交更改后，您请求 Git 将您的新分支与您的基本分支合并。但是，自从您创建新分支后，基本分支中相同文件的相同部分已经更新。Git 如何决定保留哪些更改，放弃哪些更改？

Git 总是试图在合并过程中不丢失任何数据。如果对同一个文件的更改是在文件的不同部分完成的，您可以通过保留两组更改来避免这种情况。但是，如果 Git 无法决定保留哪些更改，就会引发冲突。

当出现冲突时，在您的存储库上运行`git status`会显示在两个被合并的分支中被修改的文件列表。如果您打开任何有冲突的文件，您会注意到以下几行:

```
<<<<<<<< HEAD
...
...
========
...
...
>>>>>>>> new_branch 
```

在`<<<<<<<< HEAD`和`========`之间的文件部分包含了存在于基本分支中的代码。`========`和`>>>>>>>> new_branch`之间的代码行出现在`new_branch`分支中。合并代码的开发人员有责任决定代码的哪一部分(或者两部分的混合)应该包含在合并中。编辑完成后，删除显示的三组行，保存文件，并提交更改。

## 6.与远程同步更改

虽然我们已经讨论了如何在新分支中提交代码，并将其与基本分支合并，但现在让我们看看如何将代码与远程同步。在将更改发布到远程系统之前，您需要更新存储库的本地副本，以考虑自上次更新以来可能发生的任何更改。要从远程更新更改，请运行以下命令:

```
git pull remote remote_branch:local_branch 
```

`git pull`命令首先从远程下载数据，然后按照命令中的指定与本地分支合并。从远程设备拉取更改时也会产生冲突。在这种情况下，冲突文件中的最后一行将包含`>>>>>>>> commit_hash`而不是`>>>>>>>> new_branch`，其中`commit_hash`将是添加到您的分支的提交的标识散列。

要在与来自远程的最新代码合并后将更改发布到远程，请使用`git push`命令:

```
git push remote local_branch:remote_branch 
```

## 7.云上的 Git:分叉

如果你的团队在云上工作，你会被引入一个叫做 fork 的额外的概念。fork 是您的用户名下的云的中央存储库的副本。您可以对 fork 进行写访问，这是一个安全的地方，您可以在不影响原始存储库的情况下进行修改。

这影响了我上面提到的技术步骤。您克隆了您的分支，因此您的本地存储库的`origin`指向您在云上的分支。那么，如何从最新的存储库中获取更新呢？您需要手动添加一个 remote，`upstream`，它指向原始存储库。

虽然您可以轻松地将更改发布到 fork，但是如何让新代码被原始存储库接受呢？这使我们进入下一步。

## 8.通过拉请求进行代码审查

拉请求是将代码从一个分支合并到另一个分支的请求。这是一个自 Git 云服务流行以来发展起来的概念。一个 pull 请求总结了两个分支之间的比较，并引发了开发人员和组织管理员之间的讨论。

![A conversation on GitHub](../Images/027056cb018f74dd419004077a74aa11.png)

在合并之前，代码审查可能会导致更多的变更。当管理员对变更感到满意时，它可以与存储库合并。

## 9.了解 Git 工作流

当你独自在一个项目中工作时，你可能只使用一个分支。不知不觉中，您遵循了集中式或主干式工作流，其中所有的更改都是在单个分支中进行的。

下一个更复杂的工作流是特性分支工作流，在这个工作流中，一个单独的分支被归属于每个特性或者 bug 修复。没有开发直接发生在`master`或`development`分支上。

包含多种情况的 Git 工作流是 Gitflow 工作流。它有独立的开发、特性、发布和补丁分支。

这里有一个关于 Git 工作流程的详细指南。

## 10.处理大文件:Git LFS

虽然 Git 在处理文本文件方面做得很好，但是它无法跟踪二进制和可执行文件的变化。虽然您可以将这样的文件添加到 Git 中，但是随着提交数量的增加，这可能会导致存储库变得很大。

解决方案是使用 [Git 大文件存储](https://git-lfs.github.com/)，通过 Git 处理大的二进制文件。这个工具将这些文件存储在云上，并用文本指针替换它们。这里有一个[使用 Git LFS 跟踪 Photoshop 设计文件](https://www.sitepoint.com/guide-versioning-large-files-with-git-lfs/)的实现。

## 进一步阅读

在这篇文章中，我谈到了第一次加入团队时可能对你有帮助的各种 Git 技术。我希望它对你未来的准备有所帮助。我错过了什么吗？一定要在 Twitter 上让我知道！

要更深入地了解 Git，请查看以下资源:

*   Jump Start Git :简明指南，让你在一个周末就能快速上手。
*   职业 Git :一次更深入的探索，带你走向 Git 的掌握。

## 分享这篇文章