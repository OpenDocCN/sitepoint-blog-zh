# 避免 JavaScript 单一文化

> 原文:[https://www.sitepoint.com/javascript-monoculture/](https://www.sitepoint.com/javascript-monoculture/)

*这篇文章由[汤姆·格列柯](https://www.sitepoint.com/author/tgreco/)、[丹·普林斯](https://www.sitepoint.com/author/dprince/)和[马洛里·范·阿赫特博格](http://stommepoes.nl/)进行了同行评议。感谢 SitePoint 的所有同行评审员使 SitePoint 的内容尽可能做到最好！*

JavaScript 作为一种语言，有一些根本性的缺点——我想我们大多数人都同意这一点。但是每个人对缺点到底是什么有不同的看法。

Christoffer Petterson 最近写道“ [JavaScript 只需要成为更好的语言](http://blog.christoffer.me/no-we-havent-forgotten-how-to-code-javascript-just-needs-to-become-a-better-language/)”——关于 JavaScript 标准运行时的缺点，以及这如何创造了微包和多填充的文化。

在这篇相关的观点文章中，我想挑战这个观点:

JavaScript 语言和运行时的缺点并不是我们拥有微包或聚合填充的根本原因。T3】

虽然标准运行时库的各种缺点是创建微包的显而易见的直接原因，但我认为这种观点实际上掩盖了一个更深层次的潜在问题。

至于对语言本身的缺点或标准运行时间的看法，重要的是要认识到每个开发人员都有不同的背景、不同的经验、不同的需求、性情、价值观和一系列其他的*文化*动机和关注——个人的看法总是很大程度上是个人的，在某种程度上，本质上是非技术性的。

对我来说，对语言本身的缺点的最好回答是打字稿，但我知道这不是每个人都喜欢的。对一个人来说，它是 CoffeeScript，对另一个女孩来说，它是 Dart、Scala、Go、Rust 等等。

我的观点是:根本问题既不是标准运行时库的缺点，也不是语言本身的任何特定技术缺点。

真正的问题是我们缺乏拥抱文化多样性的意愿。

## 一种尺寸不适合所有人

似乎有一种越来越普遍的错觉，认为我们可以以某种方式让 JavaScript 成为所有人和所有事物的理想语言。

像 ES6 这样的计划，虽然看起来有所改善，但实际上是朝着错误的 T2 方向迈出了一步。

例如，那些喜欢经典继承的人可能喜欢增加 class 关键字，而其他人可能会拒绝它，因为它与原型继承模型的思想相冲突。

同样，这都是基于观点的，由于大量的开发人员依赖这项技术作为他们的面包和黄油，围绕模式、反模式、实践、事实上的标准、微包、聚合填充、框架、构建工具等形成了子社区和宗教信仰。

## 少即是多

到目前为止，JavaScript 已经无处不在，足以影响软件行业中的每一个程序员——这个软件行业在历史上并不以能够快速一致地就任何事情达成一致而闻名。

在我看来，这个问题首先不是技术性的，而是文化性的。

我们真正需要的不是语言或运行时的另一次迭代，而是从“通用”语言和运行时的强迫观念中解放出来。

换句话说，我们需要在更低的层次上标准化事物。我们需要弄清楚我们*能够*达成一致的是什么，并且避开关于语言细节和运行时特性的个人的和感性的观点。

我们需要标准化培养皿，而不是整个文化。

在我看来，这意味着两件事之一:

1.  我们标准化 JS 的有限子集(例如[ASM . JS](http://asmjs.org/))——避免 JavaScript 语言的未来迭代、竞争超集和 transpilers 的无休止斗争，或者
2.  我们调整了我们的观点，同意接受 JavaScript 的本来面目，但是开始把它看作是其他语言的一种虚拟机。

从某些方面来说，后者已经被探索了好几年了——但是还没有达到必要的规模来消除 JavaScript 作为你必须学会适应的语言，不管它是否适合你。

尽管编译成 JavaScript 的语言种类越来越多，但语言本身仍然是 web 开发的客户端和服务器端生态系统中的主导语言。用编译成 JavaScript 的语言取代 JavaScript 的想法已经被探索过了，不管出于什么原因，它并没有真正把任何人从 JavaScript 中解放出来。

这就剩下选择一:缩小问题的范围。简化。

具有讽刺意味的是，我们今天所做的，本质上是相反的:我们没有减少问题的范围，而是继续扩大它，有效地增加了每个人的细节和问题的数量。

## 向前两步，向后三步

尽管像 ES6 这样的倡议最终将事情“向前”推进了一些(在太多年几乎停滞不前之后),但语言和运行时的发展对其他人来说实际上已经“向后”推进了——尽管有些东西*终于*改变了*了，这立即引起了兴奋，但整个过程仍然停留在相同的历史僵局中。*

ES6 让一些开发者更高兴，而另一些则不太高兴。

在我看来，JavaScript 的一个子集(asm.js 或类似的东西)需要在更大的范围内出现，并且需要变得更加容易访问和普遍存在。

以我自己有些激进的观点来看，为了实现这一点，JavaScript 语言和运行时需要被“废弃”。

当然，并不是说 JavaScript 需要消失。我没有*疯。*

但是从某种意义上说，它需要通过脐带与客户机和服务器平台分离。

JavaScript 需要飞出它舒适的巢穴，学会独立生存，与其他语言和运行时平等相处。是时候长大了，孩子。

如果 JavaScript 脱离了客户端和服务器平台，那么单一文化的压力将会消除——JavaScript 语言或运行时的下一次迭代将不再需要取悦世界上的每一个开发人员，而是可以专注于取悦更少的热爱 JavaScript 并因之而繁荣的开发人员，同时使其他人能够转移到替代语言或运行时。

这对 JavaScript 和其他语言来说更好。

消除软件开发历史上最大的单一文化(T1)将意味着我们，社区，最终可以同时负责语言和运行时，并开始迭代和发展这些独立于浏览器/服务器平台、供应商和组织的 T2(T3)，所有这些都朝着不同的方向发展，努力控制标准，并且(也许最重要的是)将整个开发人员社区从一种语言统治他们的群体压力(T4)中解放出来。

我们的语言和运行时间将由 cdn 托管和分发，而不是放在我们的客户端和服务器环境中，在那里它们变得有风险且难以更改——每次迭代都需要数年时间来达成一致，并且在传播到浏览器时还要经历额外痛苦的数年时间。

想象一下这样一个世界，你可以在 JavaScript 的下一个版本*发布的同一天将你的应用程序升级到下一个版本*。

想象一下，一个 JavaScript 进化到满足那些真正想要使用这种语言的人的需求——而不是成为意见的最小公分母，包括那些真正想使用另一种语言的人。

**试图取悦*每个人*，用*一件事*，总是以无法完全取悦*任何人*的交易告终。**

## 标准:好，一致性:差

不要误解我——标准是伟大的。*均匀性*不好。

从人类学的角度来看，我们茁壮成长是因为我们有能力适应不同的条件并使自己多样化。我们的好奇心和求知欲给了我们视角，丰富了我们的文化。谦虚地说，开发者文化是文化财富的一部分，我们需要接受它。

试图强迫这一点为所有人服务是最糟糕的做法。

总之，这是一篇*观点*文章——因此，当然，我欢迎你的观点，并希望这能产生一些深思熟虑的、建设性的评论，而不仅仅是火焰；-)

## 分享这篇文章