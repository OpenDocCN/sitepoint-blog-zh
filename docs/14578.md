# 用 Drupal 建立一个在线社区

> 原文：<https://www.sitepoint.com/build-online-community-drupal/>

作为场所的网络。对于 SitePoint 用户来说，这不是一个陌生的概念，也不是一个抽象概念。你们为我们称之为网络的地方奠定了基础。但是在过去的几年里，网络上“位置”的概念已经发生了转变。今天，这个地方比以往任何时候都更像是志同道合的网络用户的社区；人们聚集在一起，形成一个连贯的、近乎有机的核心。作为有机体的技术；作为场所的网络。

乍一看，网络社区的兴起似乎既新鲜又自然。事实上，网络社区的种子深深植根于网络本身。布告栏系统比网络早了好几年，说真的，它们不就是社区吗？IRC 和 chat 在网络发展的早期就占据了一席之地。再次，社区。社区现在作为一个新概念出现，实际上只是用来创建它们的工具进化的结果。这些工具使得社区更具互动性，更易于使用和管理，也更具吸引力。在过去的几年里，将不同的点连接成一个高分辨率的图片——一个社区——的概念又回到了原点。

##### 一点历史

今天，有许多工具是为基于网络的社区而设计的。有人可能会说，现代社区模式始于 Slashdot 的推出。构建类似斜杠的社区的代码很容易获得。有些人可能会指出 Kuro5hin 社区是原型。对社区建设感兴趣的人也可以获得这份代码。这些工具具有不同程度的管理和用户易用性，是实现社区建设目标的有用手段。

包括我在内的一些人认为，此时此刻，社区中真正的革命正在发生。网络只是提供了社区形成的空间。这些社区本身越来越成为比以往任何时候都更有分量和影响力的运动。2003 年至 2004 年的美国总统竞选被证明是网络社区发展的分水岭。MeetUp 和 Daily Kos 对网络用户的激励远远超出了网络领域。它们提供了工具和空间，用户可以在其中激励自己和彼此走向网络之外的政治激进主义。

需要进一步证明社区建设在政治中的价值吗？只要看看两场明显“明白了”的美国总统竞选就知道了，它们利用在线社区建设来形成和培养比以往任何时候都更强大的政治声音。虽然竞选没有持续，但他们建立的社区的影响将在未来几年和选举中被感受到。

一个强有力的例子是 Clark 社区网络(CCN)，这是 Cameron Barrett 和韦斯利·克拉克竞选总统时创立的。基于对 Kuro5hin 工具 Scoop 的修改，CCN 为 Clark 的支持者和感兴趣的观察者提供了真正的双向交流。用户被分配到他们自己的博客空间，由社区的其他成员投票否决或投票放到首页。在不到六周的时间里，CCN 从创建到推广，拥有了 5000 多名活跃用户。在高峰期，该社区帮助 Clark '04 网站的总流量达到每天超过 175，000 个独立访问者。这对候选人和支持者来说都是一个强有力的论坛。

但是 2003-2004 年竞选中最著名的政治团体是 DeanSpace 网站。基于 Drupal，DeanSpace 和它的姐妹 Dean for America 都被广泛认为是将政治置于在线地图中心的社区。迪安社区的焦点不仅仅是讨论，而是动员起来支持霍华德·迪恩。这些社区凭借他们的影响力和力量席卷了美国媒体。这种关注最终将博客和社区的概念推到了技术和大众媒体报道的前沿。

那么，这个 Drupal 工具是什么，它甚至抓住了狭隘的美国政治媒体的兴趣？简单地说，它是一个易于定制的 PHP 代码开源包，您也可以用它来创建一个在线社区。不管您的社区需求是什么——遛狗、中国跳棋、芝加哥蓝调或者政治——Drupal 都可以快速、轻松地为您的社区奠定基础。让我们把社区价值观的改变暂时放在一边，只要有足够的时间来用画笔描绘基本的概念和技术。

##### 安装和配置 Drupal

Drupal 将自己标榜为“社区管道”。你可以在 http://drupal.org 下载 Drupal 的肘关节和排水管的源代码。版本 4.1.1 是最新版本，于 5 月 1 日发布。安装要求很低:Apache Web 服务器、PHP 和 MySQL 数据库安装。这些是推荐的工具，尽管任何支持 PHP PEAR 库的数据库服务器都可以。

在解包源代码之前，您需要检查一些 PHP 配置设置。在/etc/php.ini 文件中，确保您拥有以下内容:

`magic_quotes_gpc  0
 session.save_handler  user`

默认情况下，PHP4 还通过 XML 扩展提供对 RSS 联合和 Blogger API 的支持。如果您想在您的社区中使用干净的 URL，您还需要在 Apache 服务器上启用`mod_rewrite`和`.htaccess`功能。

设置好 PHP 和服务器配置后，提取源代码并将其复制到 Web 服务器的 DocumentRoot:

`tar -zxvf ~/source/drupal-4.1.1.tar.gz
 cp -r drupal-4.1.1/* /var/www/html`

接下来，您将使用`mysqladmin`工具设置 Drupal 数据库。下面的例子使用`root`来创建数据库。相应地调整你的`mysqladmin`命令。按照这个例子，新数据库将被命名为“drupal”。

`mysqladmin -u root -p password create drupal`

现在，登录 MySQL 监视器:

`mysql -u root -p password`

在数据库上创建 Drupal 用户权限。在下面的例子中，“drupal_user”是您正在为其创建权限的数据库用户。该用户不需要存在；设置权限将创建适当的数据库条目。“localhost”是本地数据库服务器,“drupal_pass”是您分配给 drupal_user 帐户的密码。

`GRANT ALL PRIVILEGES on drupal.* to 'drupal_user'@'localhost' identified by 'drupal_pass'`

要完成数据库设置，请使用以下命令刷新权限并退出 MySQL monitor:

`flush privileges;
 q`

现在，您可以使用 Drupal 包中提供的 create 脚本来创建 Drupal 数据库表。您需要将目录更改为服务器 DocumentRoot，并执行 MySQL，将数据库脚本作为输入提供给它:

`cd /var/www/html
 mysql -u drupal_user -p drupal_pass < database/database.mysql`

设置好 Drupal 数据库后，是时候深入配置文件进行一些最小的特定于站点的调整了。

Drupal 安装目录包含一个 include 子目录。这是配置文件所在的位置。您需要在这个文件中设置数据库目录和站点的基本 URL。在您喜欢的文本编辑器中，将 includes/conf.php 的`$db_url`行设置为:

`$db_url = "mysql://drupal_user:drupal_pass@localhost";`

这一行为您的安装设置数据库目录。接下来，通过编辑下面一行来设置基本 URL:

`$base_url = "http://your.url.here";`

这是您的 Drupal 安装的公共地址。只需十三个小步骤，您的 Drupal 安装就可以连接浏览器了。

第一次打开 Drupal 时，您将创建一个帐户。第一个帐户将成为您系统的管理员帐户。像往常一样，仔细选择用户名和密码。

Drupal 的管理特性提供了令人眼花缭乱的选项。为了理解这些选项，首先理解底层的结构哲学是很重要的。

##### 了解基本 Drupal 安装

Drupal 将附加到系统上的每一部分内容都呈现为一个节点。您可能已经猜到，这类似于一个网络，其中每台台式机、服务器和打印机都是一个网络节点。对于 Drupal 来说，这些节点由与站点内容相关的任何内容组成。Drupal 系统的基本节点包括许多部分，比如标题、作者、正文、评论、投票、分数、用户和作者日期。其他节点类型包括投票、静态页面、个人博客条目、论坛主题和图书页面。总的来说，这些分散的部分构成了 Drupal 系统的核心。

与 Drupal 的节点系统并行的是它的块模式。将这些块视为可见的用户和管理工具。块是您(作为管理员)和您的用户访问其他工具或查看系统信息的网关。这些模块包括登录、导航、最近投票、在线用户、新用户和博客。如果您为 Drupal 管理带来了一些 PHP 经验，那么创建特定于您的社区目的的块是一件容易的事情。事实上，Drupal 作者已经提供了大量的文档来帮助您这样做。我们一会儿会看几个例子。

单单节点和块就使 Drupal 成为一个强大的、易于配置的社区构建工具。但是，这个系统还有另一个层面。Drupal 安装幕后的重头戏是*模块*。事实上，模块控制两个块节点。它们扩展了 Drupal 安装的基本功能。模块可以启用或禁用，并使用用户适当的权限进行保护。关键模块包括:

*   管理–提供所有管理功能
*   块–控制主要内容周围的框
*   博客–为注册网站用户创建个人博客空间
*   用户–为用户提供注册和登录的能力
*   帮助–控制一个深入且非常有用的帮助系统
*   节点–允许向站点提交内容的核心模块
*   系统–允许站点的完全管理
*   配置文件–提供可配置的用户配置文件
*   跟踪器–跟踪最近发布到系统的帖子

节点、块和模块的组合非常强大。它提供了其他社区工具无法比拟的用户和管理粒度。后台有 PHP 和 MySQL 后端，配置选项几乎是无穷无尽的。在第一次登录新安装的 Drupal 系统时，仔细查看一下管理和配置选项是非常值得的。你会惊讶地发现有多少控制权就在你的指尖。

##### 为您的社区定制 Drupal

你到底想建立什么样的社区？政治是你汤里的饼干吗？你更倾向于创造性活动吗？写作，艺术，音乐？每种社区类型都有不同的功能需求。例如，政治社区应该总是提供论坛、分级评论和投票。你可能还想发送新的帖子信息到博客聚合器，比如 weblogs.com。这些特性可以在 Drupal 中作为模块启用。

虽然政治社区需要高水平的用户交互，但专注于更具创造性工作的社区可能只需要轻松的评论和在社区工作中协作的能力。在这类社区中，只需在 Drupal 中点击一下鼠标，就可以禁用“额外”功能。在建立一个功能太少或太多的社区网站之前，清楚地考虑你的社区需求是很重要的。

对于所有的前期规划，你的社区中功能的最终发言权将是用户。Drupal 的灵活性及其完整的默认特性集使得用最少的努力满足这些用户的需求变得很容易。

不过，有时您或您的用户会发现缺省的 Drupal 工具无法满足对某个特性的需求。如果您精通 PHP，您可以轻松地设计、测试和添加模块到您的安装中。Drupal 作者为创建这些模块提供了大量的说明和指导。您的编码感兴趣的是以下内容:

*   [编写主题化模块](http://www.drupal.org/book/view/3655)
*   [编写节点模块](http://www.drupal.org/book/view/188)
*   [使用配置文件数据和编写自定义 PHP 页面](http://www.drupal.org/book/view/951)

如果你对提供特性比编写特性更感兴趣，你可能会发现其他人已经完成了这项艰巨的工作。提供可下载 Drupal 模块的站点包括:

*   [Sourceforge.net](http://cvs.sourceforge.net/viewcvs.py/gwenview/drupal/modules)
*   [DeanSpace](http://deanspace.org/book/view/2013)
*   比特西泽公司
*   [皮层通讯](http://www.cortextcommunications.com/forum/5)

密切关注您的用户需求并做出修改以满足这些需求将有助于确保您的社区的增长。

##### 结论

网络是一个地方吗？从一开始就是这样。电子邮件、聊天和即时消息都有助于增强网络上的位置感。它们是一个汇集各种声音的地方，只要有适当的时间和关心，它们就会成为一个整体。维基、博客和政治网站中网络社区的激增，实际上是回归本源。它甚至席卷了主流媒体。这种激增让人们又一次看到了网络的人类潜力。

这种激增部分是由工具推动的；像 Drupal 这样的工具。只需一点点小心和最少的配置，您也可以为您的基于 Web 的社区安装管道。

## 分享这篇文章