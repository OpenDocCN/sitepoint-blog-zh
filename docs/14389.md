# 为什么需要编码标准

> 原文:[https://www.sitepoint.com/coding-standards/](https://www.sitepoint.com/coding-standards/)

最好的应用程序被正确编码。这听起来像是一个显而易见的说法，但我所说的“正确”是指代码不仅能很好地完成工作，而且易于添加、维护和调试。

这种“可维护的代码”是 PHP 开发人员和其他语言开发人员的热门话题。没有什么比继承一个应用程序或需要对需要大量精力来解密的代码进行更改更糟糕的了——您最终会在一行又一行的代码中搜寻，而这些代码并没有明确其目的或意图。如果不熟悉的代码布局合理，并且每样东西都有清晰的注释，解释任何复杂的结构及其背后的推理，那么浏览这些代码会容易得多。

在本文中，我将解释为什么编码标准不仅对单个开发人员或开发团队很重要，而且对脚本用户也很重要。

##### 问题是

当我们学习一门新的语言时，我们通常开始以一种特定的风格编码。在大多数情况下，我们会按照自己想要的风格写作，而不是别人建议的风格。但是一旦我们开始使用一种特定的风格编码，比如一种口语方言，它将成为第二天性——我们将在我们创建的所有东西中使用这种风格。这种风格可能包括我们用来命名变量和函数的惯例(例如，`$userName`、`$username`或`$user_name`)，以及我们如何评论我们的工作。任何风格都应该确保我们可以轻松地阅读我们的代码。

然而，当我们开始编码更大的项目并引入额外的人来帮助创建一个大型应用程序时，会发生什么呢？您编写代码的方式中的冲突肯定会出现。

##### 解决方案:编码标准文档

编码标准文档告诉开发人员他们必须如何编写代码。不同于每个开发人员以他们自己喜欢的风格编码，他们将按照文档中概述的标准编写所有代码。这确保了大型项目以一致的风格编码——不同的程序员编写的部分不会不同。这种解决方案不仅使代码更容易理解，还确保任何查看代码的开发人员都知道在整个应用程序中会发生什么。

编码标准是伟大的——但是您如何决定您想要应用哪些标准，以及它们将如何被定义？当您制定理想的编码风格时，您应该考虑以下几点:

1.  你真的能读懂代码吗？是否间隔清晰？

*   你把代码块分成“段落”以便不同的部分容易定义吗？
*   你是否使用缩进来显示控制结构(if、else、while 和其他循环)的开始和结束，以及其中的代码在哪里？
*   您的变量命名约定在整个代码中是一致的吗？它们是否简要描述了它们将包含的数据？
*   函数是根据它们的作用来命名的吗？

*   如果你在几周或几个月后再回到代码上，你能不需要查看每一行就知道发生了什么吗？*   你如何评论这部作品？*   您是否使用过复杂的语言函数/结构，它们编写起来更快，但会影响可读性？

一旦你考虑了这些要点，你就可以开始起草你的编码标准了。咨询你的团队成员(如果有的话),比较他们是如何按照你自己的风格编码的——你不应该强迫每个人完全改变。妥协并融入每个人风格的元素。如果有人已经用一种特定的方式编码很长时间了，那么开发人员将需要一段时间来改变新的方法。开发人员可能会逐渐采用这种风格，就像口音随着时间的推移而发展一样。

##### 创建可维护的代码

正如我们在讨论开始时所说的，您希望创建可维护的代码。如果你停止开发一个项目，几个月后再回到这个项目，或者把开发工作交给其他人，你(和其他开发人员)希望能够理解代码中发生了什么。我们一直在提到“可读性”，但究竟是什么构成了“可读代码”？对于每个程序员来说，这个问题的答案显然是不同的，但是我相信有一些共同的基础，我们现在就来讨论一下。我在这里用 PHP 概述了各种风格，但类似的想法也适用于其他语言:

```
// Method 1  

if (condition)  

function1($a, $b, $c); 

for ($i < 7 && $j > 8 || $k == 4)  

a($i); 

// Method 2  

if (condition) 

{ 

    get_user($id, $username, $key); 

} 

for (($i < 7) && (($j < 8) || ($k == 4))) 

{ 

    display_graph($value); 

}
```

这里有两种方法可以编写相同的代码——你可以看到易读的代码和复杂但更快编写的代码之间的区别。即使你不太懂 PHP，你也可能会注意到第二段代码更整洁，更容易理解。我用动词(`get`、`display`)来命名函数，用变量名来描述它们包含的数据，用括号来帮助显示什么是`for`条件。不仅如此，我还包括了控制结构的括号，并使用缩进来显示每个结构下出现的代码。

您自己对可读代码的想法可能与此略有不同，但我敢打赌，每个 PHP 程序员都可以很容易地理解第二个示例中发生了什么。然而，第一个例子需要额外的时间来理解。牺牲额外的行和空白将对代码的布局产生显著的影响。当你开发编码标准时，试着确保它们允许任何人在将来开发代码！

##### 不同的标准

PHP 示例代码和 Pear 模块(等。)一般用[梨编码标准](http://pear.sourceforge.net/en/standards.php)，和我上面用的方法略有不同。

我有自己的个人编码标准，我从 [phpBB 编码标准](http://area51.phpbb.com/docs/guide-standards.html)中采用了这些标准，因为我喜欢它们的编写方式。例如，在我自己的标准中，我将控制结构的大括号放在一个新行上:

```
if (condition) 

{ 

    get_user($id, $username, $key); 

}
```

但是在 Pear 标准中，第一个括号与`if`(条件)在同一条线上:

```
if (condition) { 

    get_user($id, $username, $key); 

} 
```

您选择的标准完全取决于个人偏好以及您认为最容易编码和阅读的内容。为了让你开始，我已经包含了一份我自己的标准供你下载。编码快乐！

## 分享这篇文章