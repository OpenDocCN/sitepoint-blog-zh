# HTML 乌托邦:使用 CSS 设计无表格，第 3 章:挖掘表面之下

> 原文:[https://www.sitepoint.com/css-3-digging-below-surface/](https://www.sitepoint.com/css-3-digging-below-surface/)

这一章完成了我们对 CSS“机制”的研究:使用这种技术需要的背景知识。它涵盖了六大主题:

1.  快速回顾为 HTML 文档分配 CSS 属性的三种方法

*   使用简写属性在单个语句中将一组相关属性的值分组*   样式表中继承机制的工作原理*   一种风格的结构，包括使用选择器来非常精确地确定受风格影响的内容*   可以出现在样式中以表示尺寸、位置和其他特性的单位和值，以及它们的使用方式*   CSS 注释，可用于在 CSS 代码中放置人类可读的注释

##### 将 CSS 应用于 HTML 文档

在第 1 章中，我介绍了将样式表属性应用于 HTML 文档的三种方法。我将在这里简要回顾一下，以唤起你的记忆。

**Inline styles** :我们可以使用 style 属性，它适用于绝大多数 HTML 元素，直接将 CSS 属性分配给 HTML 元素。

```
<h1 style="font-family: 'Comic Sans'; color: blue;"> 

Welcome</h1>
```

当您想快速尝试一个或多个 CSS 属性以查看它们如何影响元素时，最好保留此方法。你不应该在实际的网站中使用这种方法，因为它几乎错过了 CSS 提供的所有优势。

**嵌入式样式**:我们可以在任何 HTML 文档的头部使用`<style>`标签来声明应用于页面元素的 CSS 规则。

```
<style type="text/css"> 

<!-- 

h1, h2 { 

color: green; 

} 

h3 { 

color: blue; 

} 

--> 

</style>
```

这种形式的 CSS 提供了许多优于内联样式的优点，但仍然不如外部样式灵活或强大(见下文)。当你确定你创建的样式只在当前页面有用时，我建议你只使用嵌入样式。即使这样，外部样式提供的代码分离也使它们成为更好的选择，但是嵌入式样式对于快速、肮脏的单页工作更方便。

**外部样式**:我们可以在任何 HTML 文档的头部使用一个`<link>`标签，将外部文件中的一组 CSS 规则应用到页面的元素上。

```
<link rel="stylesheet" type="text/css" href="mystyles.css" />
```

将 CSS 应用于 HTML 的推荐方法，外部样式提供了 CSS 所能提供的全部性能和生产率优势。

##### 使用速记属性

大多数属性名以单个项目作为值。当您使用相关值的集合定义属性时(例如，font-family 属性的字体列表)，这些值之间用逗号分隔，如果任何值包含嵌入的空格或保留字符(如冒号)，则可能需要用引号将它们括起来。

此外，还有一组特殊的属性，称为速记属性。这种属性允许您使用单个属性声明将值分配给多个相关属性。这听起来比实际更复杂。

最著名的速记属性是字体。CSS 初学者通常习惯于逐个定义字体属性:

```
h1 { 

font-weight: bold; 

font-size: 12pt; 

line-height: 14pt; 

font-family: Helvetica; 

}
```

但是 CSS 提供了一个简化的属性 font，它允许更简洁地定义相同的规则:

```
h1 { 

font: bold 12pt/14pt Helvetica; 

}
```

所有速记属性都在附录 c 中进行了标识。

##### CSS 中的继承是如何工作的

在掌握 CSS 规则的一些语法和行为之前，您需要对 CSS 使用的继承有一个基本的了解。

HTML 页面上的每个元素都属于文档的继承树。树的根总是 html 元素，即使在没有明确包含 html 标记的文档中也是如此。

通常，html 元素在继承树中只有两个直接后代:head 和 body。

图 3.1 显示了一个小文档的简单 HTML 继承树。

![1168_2.1](../Images/f93872b69b85449ab7103efc30aaa14a.png)
图 3.1。HTML 继承树形图示例

正如您所看到的，文档头中有标准的标题和链接元素，后者可能链接到外部样式表。它还包含一个 meta 元素(最有可能设置文档的字符集)。

主体由五个元素组成:一个 h1、一个 h2、一个 p 元素(标记为 p1 以便我们可以方便地引用)、一个 div 和一个 list (ul)元素。div 元素又包含两个段落元素，其中一个包含强调(em)元素，另一个包含锚(a)元素。ul 元素包括三个列表项(li)元素，其中一个包括强调(em)元素，而另一个包含标记为 p4 的段落元素。

段落元素 p1 是正文的直接后代。

html 文档中的每个元素都有一个父元素(HTML 根元素除外)，并且被称为是其父元素的子元素。例如，在图 3.1 中，p2 的父节点是 div。p2 将被描述为 div 的子元素。

HTML 文档中的一些元素——以及复杂文档中的大多数元素——是多个元素的后代。例如，在图 3.1 中，段落元素 p1 是 body 和 html 的后代。类似地，段落元素 p2 和 p3 是 div 元素、body 元素和 html 元素的后代。对于大多数祖先，段落元素 p4 与文档中的其他几个元素绑定在一起:an li、ul、body 和 html 元素。元素层次结构的概念很重要，原因有二。

首先，您将使用的一些 CSS 选择器的正确使用取决于您对文档层次结构的理解。例如，后代选择器和父子选择器之间有一个重要的区别。这些将在“CSS 规则的选择器和结构”一节中详细介绍。

其次，许多没有为特定元素提供特定值的属性将采用分配给父元素的值。这意味着，例如，如果您没有为图 3.1 所示文档中的 h1 元素显式定义字体系列属性，它将使用 body 标签中定义的字体。如果没有明确定义字体系列，那么正文和 h1 标题都使用浏览器定义的默认字体。相反，设置元素的宽度属性不会直接影响子元素的宽度。font-family 是继承的属性，width 不是。

附录 c 中指出了继承的属性，即默认情况下从祖先继承的属性。此外，您可以将任何属性设置为特殊值 inherit，以使其继承分配给父元素的值。

当您处理相当复杂的文档时，这个继承问题可能很难理解。当您从使用传统表格布局方法定义的站点开始时，这一点尤其重要，在传统表格布局方法中，样式信息嵌入在 HTML 标记中。当样式表似乎不能正常工作时，您会经常发现问题出在另一个元素从其继承值的那些嵌入样式中的一个。

##### CSS 规则的选择器和结构

回想一下第 1 章，每个 CSS 样式规则都由两部分组成:一个选择器，它定义了样式规则所适用的 HTML 元素的类型，以及一系列定义样式的属性声明。

到目前为止，我们只看到了简单的选择器。通常，它们只包含一个元素:

```
h1 {  

font-size: 18px;  

text-transform: capitalize;  

}
```

我们遇到过一两个例子，其中一个规则被设计成应用于多种 HTML 元素:

```
h1, h2, h3 {  

font-size: 18px;  

text-transform: capitalize;  

}
```

这些是 CSS 中最基本的选择器。还有很多其他的。表 3.1 总结了 CSS 中所有可用的选择器类型，大致从最简单到最复杂。本节的其余部分将按照它们在表 3.1 中出现的顺序详细描述每种类型的选择器。在 CSS2 规范中第一次定义的或者在 CSS1 和 CSS2 之间改变的选择器类型标有“(CSS2)”

![1168_table1](../Images/00dffea61483c9fdf4f1c7d080771433.png)
表 3.1。CSS 选择器的类型

***万能选择器***

万能选择器本身并没有真正的实用价值。没有选择器的样式规则适用于网页上所有类型的所有元素，因此星号是多余的。

然而，通用选择器在特定的情况下会派上用场，例如，属性选择器，我将在本节稍后解释。

在此示例中，页面中的所有元素都被赋予了红色的文本颜色:

```
* {   

color: red;   

}
```

***元素类型选择器***

单一元素选择器是最常见的选择器。它指定了一种没有限定符或增强的 HTML 元素类型。

如果没有其他样式规则应用于选择器中提供的元素类型，此规则将应用于页面上的所有此类元素。

在本例中，我们通过将这些属性分配给 body 元素来指定文档的文本和背景颜色(分别为黑色和白色):

```
body {   

color: black;   

background-color: white;   

}
```

***阶级选择器***

要将样式规则应用于 Web 页面中的一组潜在的任意元素，您需要在样式表中定义一个类，然后通过它们的 HTML 标记来标识属于该类的元素。

在样式表中定义一个类需要在类名前面加一个句点。句点和类名之间不允许有空格。下面的样式表条目定义了一个名为 special 的类。因为没有与该类相关联的 HTML 元素名称，所以使用该样式表的页面上的任何类型的元素都可以用该类来标识，稍后您将会看到这一点。

```
.special {   

font-family: verdana, arial, sans-serif;   

}
```

如果您想在类中只包含特定类型的元素，可以使用下面显示的更具体的选择器:

```
p.special {   

font-family: verdana, arial, sans-serif;   

}
```

上述样式规则仅适用于被标识为 special 类成员的段落元素。

在 HTML 标记中，您可以使用元素的 class 属性来指示元素属于某个类:

```
<p class="special">Paragraph of stuff.</p>
```

如果您愿意，一个 HTML 元素可以属于多个类，只需在 class 属性中列出这些类(用空格分隔):

```
<p class="special exciting">Paragraph! Of! Stuff!</p>
```

如果您定义了一个特定于元素的类(比如上面的 p.special 示例),然后将该类(在本例中为 special)与任何其他类型的元素相关联，那么样式规则就不会应用于该元素。

***ID 选择器***

ID 选择器允许您标识 HTML 元素的单个实例，在这些实例中，您希望覆盖在例如类样式规则中设置的样式属性。像类选择器一样，ID 选择器需要在样式表中定义，并在 HTML 标记中显式包含。使用“#”符号来标识 ID 选择器 1。id 在文档中必须是唯一的；单个文档中的两个 HTML 标签不应该有相同的 ID。

此样式表规则为具有唯一 ID 的元素定义规则:

```
#unique {   

font-size: 10px;   

}
```

下面的代码显示了如何使用 HTML id 属性来指示受上述规则影响的元素:

```
<h4 id="unique">This will be a very tiny headline</h4>
```

例如，如果你的页面上有五个`<div class="sidebar">`条目，但是你想让负责显示你的站点搜索框的条目有不同的样式，你可以这样做:

```
div.sidebar   

{   

...   

}   

#searchbox   

{   

...   

}
```

现在，如果这两个规则都定义了背景色属性，并且您的搜索框标签是`<div id="searchbox" class="sidebar">`，那么搜索框将获得分配给它的所有侧栏属性，但是它将从`#searchbox`规则中获取背景色。层叠重叠规则的指导方针(在第 9 章中讨论)与 ID 选择器相结合，可以让你避免在一个特殊的 searchbox 类中重新定义所有的侧边栏属性。

但是，您可以轻松地定义一个类，并将其应用于异常元素(在本例中是搜索框)。这更加灵活，尽管在代码空间方面可能没有那么高效。例如，在您确定了适用于除一个标题之外的所有三级标题的类或其他规则之后，并且如果您对该例外使用了 ID 选择器，那么当重新设计或内容更改甚至需要一个这样的例外时，您该怎么办？在这种情况下，ID 选择器解决方案会立即失效。

从我的测试来看，似乎并不是所有的新浏览器都执行 ID 在文档中唯一的规则。相反，他们将 ID 规则应用于文档中携带 ID 的所有元素。这使得 ID 实质上相当于类选择器。这显然不是 CSS 规范的初衷，但这是我测试过的许多浏览器的行为方式。

***伪元素选择器***

本节中的这个选择器和所有其他选择器都需要一个支持 CSS2 规范的浏览器。

伪元素和伪类选择器在 CSS 选择器中是独一无二的，因为它们没有等效的 HTML 标签或属性。这就是为什么他们使用前缀“伪”，意思是“假”

到目前为止，CSS 规范只定义了三个伪元素:firstletter、first-line 和 first-child。虽然前两个短语对我们人类来说有一定的意义，但最终还是要由每个浏览器在使用这些伪元素呈现 HTML 页面时来解释它们。例如，first-line 是指“第一句话”还是指显示的第一个物理行，一个随着用户调整浏览器大小而变化的值？另一方面，第一个子伪元素不依赖于浏览器。根据“CSS 中的继承如何工作”一节中描述的 HTML 文档层次结构，它引用它所应用到的元素的第一个后代。

要为样式规则定义伪元素选择器，请在伪元素名称前加一个冒号。这里有一个例子:

```
p:first-letter {    

font-face: Gothic, serif;    

font-size: 250%;    

float: left;    

}
```

这为页面上每个段落的第一个字母创建了首字下沉效果。

每段的第一个字母将是哥特式字母，比段落中通常使用的字体大 2.5 倍。我们在第 6 章中讨论的浮动样式属性，确保段落中的剩余文本正确环绕放大的首字下沉。

***伪类选择器***

伪类选择器与伪元素选择器完全一样，只有一个例外。伪类选择器适用于整个元素，但仅在特定条件下适用。

CSS2 的当前版本定义了以下伪类:

*   `:hover`
*   `:active`
*   `:focus`
*   `:link`
*   `:visited`
*   `:lang()`

样式表可以为这些伪类定义样式规则，如下所示:

```
a:hover {    

color:#ffcc00;    

}
```

当用户将光标悬停在锚定标签上时，所有锚定标签都会改变颜色。正如您所看到的，这意味着伪类选择器只有在用户与受影响的元素交互时才发挥作用。

`:lang()`伪类 2 指的是 HTML 元素中 lang 属性的设置。例如，您可以用如下标签将文档中的一个段落定义为用德语编写:

```
<p lang="de">Deutsche Grammophone</p>
```

例如，如果您想要更改与用德语编写的文档中的所有元素相关联的字体系列，您可以编写如下样式规则:

```
:lang(de) {    

font-family: spezialitat;    

}
```

不要将 lang 属性与 language 属性相混淆，language 属性适用于与脚本或页面中使用的脚本语言相关的标记。

***后代选择器***

回想一下，所有 html 元素(除了 HTML 元素)都是至少一个其他 HTML 元素的后代。要将 CSS 样式规则应用于作为另一种类型元素的后代的元素，请使用后代选择器。

后代选择器(如下面的样式规则所示)将规则的适用性限制在作为其他元素后代的元素上。

后代选择器从右向左读取以确定其范围。空格分隔元素类型。

```
li em {    

font-size: 16px;    

color: green;    

}
```

样式规则描述了 16 像素高的字体大小和绿色，仅当强调的文本是列表项的后代时，才应用于 em 元素(强调)中包含的任何文本。

在下面的片段中，第一个 em 元素将以 16 像素的绿色字符显示，而第二个元素则不会，因为它没有出现在列表项中。

```
<ul>    

<li>Item one</li>    

<li>Item <em>two</em></li>    

</ul>    

<p>    

An <em>italicized</em> word.    

</p>
```

需要注意的是，后代关系不一定是直接的父子关系。例如，在图 3.1 中，下面的样式规则将应用于锚元素(a)，即使它明确地聚焦于作为 div 元素的后代的 a 元素。这是因为，在这种情况下，a 元素是包含在 div 元素中的段落的子元素。

```
div a {    

font-style: italic;    

}
```

***亲子选择器***

父子选择器将样式规则应用于与特定的父元素和子元素序列相匹配的元素模式。这是上一节讨论的后代选择器的一个特例。两者之间的关键区别在于，父子选择器中的元素对必须在严格的继承序列中彼此直接相关。

父子关系在选择器中用“大于”符号(>)指定。

以下样式规则:

```
div > p {    

font-weight: bold;    

}
```

不适用于图 3.1 中的 p1 或 p4 元素，因为这些段落元素不是 div 元素的子元素。类似地，p5 不会受到影响，即使它是 div 元素的后代，因为中间的 ul 和 li 元素意味着它不是该 div 元素的子元素。只有 p2 和 p3 会受到该规则的影响。

在撰写本文时，Internet Explorer for Windows(直到并包括版本 6)是唯一一个在其最新版本中不支持父子选择器的主流浏览器。因此，谨慎使用后代选择器要常见得多，父子选择器经常被滥用来专门创建不适用于 Windows 的 Internet Explorer 的样式。

***相邻选择器***

邻接与继承无关。邻接是指元素在 HTML 文档中出现的顺序。碰巧的是，相邻的元素总是兄弟，但是这个选择器关注的是它们在文档中的位置，而不是它们的继承关系。这个 HTML 片段演示了这一点:

```
<h1>This is important stuff!</h1>    

<h2>First important item</h2>    

<h2>Second important item</h2>
```

第一个 h2 标题与 h1 标题相邻。第二个 h2 标题不与 h1 标题相邻。h2 标题都不继承 h1 标题。相邻的选择器使用+号作为其连接器，如下所示:

```
h1 + h2 {    

margin-top: 11px;    

}
```

这种样式规则会在 h1 标题的底部和紧随其后的 h2 标题之间增加 11 个像素的空间。重要的是要认识到，h1 标题下的段落后面的 h2 标题不会受到影响。

在撰写本文时，Internet Explorer for Windows(直到并包括版本 6)仍然是唯一一个在其最新版本中不支持相邻选择器的主流浏览器。正因为如此，相邻选择器还没有在实际的网页设计中广泛使用。

***属性选择器***

我把这组选择器归为“属性选择器”,它们是所有 CSS 选择器中最有趣的，因为它们几乎感觉像编程技术。每个属性选择器声明，与它相关联的规则只应用于定义了特定属性的元素，或者用特定值定义了该属性的元素。

属性匹配有四个级别:

*   `[attribute]`-如果为元素定义了属性，则匹配
*   `[attribute="setting"]`仅当属性被定义为具有设置值时匹配
*   `[attribute~="setting"]`-仅当属性用空格分隔的值列表定义时匹配，其中一个值与“设置”完全匹配
*   `[attribute|="setting"]`-仅当属性用连字符分隔的“单词”列表定义并且这些单词的第一个以 setting 开头时匹配

例如，您可能希望将样式属性应用于文档中的所有单行文本输入框(`<input type="text" />`)。也许您想将它们的文本和背景颜色分别设置为白色和黑色。该样式规则将具有以下效果:

```
input[type="text"] {     

color: white;     

background-color: black;     

}
```

上述属性选择器的第三种变化是搜索分配给一个属性的值，查看它是否包含您指定的单词(即空格分隔列表中的值)。

例如，在一个网站的开发过程中，各种图形设计人员可能会插入临时占位符 alt 文本标签，并打算以后再返回来完成它们。您可以使用如下样式规则来引起对这种标记的注意:

```
img[alt~="placeholder"] {     

border: 8px solid red;     

}
```

该选择器将查找所有其 alt 属性包含单词“placeholder”的 img 标签，并将在它们周围放置一个 8 像素的红色边框。那应该很难错过！

第四种变化只有在处理 lang 属性时才真正有用。

它使您能够隔离 lang 属性的第一部分，这里定义了所使用的人类语言。以连字符分隔的值的其他部分将被忽略。很少使用这个版本，但是当定义的语言是伦敦方言，并且您只对该语言是否是英语感兴趣时，它就派上了用场。

如你所料，Windows 的 Internet
Explorer 不支持属性选择器。与其他高级选择器类型一样，这阻碍了属性选择器的广泛采用，尽管它们显然很有用。

***选择器分组***

要将样式规则应用于几种不同类型的 HTML 文档中的元素，请使用选择器分组。用逗号分隔要应用规则的每个元素类型。

下面是这种选择器的一个简单示例:

```
h1, h2, h3 {     

font-family: verdana, arial, sans-serif;     

color: green;     

}
```

选择器列表中的元素不需要都是同一类型，甚至不需要都是同一级别的特征。例如，下面的样式规则是完全合法的。

它将特定样式应用于二级标题(h2)和类别
被定义为特殊的段落:

```
h2, p.special {     

font-size: 22px;     

}
```

您可以在逗号分隔的项目之间包含空格，也可以不包含空格。

##### 表达测量值

您在 CSS 规则中定义的许多属性都包括度量。这些尺寸告诉人们某物有多高或多宽。字体、间距和位置是你使用这些度量的主要地方。

有两种类型的测量:绝对和相对。绝对尺寸(例如将字体大小设置为 18px 或 18 像素)告知浏览器将受影响的内容渲染为 18 像素高 3。从技术上来说，它实际上是告诉浏览器使用指定的字体并缩放其字符高度，使字体的整体高度为 18 像素。

第八章解释了字体的高度和宽度。

另一方面，使用相对测量，指示浏览器在
缩放发生之前，相对于对象的大小，按某个百分比或倍数缩放一个值。

本示例定义了一个样式规则，在该规则中，页面上段落中的所有字体都应缩放到没有该样式时的 150%大小:

```
p {     

font-size: 150%;     

}
```

如果您知道，在没有这种指令的情况下，页面上的所有段落都以 12 像素的大小显示它们的文本，您也可以用这种方法来完成同样的事情:

```
p {     

font-size: 18px;     

}
```

我建议您尽可能使用相对大小值。当用户已经设置了字体大小的首选项时，以及在可以应用多个样式表的情况下，这种技术会更好地工作。它也更容易访问，因为视障用户可以通过配置浏览器的首选项来更容易地增加页面上的字体大小。

所有长度值(CSS2 用来描述任何大小度量的术语，无论是水平的还是垂直的)都由一个可选符号(“+”或“-”)后跟一个数字(可能是十进制值)和一个度量单位组成。数字和计量单位之间不允许有空格。

***绝对值***

表 3.2 显示了 CSS 样式表中支持的绝对值，以及不明显的地方，它们的含义。

![1168_table2](../Images/b404019147b9573a21df472aedd7b7cf.png)
表 3.2。样式表中的绝对值

当使用零长度时，不需要测量单位。0px 和 0 一样。当长度是零单位时，给出测量单位是没有意义的，因为零在任何测量单位中都是相同的距离。

当您需要在样式表规则中为元素的大小或位置提供绝对度量时，您可以互换使用上面的任何缩写。以下所有操作应该产生完全相同的结果:

```
font-size: 1in;     

font-size: 2.54cm;     

font-size: 25.4mm;     

font-size: 72pt;     

font-size: 6pc;
```

像素提出了一组完全不同的问题。如果您使用像素作为度量单位(到目前为止，除了少数例外，我们都是这样做的)，您会发现您的字体与页面上的图形保持了大小比例，因为页面显示在不同的显示器上，具有不同的分辨率和屏幕大小。

一般来说，像素不是最合适的度量单位；然而，它们是最常见的。大多数设计师可能更喜欢使用像素，因为他们希望最大限度地控制用户体验。客户通常坚持使用像素测量，认为这是在屏幕上复制他们在印刷页面上看到的设计的最佳方式。

像素是屏幕上的一个点，可以是开或关、蓝色或绿色(或者任何需要的颜色组合)。例如，如果您将电脑显示器的分辨率设置为 800 像素乘 600 像素(最常见的屏幕分辨率设置之一)，则一个像素相当于屏幕高度的 1/600。在典型的 15 英寸显示器上，高度约为 10.5 英寸，宽度略大于 13 英寸 4。在显示器上显示 12 像素高的字体大约是显示器 10.5 英寸高度的 1/50，或者仅仅比 1/5 英寸稍大一点。

如果用户将他或她的分辨率设置为 1024 像素乘 768 像素，同样的 16-
像素高字体显示为高度的 78%，即 0.16 英寸。如果用户在 13 英寸的显示器上而不是 15 英寸的显示器上呢？你开始发现
使用像素的问题。

那么，如果像素有问题，为什么我们至今还在使用呢？原因有三。

首先，它们无疑是网页上使用的最常见的绝对值度量，尽管它们似乎会带来一些问题。尽管一些网络纯粹主义者反对使用像素，但真的没有完美的、绝对的测量方法在所有情况下都适用。在这种情况下，人们倾向于坚持他们所知道的和对他们有用的东西。在这种情况下，这是像素。

其次，像素是几乎所有计算机软件都使用的度量单位。这意味着用户希望他们显示器上的文本在提高分辨率时变小，在降低分辨率时变大。工作“更好”并且没有经过这种转换的文本会让典型的用户感到不适。

最后，当测量应用于字体以外的东西时，像素测量通常是描述距离的最佳方式。只有字体是以非像素单位度量的，主要是因为它们在印刷和其他媒体中有自己的生命。默认情况下，计算机显示器上的所有其他内容都以像素为单位进行测量，因此使用像素进行定位，并将这些元素的大小描述为图形图像是合适的。

***相对值***

由于使用任何绝对值都会带来一些问题，最灵活且控制最少的处理样式规则度量的方法是使用相对度量单位。原则上，这些是 em 和%，尽管有些人喜欢使用更模糊的 ex 测量。“em”度量之所以如此命名，是因为它指的是给定字体中大写“M”字符的高度，但实际上它等于当前字体的字号。“ex”度量基于字体中小写“x”字符的高度(通常称为字体的 x 高度),远不如 em 常见。

em 和 percentage 都基于它们所应用到的对象的字体的继承或默认大小来生成字体大小。此外，ems 和百分比是 1:100 当量。1em 的大小等同于 100%的大小。

这个描述回避了这样一个问题，“特定 HTML 元素的默认或继承字体大小是多少？”答案是:看情况。

在 Opera 5 for Windows 出现之前，浏览器会在启动过程中为所有字体设置默认值。用户没有控制权。浏览器
定义了一个默认值。网站设计者不管三七二十一，都会覆盖默认设置。用户接受了所呈现的内容。

然后，出现了用户选择的想法。毫不奇怪，CSS 的出现促进了这种发展。本质上，Opera 浏览器的开发者所做的就是创建一个用户可以修改的本地样式表，并设置他或她的默认值。他们还定义了一个漂亮的图形用户界面，用户可以通过它来设置这些风格的偏好。

这对用户来说很好，但是网页设计者发现自己陷入了困境。例如，如果您假设浏览器将默认正文字体大小设置为 12 磅 5(这是用户控制的首选项时代之前事实上的标准)，您可以设置一种样式，将 1.25em 缩放应用于文本，并为相关文本设置 15 磅的字体大小。这是美好的和可预见的。

然而，现在应用于字体的 1.25em 缩放告诉浏览器将字体大小增加到其默认大小的 1.25 倍(125%)。如果用户已经将他或她的浏览器设置为以 16 磅的高度显示标准文本，那么 1.25em 的转换会将文本大小提高到 20 磅。

但是，当你停下来想一想的时候，这可能就好了。选择较大基本字体大小的用户可能需要看到更大的字体。如果出于某种原因，您希望原本为 12 磅的字体显示为 14 磅，那么期望这位新用户以同样的方式看到在这种特定情况下使用的字体从他或她的标准 16 磅增加到 20 磅是合理的。

大多数时候，没有理由去改变用户的字体大小设置，所以随意改变它们不是一个好主意。在你将这种转换应用到你的网页设计中的文本片段之前，问问你自己是否真的有必要。我敢打赌，十有八九，你会发现它不是。

如果我不指出使用相对字体大小有一些固有的缺陷，你应该小心的话，那我就是失职了。在某些情况下，相对字体值可以组合和相乘，产生奇怪的结果。

例如，如果您定义样式规则，使所有粗体文本以 1.5 ems 显示，所有斜体文本以 1.5 ems 显示，则粗体和斜体文本将以 2.25 ems (1.5 x 1.5)显示。这个问题出现在子元素中，子元素从它们的父容器元素中继承测量属性的计算值，而不是相对值。这是相对容易避免的，但是如果你忽略了它，结果可能会相当惊人。

##### CSS 注释

您很可能熟悉 HTML 中注释的概念:

```
<!-- this is an HTML comment -->
```

注释允许您在代码中包含解释和提醒。这些都被浏览器完全忽略了，通常只是为了开发人员的方便而包含在内。如果你曾经不得不对几个月都没动过的代码进行修改，我相信你能体会到一些恰当的注释的价值，这些注释提醒你它是如何工作的。

CSS 有自己的注释语法。在 HTML 中，注释以`<!--`开始，以`-->`结束。在 CSS 中，注释以/*开始，以`*/`结束:

```
<style type="text/css">      

/* This rule makes all text red by default.      

We include paragraphs and table cells for      

older browsers that don't inherit properly. */      

body, p, td, th {      

color: red;      

}      

</style>
```

如果您对 JavaScript 了解很多，您会认识到这种语法，它也可以用来在该语言中创建多行注释。然而，与 JavaScript 不同，CSS 不支持单行双斜线(`//`)注释样式。

##### 摘要

本章结束了我们对 CSS 技术的概述。本章讲述了 CSS 样式的更多语法和结构规则。同时，它解释了 HTML 文档继承中涉及的基本思想。

在第二部分，从第四章开始，我们将启动一个全面的项目。从传统的基于表格的网站布局开始，我们将开始关注如何使用 CSS 而不是表格来布局页面。

现在不要停！[阅读第 4 章](https://www.sitepoint.com/blog/)。

## 分享这篇文章