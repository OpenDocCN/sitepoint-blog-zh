# 掌握 UNIX 命令行:初学者指南

> 原文:[https://www.sitepoint.com/unix-style-operating-systems/](https://www.sitepoint.com/unix-style-operating-systems/)

当一个网站开发者或设计者上传网站文件到一个网络服务器上时，它很可能运行在一个 UNIX 风格的操作系统上。同样很有可能的是，尽管开发人员和设计人员知道如何通过他们最喜欢的文件传输客户端上传他们的文件，但他们却不知道它实际上是如何工作的。

虽然没有这些知识也可以生存，但你们中的许多人可能想知道在 UNIX 侏儒在你的 web 创建上执行他们的工作的云中发生了什么。当事情变得混乱时，当您不小心将文件放在错误的文件夹中，导致 CSS 功能失调，甚至网站根本无法运行时，您可能会产生这种想知道它们是如何组合在一起的愿望。事实上，在这些时候，一点 UNIX 知识可能会非常有用。

因此，如果您想知道幕后发生了什么，并向学习 UNIX 风格操作系统的具体细节迈出第一步，请继续阅读！

##### UNIX 风格的操作系统

那么，对于一个操作系统来说，UNIX 风格意味着什么呢？和 Windows 这样的操作系统有什么不同？嗯，所有 UNIX 风格的操作系统都是由一组相似的工具组成的，这些工具协同工作以产生一个结果，这与像 Windows 这样的单片独立系统相反。UNIX 的工具组也足够灵活，可以提供多种方式来完成任务。事实上，普通的工具箱在这里是一个有用的比喻。

当您使用 UNIX 风格的操作系统时，您拥有一个有用的工具箱，了解这些工具的基础知识是非常值得的。此外，由于所有 UNIX 风格的操作系统之间的相似性，一旦您了解一种工具，您就有了了解所有工具的良好基础。

虽然所有 UNIX 风格的系统都有一套标准的工具，但是它们也可以包含一些特殊的工具来满足某些目标。工具箱可能会附带所有可以想象的工具，或者一组有限的工具来满足特定的目的。

典型的标准工具包包括改变目录、列出文件、移动、复制和删除文件、控制文件权限、查看正在运行的程序等功能。在基本形式上，所有这些工具在不同的 UNIX 风格的操作系统之间非常相似。想想外面不同类型的工具箱，从商人珍藏的工具箱到家居改进工具棚里积满灰尘的工具箱。他们会共用工具，如螺丝刀、锤子和扳手。然而，一个人可能有自动螺丝刀，另一个人可能有不同尺寸的锤子，还有一个人可能有强力扳手。

可用的 UNIX 风格系统的列表很广泛，但这里有一些最常见系统的链接:

*   **Linux**
    *   [Red Hat](http://www.redhat.com/)
    *   Debian
    *   [Ubuntu](http://www.ubuntu.com/)

*   **BSD**
    *   [FreeBSD](http://www.freebsd.org/)
    *   [OpenBSD](http://www.openbsd.org/)
    *   [NetBSD](http://www.netbsd.org/)*   [**太阳**太阳系](http://www.sun.com/software/solaris/)

你可以通过它们的标识认出它们，如图所示。

![Various UNIX-style operating system logos](../Images/bd05f09afb3107d5569e92d4e1d924cd.png)

尽管它们各有专长，但这些操作系统将执行相同的功能。

##### 包装管理

***套餐***

虽然大多数 UNIX 风格的系统包含了大量可供选择的程序，但是您可能会发现您需要额外的功能。UNIX 操作系统的创建者不能预测你想要安装的所有东西，所以他们提供了工具——被称为软件包管理器——来帮助你安装新功能。

首先，你可能会问，“什么是包？”包只是描述程序或软件的另一种方式。它之所以被称为包，是因为它通常是使用类似于`gzip`或`bzip2`的压缩格式“打包”的——类似于 PC 上的 zip 文件。软件包管理器帮助您管理软件包的位置、安装、升级和删除。

***仓库***

软件包管理器保存了一个软件库列表。这些存储库包含系统的软件包管理器可以安装的所有软件包。系统将有一个“官方存储库”，其中包含操作系统开发者支持的所有包。

非官方的软件仓库有软件包管理器可以安装的软件包，但是不会有任何支持。这些非官方的库通常包含实验性的包，这些包不能保证在操作系统上工作，或者根本不符合操作系统的目标。例如，由于许可问题，Debian 不允许某些包，所以任何这样的包都需要从非官方的存储库中安装。

***我的包管理器呢？*T3】**

你们中使用 Windows 的人习惯于标准的`install.exe`或`setup.exe`文件，在那里下载一个程序，在执行时安装应用程序包。然而，在 UNIX 风格的操作系统中，您的软件包管理器依赖于您的操作系统。常见的包管理器包括:

*   APT ，它可以在基于 Debian Linux 的系统上找到。许多易于使用的图形界面包括流行的 [Aptitude](http://aptitude.sourceforge.net/) 和 [Synaptic](http://www.nongnu.org/synaptic/) 。
*   [RPM](http://en.wikipedia.org/wiki/RPM_Package_Manager) ，也就是红帽包经理。您还可以安装自动更新器和软件包安装程序 [Yum](http://linux.duke.edu/projects/yum/) ，这增强了 RPM 的易操作性。
*   [端口](http://en.wikipedia.org/wiki/FreeBSD_Ports)，常见于 BSD 型系统。
*   [Portage](http://www.gentoo.org/doc/en/handbook/handbook-x86.xml?part=2&chap=1) ，由 [Gentoo Linux](http://www.gentoo.org/) 使用。

这是 Ubuntu Linux 中的 Synaptic 包管理器界面。

![The Synaptic package manager](../Images/9ac118ad074d17dd148bdcb8f51cc70a.png)

除了这里提到的之外，还有许多其他的包管理器，但是这些是值得了解的主要包管理器。

##### UNIX 文件系统

一个 FTP 程序或者命令`pwd`(打印工作目录)会告诉你当前在哪个目录。`pwd`会输出类似`/home/website/public_html`的东西。这被称为路径。路径类似于地址，因为它描述了文件系统中的位置。在路径中，目录由一个`/`字符分隔。简单地说，上面的路径转化为*`public_html`目录，该目录位于网站目录之内或之下，该目录位于根目录*下的主目录之下。

你们中的一些人可能会想，“等等，我没有看到任何叫做‘根’的东西！”没错——根目录是一个特殊的目录，仅由首字母`/`表示，这意味着它上面没有任何目录。在每一个系统上，只有一个根目录，其他目录都是从这个根目录派生出来的。您可能会认为根目录是文件系统的前门。一旦进入，你就可以接触到里面的一切。

##### 导航目录

在 UNIX 风格的系统中，`cd`(更改目录)命令允许我们浏览文件系统的目录。我们可以通过前门进入文件系统，使用命令将我们置于根目录(忽略`#`，这只是表示命令提示符):

```
# cd /
```

如果我们想从这个位置转到`/home`目录，我们只需要键入以下内容:

```
# cd home
```

现在我们在`/home`目录中，如果我们想继续到`/home/websites`目录，我们只需要键入:

```
# cd websites
```

这将我们带到了`/home/websites`目录。上述命令使用相对路径，即相对于当前位置的路径。如果您当前的位置是根目录，`/`，输入`cd websites`将简单地返回一个错误，因为根目录下没有直接的`website`目录。然而，从根目录我们可以输入:
 `# cd home/websites`

这将把我们带到`/home/websites`目录。

相对路径的反义词是绝对路径。如果我们在文件系统的其他地方，我们可以通过输入:

```
# cd /home/websites
```

绝对路径是根目录的完整路径。系统将理解如何从文件系统中的任何其他位置获得绝对路径。

上面的例子都深入到了文件系统中。要进行备份，您需要使用一个特殊的目录名。因此，如果您当前在`/home/websites`目录中，并且希望返回主目录，您可以使用以下命令:

```
# cd ..
```

上述命令允许您从当前位置向上一级。您还可以上升多个级别:

```
# cd ../../
```

在这种情况下，从`/home/websites`目录，上面的命令会将我们返回到根目录。但是，如果我们想从`/home/websites`目录转到`/home/cgi-bin`目录，我们该怎么做呢？简单:

```
# cd ../cgi-bin/
```

上述命令指示系统将您的当前位置更改为上一级目录；然后从那里开始，进入名为`cgi-bin`的目录。

##### 特殊目录

现在，开源操作系统中的一些目录有特殊的功能。有没有尝试过给电脑上的`C:Windows`文件夹重新命名？你大概不想尝试吧！这样做会造成无法估量的损失，你知道不要乱动它，因为它是一个系统文件夹。

UNIX 风格的操作系统也有这样的目录。好消息是 UNIX 风格的操作系统在基本的系统目录方面倾向于有相似的布局。这里列出了与初学者最相关的系统目录:

*   `/etc`
*   `/etc/init.d`
*   `/usr/sbin`
*   `/var/log`
*   `/home`

***`/etc`目录***

此目录包含配置系统和安装的应用程序如何工作的文件。你可以把`/etc`目录想象成经理的办公室，那里存放着所有的培训手册、使用文档和政策。如果您正在配置一个 web 服务器，您通常会在这个目录下的某个地方找到配置文件。然而，有一个特殊的目录:目录`/etc/init.d`。

***`/etc/init.d`目录***

`/etc/init.d` (initialize daemon，daemon 可以被认为是服务或服务器的一种别出心裁的说法)目录用于处理停止、启动和重新加载服务器。这里程序的执行通常非常简单。例如，启动 Apache 2 服务器可能需要:

```
# /etc/init.d/apache2 start
```

仅此而已。假设您的 Apache 2 服务器配置正确，将会有一条消息表明服务器已经成功启动。有时会发生小故障，或者您需要重新启动 web 服务器来确认对配置的更改。这同样简单:

```
# /etc/init.d/apache2 restart
```

同样，假设一切正常，您的服务器将关闭并立即启动。当然，你也可以完全停止一个服务器，但是对于 web 服务器来说，这可能永远不会被使用。事实上，我认为我唯一一次完全停止服务是当它完全失控，我需要阻止它破坏系统，修复配置问题，或者重新启动没有做它应该做的事情。对于那些遇到这种情况的人:

```
# /etc/init.d/apache2 stop
```

这将完全停止服务器，直到你告诉它再次启动。

但是，我听到你问，这些服务在哪里？大多数情况下，你可以在下一个特殊目录中找到它们:`/usr/sbin`。

`/usr/sbin`目录

`/usr/sbin`(用户系统二进制文件)目录用于存储对系统操作不重要的程序。你会经常发现数据库服务器、web 服务器和 FTP 服务器等程序驻留在这里。

虽然从技术上讲，使用正确的命令行选项从`/usr/sbin`目录中启动服务器是可能的，但我不推荐这样做。最好坚持使用`/etc/init.d`命令，因为它们要简单得多。

***`/var/log`目录***

该目录包含各种服务器和系统程序的日志文件。大多数服务器会在`/var/log`下创建一个目录来保持整洁。例如，Apache 可能会将日志文件放在`/var/log/apache`中。UNIX 系统上的许多服务都保存日志文件。日志文件中的每个条目都提供了事件的详细信息以及事件发生的日期和时间。使用日志文件中的信息，管理员可以找出问题背后的原因。

现在我们已经了解了系统目录，那么你呢，用户呢？你从哪里进来的？答案就在下一个特殊目录中——`/home`目录。

***`/home`目录***

毫不奇怪，在许多系统中,`/home`目录恰好是最大的目录之一。该目录包含属于系统中特定用户的文件夹。通常，您将位于文件夹`/home/your_username`下。您将使用该文件夹来传输文件、测试更改以及许多与您的工作相关的其他事情。

许多系统管理员使用`/home`目录来存放不同的网站。当与共享主机提供商合作时，你可能会发现你的网站驻留在一个类似于`/home/mysite.com`的文件夹中，你把你的文件上传到其中的一个`www`目录中——这在共享主机提供商中是相当普遍的做法。你通过你的域名`mysite.com`访问你的网站，然后这个域名被映射到`/home/mysite.com/www`，所有的奇迹都在这里发生。

这确实是初学者会发现有用的特殊目录的最后一个。还存在许多特殊的目录，但是我已经把它们省略了，因为除了成为系统管理员之外，您不太可能需要它们。

##### 结论

基本 UNIX 风格操作系统基础系列的第一部分到此结束。对于那些想更进一步的人来说，一个好的起点是 Linux 文档项目网站。您将找到关于 Linux 的更高级主题的信息，Linux 是最著名的 UNIX 风格的操作系统。同时，请关注本系列的下一篇文章，在那里我将讨论文件系统权限。

## 分享这篇文章