# SitePoint 播客# 145:backbone . js Addy Osmani 基础

> 原文：<https://www.sitepoint.com/podcast-145-backbone-js-fundamentals-with-addy-osmani/>

SitePoint 播客第 145 集现已推出！本周，我们的定期采访主持人路易斯·西蒙诺( [@rssaddict](http://twitter.com/rssaddict) )采访了艾迪·奥斯马尼( [@addyosmani](http://twitter.com/addyosmani) )关于他的免费在线书籍《Backbone.js 的基础》以及使用 javascript 框架如何真正有助于构建前端 Web 应用程序。

## 下载这一集

你可以下载这一集作为独立的 MP3 文件。以下是链接:

*   ~~SitePoint 播客# 145:bachbone . js Addy Osmani 基础~~

## 剧集摘要

Louis 和 Addy Osmani ( [@addyosmani](http://twitter.com/addyosmani) )聊了聊 backbone.js。

在[http://delicious.com/sitepointpodcast/145](http://delicious.com/sitepointpodcast/145)浏览展览中引用的链接的完整列表。

## 采访记录

路易斯:大家好，欢迎来到 SitePoint 播客的另一集。今天节目的嘉宾是 Addy Osmani，他是 AOL 的 JavaScript 开发人员；他在许多关于 JavaScript 和用 JavaScript 开发更大的应用程序的会议上发言，并且是几本书的作者。嗨，艾迪。

艾迪:嗨，很高兴参加你的节目。

路易:有你在真好。所以，促使我联系你并尝试让你来参加这个节目的原因是你最近出版了一本关于 Backbone.js 的免费新书，对吗？

艾迪:对，没错。

**Louis:** 所以，在我们开始谈论这本书以及是什么促使你做这类项目之前，我想给听众提供一些关于 Backbone 的背景知识。那么，你想解释一下什么是 Backbone.js，它试图解决什么问题，为什么人们想要使用它吗？

绝对的。因此,《主干基础》背后的理念是，这本书教导初学者和高级开发人员如何有效地使用主干来构建更多的应用程序结构。这意味着什么呢？好吧，当你开始使用应用程序堆栈或 non-trivial 进行构建或开始增长时，你会了解到，除非你有某种组织，否则你最终会遇到一些问题。什么样的问题？好吧，通过应用程序维护所有的代码，比如说一个文件，而不使用任何架构设计模式可能意味着它最终看起来有点像意大利面条；它可能从外面看起来很好，它可能尝起来很好，但它很难清理。所以，当你在寻找一些更容易维护的东西时，很多开发人员发现应用像 MVC(通常代表模型视图控制器)这样的模式，这意味着在前端和 JavaScript 中有一些细微的不同；这可以帮助他们保持代码更有条理。现在，Backbone 是允许你使用 MVC 风格来清晰地分离关注点和组织应用程序的框架之一。它是成熟的，它非常轻便，非常适合单页应用和多视图应用。现在，市场上有很多其他的解决方案，它们提供了主干网的一点变化。在我看来，这是目前最优雅的解决方案之一。开发人员可能会看着它说，嗯，主干网是否足够好，可以用在我的大型企业模型应用程序中？它目前正被 LinkedIn、Foursquare、Sound Cloud 和许多其他构建应用程序的大公司所使用。现在，他们不是小公司，他们也不构建小应用程序，所以希望如果这对他们足够好，对我们其他人也足够好。

路易:对，绝对没错。我们最近开始在 Flippa 使用 Backbone，我个人并没有经常使用它，我更多的是在后端工作，但是我确实从我们的前端人员那里听到了关于他使用它的体验的好消息。但是也许我想后退一点，你在谈论 MVC，因为它适用于 JavaScript 和前端工程，我知道可能很多听众，或者很多做过后端 web 开发的人，你知道，MVC 在这方面是有意义的， 我认为大多数人都很容易理解为什么要使用 MVC，比如在应用程序中，你要处理与数据库的交互，数据库是你的模型，然后路由请求，它是你的控制器，还有模板，但是对于完全在前端的应用程序，或者前端的 JavaScript 应用程序代码，MVC 在哪里出现，它与前端开发有什么关系？

Addy: 嗯，在前端，它翻译，在某些方面，它翻译几乎等同于 MVC 的服务器端版本，而在其他方面，它差异很大。我认为视图和模型在前端和后端是非常相似的，但是当你谈到控制器时，很多 JavaScript MVC 框架倾向于采取稍微不同的观点。例如，一些框架，Backbone，没有控制器，它没有 MVC 中的 C 部分，而是有路由器，用于管理导航；其他框架认为视图是前端的控制器。因此，很难给出一个具体的答案，但是每个框架，每个框架作者的模板倾向于对应该如何解释略有不同，但是我认为 MVC 模式或 MVV，我倾向于在前端 MVV 称之为 MVC，这意味着模型视图的变化。我认为，这种模式仍然可以很好地转化为前端，并有助于保持所有代码相对组织良好，即使你只是在那里保留概念、模型和视图，并不得不移植到该模式中的其他内容；在我看来，它仍然工作得很好。

**路易:**对。也许你可以在我和听众的心目中把这说得更具体一点。有什么简单的前端应用程序可以从这种框架中获益的例子吗？

任何我认为重要的事情。假设我们有一个简单的照片库应用程序，它可能不使用单一的应用程序范式，你会让人们每次与某个东西交互时都刷新他们的页面。因此，如果我点击缩略图查看更大版本的图片，我可能会转到一个完全不同的页面，这可能意味着我会发出更多的 http 请求，我不得不让用户等待更长的时间来加载东西，在单页面应用程序范例中，这就是像 Backbone 这样的框架倾向于帮助人们做的事情，这意味着更少的点击就能完成工作，这意味着界面有多快， 但是就组织代码而言，这意味着我可以干净地将组成应用程序的各种组件分开。 所以，我很清楚，在这个应用程序中，照片是什么概念？我可以用模型来模拟这些数据，比如，一张照片可能有标题，一张照片可能有图片来源，它可能有一些额外的元数据，这就是模型的概念。我们在 Backbone 中拥有的集合，可能代表许多不同的模型，因此这意味着如果我有一个画廊，我将在那个特定的画廊中有多个模型，即多个照片。我的视图本质上可能意味着，好吧，那么，我实际上向最终用户呈现的是什么，我是否从可能只说明应用程序做什么的索引页面中获取它们，并获取一些可能实际上让它们遍历和浏览不同图像集合的内容，例如，路由到那里可能会用于实际将它们从一个页面带到另一个页面，并为它们提供 URL， 如果你使用 HTML5 PushState 只是为了使用标签在应用程序中导航，而不需要让标签刷新页面，那就清理 URL。

**路易:**对。

艾迪:这是一个例子。

**路易:**对。在这种情况下，你的照片模型将会被具体化，比如说，如果我加载一个新页面，我会从服务器获得一些 JSON，其中包含图库中这些照片的对象表示，而不是在 inline jQuery 中随意地迭代它们，我会干净地将它们捆绑到一个模型对象中，这样就可以更容易地在应用程序的其他地方使用。

阿迪:是的。

Louis: 它的行为有点像服务器端的应用程序，或者像我们习惯的用面向对象的代码开发。

完全正确，是的。所以我们只是看了一个画廊应用程序的例子，它可以使用 Backbone 和 MVC 来实现。现在，MVC 前端背后的想法是，它仍然将应用程序分成三个主要的关注点。首先是管理应用数据行为的模型，它与服务器端处理数据的方式没有太大区别，它仍然代表某种知识和数据，它们仍然对状态变化做出响应，但与服务器端相比，它们更倾向于与控制器隔离。在像 Backbone 这样的框架中，模型有时可以对事物和集合进行分组，因此您可能会想到单个模型可能代表一张照片，但 Backbone 中的集合实际上代表多个模型或多张照片。您可能有视图负责将模型渲染成适合用户交互的形式。在很多情况下，在前端，你的视图将被视为你的 UI，它们通常被呈现给特定的用户界面元素，所以我可能在页面上有一个 div，我实际上想将我的视图呈现给它，它可以被称为 container 或其他什么东西，我将简单地呈现它，不管我是为此使用模板库还是使用 Backbone 自己的内部材料，我将只是为特定元素呈现视图。您可以有多个视图，这只是针对单个模型，因此您可以在应用程序中使用代表照片的模型，也可以使用显示该模型不同方面的视图。所以，如果我有一张照片，它的元数据说，你知道，嗯，这张照片是在意大利拍的，例如，这张照片是在 1990 年拍的，周围有汤姆、迪克和哈利；你可以用一个视图向你展示照片拍摄时周围的人，也可以用另一个视图展示照片拍摄的地点，也许还可以向你展示一张地图，等等。前端也有一些控制器。现在，当我们谈论 JavaScript 时，一些框架不一定实现控制器，控制器通常接收输入，可以指示模型或视图并做出相应的响应，因此通常位于模型和视图之间，它们可能执行一些业务逻辑和数据操作，但它们在 MVC 中很低，它变化很大。您会发现 Backbone 对控制器的考虑非常不同；他们实际上用处理导航的路由器的想法来代替它。其他框架可能会维护一个叫做控制器的东西，所以他们是 JavaScript MVC 框架，他们必须做一些完全不同的事情。所以在服务器端和客户端的 MVC 之间有很多相似之处，但是我想说的是，通常是控制器端的东西与大多数东西不同。

**路易:**对。如果有人不熟悉 JavaScript 模板及其工作原理，我知道可能仍有许多 JavaScript 开发人员要么在代码中内联创建 DOM 节点，要么从服务器中加载整个 HTML 块，你能谈谈模板及其在这些框架中的使用吗？

哦，当然可以。因此，一般来说，即使在 JavaScript MVC 框架之外，模板化对你的应用程序来说也是非常非常有用的。开发人员倾向于不使用模板的一种方法是，你可以使用脚本化在内存中为你的页面构造 HTML，我见过有人这样做；十年前，人们在理论上是这样做的，现在，如果你没有使用最佳实践，仍然有人将十行或更多行代码串联起来，然后注入到页面中，或者每当在内存中构造新的一行时注入，这样做的问题是，不仅从性能角度来看效率低下，而且很难维护。因此，一旦你开始在你的页面中存储多个长字符串，这些长字符串应该代表某种 HTML，并且你开始构建更大的应用程序，就很难弄清楚，好吧，我在我的页面的哪个部分存储了包含那些现在需要更新的行的脚本。更好、更容易管理但性能更高的方法是使用 JavaScript 模板。因此，有了 JavaScript 模板，你可以看看你的应用程序中有哪些可重复的输出，所以我不会说好吧，我有一个来自我后端的 JSON feed，其中包含许多照片，我要做的是浏览每一张照片，我要连接这些照片周围的一些图像标签和一些嵌套的 div，我要构造一个伪模板来附加我的页面。你可以说，好吧，我在这个循环中多次重复相同的模式，为什么我不简单地表示模板，用更小的东西，好吧，好吧，我可能只有一个条目，网站说好吧，好吧，我的模板将由几个嵌套的 div 和一个图像元素组成。好了，这就是全部，我不需要任何性能，如果我不需要，我不需要任何额外的逻辑，相反，我们只是将模板应用于即将到来的提要。在一个框架中，我们实际上表示 feed 是一个模型或集合，然后我们将基于该集合创建模板以将其呈现到屏幕上，这就是 DOM，这意味着我实际上可以以一种稍微更可读的方式来维护模板，阅读这种东西比阅读所有不同的优点和缺点要容易得多，当您想要在页面外部管理模板时也更容易。因此，与其维护一个应用程序，在那里你必须有一个脚本目录和你的不同的模板内联存储，所以在更大的应用程序中，你会看到在你的模型和视图之外做这件事实际上有很多好处。如果我想说有一个模板来表示我实际上是如何输出图库项目的，我可以简单地说，你知道，item.tntl 或 item.txt，它们可能只包含该页面上单个元素、该页面上单个照片的 HTML 标记表示，然后使用该模板来呈现该页面上其他每张照片的外观。如果不给人们看例子，解释起来有点棘手，但是，再一次，如果你看一下新的 MVC，你会发现实际上有相当多的例子说明模板如何有效地用于 MVC 框架，以及它在哪里有用。但是，是的，我绝对推荐你去看看。

路易:对，绝对没错。我们认为在服务器端工作是理所当然的，但我想在客户端工作仍然没有广泛的实践，可能是因为许多这些框架还没有得到广泛的使用，但它肯定是强大的，它肯定使代码更容易维护，如果当你需要更改你的标记时，你实际上是在更改标记，而不是在代码中寻找，哦，我在这里连接了一个 div，我现在想让它成为一个 span 突然间，我不得不遍历并找到所有这样做的代码实例。是的，这听起来非常有用，但是，我想主干网的一个问题是它相当新，对于不习惯以这种有序的方式使用 JavaScript 的人来说，它可能有点奇怪，人们习惯于当你点击打开的链接或 DOM 操作时，就像拍打脚本一样。

艾迪:嗯。

路易斯:所以这可能需要一点学习过程，我想这就是写这本书的原因，对吗？

是的，没错。我想我已经用 JavaScript 写了四五年的博客了，虽然博客对于初学者掌握新概念和获取知识非常有用，但它们也有一些警告，这也是我决定写这本书的原因；博客中你能传达的信息是有限的，我想，为什么只是向某人展示如何用一个框架构建一个应用程序，而会有初学者问，我在哪里能学到这个框架的基础知识，这样我就能使用这个教程了。然后高级用户可能会说，这对我来说有点太基础了，我想知道我如何才能构建比你现在向我展示的更复杂的东西。我认为一本书很好地解决了这个问题，因为这意味着如果你来自一个全新的背景，并且你几乎没有前端 MVC 或者 JavaScript 架构模式的经验，你可以进来阅读这本书，从基础部分开始，很快你就会掌握所有这些概念。我开始得相当慢，我们不会把人扔进深水区；我认为在第一章结束的时候，你已经了解了大部分的概念，这本书要做的事情之一就是首先教你如何构建一个非常简单的应用程序，然后在我们继续阅读这本书的其余部分的时候迭代这个应用程序，所以你要学会把这个应用程序变得更复杂，学会如何把它与不同的后端集成起来；有些人要求学习如何将 Backbone 与 Node.js 或 Sinatra 或 WebSocket 框架集成。这本书试图在他们的旅程中帮助用户，所以它给了你一个完整的视角，或者我可能需要重做，但这本书从头到尾给了你一个完整的鸟瞰，告诉你你需要学习如何正确使用 Backbone。

**路易:**对。很明显，这本书的另一个有趣之处是，除了它是一本关于主干网的书之外，你还以一种合作的方式在网上免费完成了它，因为它都在 GitHub 上，我假设你正在接受不同人的贡献，它仍然处于开发阶段，它仍然不完整，但我已经通读了基础部分，就让你入门和运行它而言，它肯定具有所有的基础知识，但我认为，还有很多工作要做。

是的，是的，有很多工作要做。所以当我第一次发行这本书时，我想大约两周前，我开始了一个愿望清单，开发者可以进入并添加他们想要覆盖的主题的请求，所以如果一个开发者想要书中写的任何东西，或者他们希望我考虑写一章关于某件事，他们所要做的只是提交一个想法，我会和其他一些开发者谈谈，看看他们怎么想，如果我们认为这是一个好主意，我会写一章关于它的。现在，我来谈谈愿望清单上的一些项目。有些人希望我用不同的测试栈来解决主干网的问题，你知道，有些人想知道如何用 Queue Unit 这样的解决方案来对主干网进行单元测试，他们想学习如何用它来构建移动应用程序，所以还有很多工作要做，但我对此很兴奋。 我认为我们有一个很好的机会来建立一些非常开放的东西，希望非常权威，并帮助一些人通过主干网的旅程。

路易:对，绝对没错。这种免费的在线书籍在这个行业可能不是一种非常普遍的模式，但它肯定是以前发生过的事情，并且已经有了一些非常好的例子；我的意思是，Mark Pilgrim 关于 Python 和 HTML5 的两本书都是对这些主题非常有用的巨大资源，我认为有助于这些主题从社区中获得比其他方式更多的兴趣。

哦，当然可以。我想我想免费发行这本书的原因之一是我相信教育材料应该是免费的，尽可能容易获取。我认为作者完全有权发表内容并要求回报，人们需要谋生，但当你开源你的内容时，这意味着更多的人将能够阅读它，分享它，传播它，我不知道，我认为这是一种很好的方式来发布教育材料。

Louis: 是的，尤其是像 Backbone 这样目前还不是很主流的书，所以如果你要出版一本书，一本传统的书，你不会期望卖出很多，但是免费获得它可以在这背后建立很多动力，因为它让人们更容易学习它。

当然可以。我想我决定采用这种开源模式的原因之一是，这实际上是我第二次免费发布电子书。去年，我第一次得到了其他的东西，这本书叫做《基本 JavaScript 设计模式》;我想我在第一年有大约 250，000 次下载，很难让人们阅读东西，我很高兴如果我能在主干基础上复制同样水平的成功，我会很高兴，这只是意味着我想我有希望以积极的方式影响其他开发人员，并帮助他们更好地编写代码。

路易:是的，当然。我认为 JavaScript 开发人员可能有很大的空间从服务器端开发人员那里获得一些提示，看看这种结构，我想，这肯定在过去一两年里成为一个主要话题，你已经看到所有这些前端框架的出现，并真正专注于尝试使 JavaScript 的行为更像我们习惯使用的结构化编程语言。

艾迪:嗯。

**Louis:** 现在，你说你已经看过了近年来出现的许多不同的 JavaScript 框架，你决定用 Backbone，因为它天生适合你。你想谈谈不同之处吗？你觉得哪里你更喜欢 Backbone，哪里其他的有有趣的特点？

艾迪:在很多情况下，我认为这取决于风格。所以，当我第一次学习 Backbone 的时候，我意识到有很多其他的框架正在尝试提供类似的东西。所以我们有了——我想一年前我们有了 SproutCore，我们有了 JavaScript MVC，Spine 也进入了画面，这些框架中的大多数仍然存在，SproutCore 变成了 Ember.js，大多数其他的仍然存在，但是对于那些仍然犹豫不决并试图决定选择什么框架的开发人员，我创建了一个名为 To-Do MVC 的项目来尝试帮助解决这个问题。什么是待办 MVC，基本上是一个待办应用程序的集合，所以每个人都知道什么是待办应用程序，它只是一个列表应用程序，你可以添加一些关于你必须做的事情的小提醒，你可以从列表中划掉项目，你可以在适当的位置编辑它们。因此，待办事项 MVC 的想法是，你可以在许多不同的框架中获得相同的两个应用程序，我们有 Backbone.js 版本，我们有 Spine.js，JavaScript MVC，Ember.js 对于那些仍在犹豫要采用哪种框架的开发人员来说，这意味着你所要做的就是进去，浏览一下这些应用程序的源代码，看看哪一个最适合你可能喜欢使用的风格。现在，大多数都实现了某种形式的 MVC，或者 MVC 的变体，这并不是说简单地审查源代码就能让你决定一个框架，当然，你应该去多研究一下框架在实现待办事项 MVC 之外还提供了什么。但我认为这只是一种方式，我想知道你可能更喜欢使用什么，而不必花六个月或八个月来实现一些东西，然后去，嗯，你知道，这可能不是最好的决定。

路易:对，绝对没错。那么，您是否发现自己在任何时候都在努力在所有这些不同的框架中实现相同的特性集？

哦，当然可以。我想精通所有的框架是非常困难的，这是非常困难的，因为涉及到不同的特性集和语法，所以社区在这方面非常有帮助。每当有一个应用程序，我觉得我不能亲自实现，我就尝试在 Twitter 和 GitHub 上联系，社区很棒，人们站出来说，你知道，我要花一个周末来构建这个应用程序，如果你能帮助我设计风格以确保它被正确实现，我很乐意推动这个 To-Do MVC，这真的有助于项目的发展。目前，我正在与一些贡献者合作，以获取 Dojo MVC 在那里和其他应用程序中的引用，但这只是意味着，无论其他开发人员有什么我没有的框架经验，我们仍然可以将这些经验借给项目，并希望帮助其他人选择适合他们的东西。

路易:对，绝对没错。如果一个 JavaScript 开发人员有点犹豫不决，他们会非常高兴地使用内联 DOM 和 jQuery 做他们目前所做的一切，他们确实会觉得有时他们会回头看自己的代码，好像，哦，这有点难以阅读、理解或使用，或者他们看到了别人的代码并有这种感觉，但这感觉像是开始将现有代码转移到主干网之类的东西上的一大步。有什么好方法可以让你的脚沾湿并开始玩它？

Addy: 老实说，我会给出一个非常愚蠢的答案，只是看看 Backbone 附带的基本视图应用程序。正如我所说的待办应用程序，它只是我实际上已经构建到一个完整项目中的东西，它只是给你一个很好的简单风格，告诉你如何将应用程序分解成所使用的模型、控制器(如果框架支持的话)或路由器和集合等。待办事项 MVC 实际上也有一个用 jQuery 和普通 JavaScript 实现的待办事项应用程序版本，所以你实际上可以看一看如何使用一些当前的东西，我猜有些人可能会称之为意大利面条代码，就像一个文件中的所有东西，然后看看如何使用不同的框架将其分解成不同的关注点。所以我认为 To-Do MVC 实际上也可以帮助你做到这一点，希望如此。

**路易:**对。这很有趣。当您使用这些不同的框架时，与普通的 JavaScript 或 jQuery 相比，编写的代码量有很大的不同吗？

Addy: 我认为就开发人员必须自己编写的代码量而言，这是最少的；很少，添加量很少。当然，你必须包括你选择的框架，所以如果我使用主干网，我的项目就要增加几千字节，如果我使用主干网，情况也一样。但是，是的，对于开发人员来说，将代码转换成更具结构性的东西是最少的。

**路易:**对。

Addy: 但是对于开发人员来说，如果他们是新手，并且仍然想知道如何将我的标准 JavaScript 应用程序转换或分解成控制器中使用的模型，你可以做一些非常简单的事情。我要做的第一件事是看看你的其他应用程序中的数据，那么你的应用程序中代表了哪些独特的数据。对于图片库应用程序，同样，你将拥有图片的 id，你将拥有包含多张图片的图片库的 id，所以这将是一个组或一个集合。然后你需要考虑用户需要看到什么和做什么。现在，这归结到你的观点，所以我们刚才谈到了模型，模型都是关于你的应用中的独特数据，以及你想如何表示它们。你甚至有视图，这些视图基本上是用户需要能够看到和做的事情，这比那要复杂一点，但是让我们来谈谈——让我们来看看模板，对，所以另一件要考虑的事情是，你的应用程序中有什么可重复的输出，你希望转移到 JavaScript 模板来使事情变得更有性能。还有控制器，控制器的作用各不相同，实际上我们已经讨论过了，在您的应用中，如果您正在讨论使用主干网，假设您的控制器实际上是路由器，路由器要做的是负责应用的导航。因此，如果我有一个单页面应用程序，并且我想开始在可能可用的不同图库中导航，当我单击特定图库时，我希望用户仍然能够标记到该图库的路径。因此，即使这不是一个有真实路径的应用程序，服务器上也没有真实的文件夹来代表我们将要渲染的文件或视图，我们仍然希望给他们一个干净的方式来模拟这种行为。使用 Backbone，你既可以使用 HTML5 的 PushState，也可以简单地使用 hashbang URLs 来模拟这些 URL，这样人们仍然可以进入并说，好吧，我已经导航到了这个应用程序中的一张特定照片，我知道这个应用程序没有真正的文件夹或正确的服务器端结构，但是通过使用 Backbone 的路由器复制并粘贴这个 URL，我仍然可以非常非常容易地将用户导航回特定的图像，这是这些 MVC 框架的强大之处之一；如果它们默认支持路由，这意味着你不必亲自去弄清楚我如何监控散列变化事件，以及我如何自己处理所有这些与 URL 相关的肮脏事情。

路易斯:是的，那会延伸到浏览器的历史和后退按钮吗？

**艾迪:**确实如此；根据不同的框架，它实际上可以有一个内置的支持管理后退按钮，但它确实有。这也意味着，如果我在一个应用程序中向下导航多个深度，它可能有多个视图，我可以很容易地使用后退按钮；如果应用程序编码正确，我可以使用 back 按钮返回到我刚才所在的位置。

路易斯:对，没错。你知道在引擎盖下，如果使用 HTML 的浏览器历史？

Addy: 同样，它确实会根据您使用的框架而有所不同。

Louis: 是的，但只是专门谈论主干，因为你可能会对它了解得更多一些。

Addy: 就具体问题而言，你可能会更多地谈论 Backbone 或 HTML5 PushState，就这一点而言，是的，Backbone 确实支持 HTML5 PushState，如果你想打开它，你可以使用它。使用 PushState 的好处是，人们会在 URL 中看到某种散列或散列片段，他们只会看到非常干净、非常简单的 URL；最终用户不会知道，如果不检查你的代码，他们不会知道你在使用一个单页应用程序，它看起来像是一个完全基于服务器的应用程序，所有这些路径实际上都自然存在于服务器端，但它们不是，所以这实际上是一件非常美好的事情，因为这意味着他们不需要担心这个看起来奇怪的 URL 是否真的可以在其他浏览器中工作或类似的事情。支持 HTML pushState 的框架的美妙之处在于，在很多情况下，如果不支持 pushState，它们会优雅地退化回使用 hash bang。因此，如果我尝试使用不包含任何哈希符号的 pushState URL 导航，而我的应用程序不一定支持这一点，我可以使用哈希符号来代替，并且仍然为用户提供标记 URL 的能力。

**路易:**对。这有点偏离你刚才所说的，也就是说，当你把你的应用程序分解开来，用一种非结构化的方式编写一个应用程序，并试图用这种方式使它结构化时，你就要说如何把交互分解成路由之类的事情了。

绝对的。人们日常使用的许多应用程序都是单页应用程序，它们可能不一定使用 Backbone，它们可能使用某种自己开发的解决方案，但实际上有一些单页应用程序要么使用 hash bangs 让人们能够导航，要么使用 HTML5 pushState。Gmail 是这方面的完美应用；Gmail 可能是我最喜欢的基于 JavaScript 的应用程序，如果你看一下 Gmail 使用的 URL 方案，你会发现在一些浏览器中，它实际上使用 hashbangs 来帮助你浏览不同的电子邮件。如果你复制这些 hashbang URLs 并粘贴回来，你实际上可以准确地到达你所在的位置，不管我们是在谈论特定的电子邮件还是你正在查看的特定设置，我认为这非常漂亮。能够干净地管理状态，帮助人们准确地到达他们在应用程序中的位置，并与人们分享这些位置，这意味着在这些应用程序中使用 JavaScript 的有效性更强，我认为更强大。

路易:肯定。好的，我非常感谢你抽出时间来参加这个节目并讨论所有这些话题，我认为得到你对这一切的看法真的很有趣。在我们离开之前，我想给每个人提供相关资料的链接，所以这本书在 github.com/addyosmani/backbone-fundamentals 的，你想给一些你的 Twitter 和你的网站的链接让人们在线查找你吗。

绝对的。我在推特 [@addyosmani](http://twitter.com/addyosmani) ，所以那是 a-d-d-y-o-s-m-a-n-I；GitHub 也是如此，github.com/addyosmani 也是如此，如果你想多读一点关于我写的一些电影剧本的书和文章，它们都在 addyosmani.com[上](http://addyosmani.com/)。

路易斯:太棒了，这一切都很简单。所以，再次感谢你抽出时间来参加这个节目并谈论这个话题，我真的很期待看到这本书是如何发展的，以及人们是如何投入其中并为之做出贡献的。

当然，谢谢你邀请我。

路易:这是我的荣幸，谢谢。

艾迪:很好，谢谢你。

路易斯:感谢您收听本周的 SitePoint 播客。我很想听听你对今天节目的看法，所以如果你有任何想法或建议，只要去 Sitepoint.com/podcast[就可以了，你可以对今天的节目发表评论，你也可以下载或订阅我们以前的任何一集来自动观看节目。你可以在 Twitter 上关注 SitePoint](https://www.sitepoint.com/web/podcast/)[@ sitepointdotcom](http://twitter.com/sitepointdotcom)，那是 sitepoint d-o-t-c-o-m，你也可以在 Twitter 上关注我 [@rssaddict](http://twitter.com/rssaddict) 。本周节目由卡恩·布罗德制作，我是路易斯·西蒙诺，感谢收听，再见。

迈克·梅拉的主题音乐。

感谢收听！请随时让我们知道我们做得怎么样，或者使用下面的评论栏继续讨论。

## 分享这篇文章