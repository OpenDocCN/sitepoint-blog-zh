# HTML 电子邮件和 Lotus Notes

> 原文:[https://www.sitepoint.com/html-email-and-lotus-notes/](https://www.sitepoint.com/html-email-and-lotus-notes/)

尽管毫无疑问，RSS 在酷孩子中很受欢迎，但当谈到主动联系受众的方法时，我们在过去 12 个月中接触过的几乎每个客户都在要求同样的事情——“给我们 HTML 电子邮件！”

这并不是什么大惊喜。即使是最“非技术性”的经理通常也已经成功使用电子邮件多年，并认为他们很好地理解了它。他们知道他们的观众也理解电子邮件。他们通常也已经很熟悉传统的直接营销方式，所以把这个概念带到网上对他们来说并不是一个很大的飞跃。

这对我们开发人员来说都是很好的工作，但是确实迫使我们处理一些我们可能更愿意回避的问题。垃圾邮件过滤器比以往任何时候都更具攻击性，值得单独发布。

当然，另一个主要问题是邮件客户端的巨大差异。虽然我们可能会扭扭捏捏地抱怨不得不迎合三个 ie，Firefox，Opera *和* Safari，但邮件客户端的景观是和平共存的生物多样性的真正亚马逊(丛林，而不是书店)。

不管大卫·铃木怎么说，多样性是不好的？！

在过去的几天里，我特别意识到了这个事实。最近，为了降低不断上升的带宽成本，我们重新编码了我们新的 letter 创作系统的一些内部组件(设计视图、技术时报等)。最初的模板有意识地非常“老派”——表格包含“字体标签重”的段落——所以我们决定尝试借助更多的 CSS 来精简它们。主要的表格结构保持不变，但是我们去掉了大部分的字体标签和颜色以支持标题样式，每期减少了不到 20%。

我们所做的测试对于 Outlook、Outlook Express、Thunderbird、Eudora、Gmail、Hotmail、Pegasus 和许多其他客户端都很好，但是，从 Mary Ransom、Donna Stegner 和 Pam Froemke 的一些有用反馈来看，我们给 Lotus Notes 用户和其他一些不太常用的客户端用户带来了一些实际问题。

向所有三个用户和任何其他用户道歉，他们在重新编码后收到了不太有用的时事通讯内容。

Notes 一直是一个有问题的客户端，原因有二。首先，它以“极端偏见”对待收到的 HTML，随心所欲地剪切、切片和修整。第二，据我所知，没有简单又便宜的方法来测试这个客户端。

然而，我想分享一篇关于[笔记和 HTML 邮件](http://www.templatekit.com/lotusnotes1.php)的非常有用的“模板工具包”文章，它确实回答了我的一些问题。

有两件事我们很容易知道。

1) Notes 经常将 HTML 中的回车转换成实体，意思是:
`https://i2.sitepoint.com/graphics
/grafitti5.png`可以转换成`https://i2.sitepoint.com/graphics<cr>/grafitti5.png`
断图。同样的事情也可能发生在链接上，所以尽量保持行的长度和完整性。

2) Notes 默认喜欢把 CSS 从表头剥离。然而，根据这篇文章，可以通过将每个规则放在标准 HTML 注释中来抵制这种情况。换句话说，这是行不通的:

```
<style type="text/css">
#content{padding:11px 6px 11px 12px;}
#col{margin:0;}
</style>
```

但是这个*应该是*:

```
<style type="text/css">
<!--#content{padding:11px 6px 11px 12px;}-->
<!--#col{margin :0;}-->
</style>
```

我还在测试这个东西，所以我不能绝对确认这个技术，但它肯定比我今天早上画的完全空白要好。当然，这些修复可能会在其他客户端引发一系列问题，比原来的问题更糟糕。

我会让你知道结论。

## 分享这篇文章