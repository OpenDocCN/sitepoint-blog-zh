# 用 Docker 设置 PHP 开发环境

> 原文:[https://www.sitepoint.com/php-development-environment/](https://www.sitepoint.com/php-development-environment/)

**以下文章摘自 *[PHP & MySQL:新手到忍者，第 7 版](https://www.sitepoint.com/premium/books/php-mysql-novice-to-ninja-7th-edition)* ，这是一本学习构建专业 web 应用程序所需的所有工具、原则和技术的实用指南。在本系列的第一篇教程中，我们将介绍如何用 Docker 设置 PHP 开发环境。**

* * *

*   **用 Docker 建立你的 PHP 开发环境**
*   PHP 初学者指南
*   【MySQL 入门指南
*   [在 Web 上显示来自 MySQL 的数据:简介](https://www.sitepoint.com/mysql-data-web)

* * *

在本书中，我将指导您走出静态世界，使用 HTML、CSS 和 JavaScript 等纯客户端技术构建网页。我们将一起探索构建网站的世界，并发现令人眼花缭乱的动态工具、概念和它们带来的可能性。无论你做什么，都不要往下看！

好吧，也许你应该往下看。毕竟，这本书的其余部分就在那里。但是记住，你被警告过！

在你建立你的第一个动态网站之前，你必须收集你工作需要的工具。就像烤蛋糕一样，在你开始按照食谱做之前，你需要配料。在这一章中，我将向您展示如何下载和安装所需的软件包。

如果你习惯于用 HTML、CSS 甚至少量的 JavaScript 来构建网站，你可能熟悉将组成你的网站的文件上传到一个特定的位置。它可能是你已经付费的虚拟主机服务，由你的网络服务提供商提供的网络空间，或者是由你工作的公司的 It 部门建立的网络服务器。在任何情况下，一旦你将文件复制到这些目的地中的任何一个，一个叫做网络服务器的软件程序就能够在微软 Edge、Internet Explorer、谷歌 Chrome、Safari 或 Firefox 等网络浏览器请求时找到并提供这些文件的副本。您可能听说过的常见 web 服务器软件程序包括 Apache HTTP Server (Apache)、NGINX 和 Internet 信息服务。

PHP 是一种服务器端脚本语言。下载和使用完全免费。你可以把它看作是你的网络服务器的一个插件，使它不仅仅能够发送网络浏览器所请求的文件的精确拷贝。安装了 PHP 之后，你的网络服务器将能够运行叫做 PHP 脚本的小程序，这些小程序可以完成诸如从数据库中检索最新信息，并在将网页发送给请求它的浏览器之前，用它来动态生成网页之类的任务。这本书的大部分内容将集中在编写 PHP 脚本来实现这一点。

为了让 PHP 脚本从数据库中检索信息，您必须首先*拥有*一个数据库。这就是 MySQL 的用武之地。MySQL 是一个**关系数据库管理系统**，或 RDBMS。我们稍后将讨论它的确切作用和工作原理，但简单地说，它是一个软件程序，能够有效地组织和管理许多信息，同时跟踪所有这些信息是如何相互关联的。MySQL 还使这些信息通过 PHP 等服务器端脚本语言变得非常容易访问。而且，像 PHP 一样，它对大多数使用都是完全免费的。

第一章的目标是为你建立一个配备了 PHP 和 MySQL 的 web 服务器。我将提供适用于最新版本的 Windows、macOS 和 Linux 的逐步说明，因此无论您使用的是哪种风格的计算机，您需要的说明都应该在这里。

[![PHP & MySQL: Novice to Ninja](../Images/0c5e27a112706e9dfe4e0f846efcefa0.png)T2】](https://www.sitepoint.com/premium/books/php-mysql-novice-to-ninja-7th-edition/)

## 你自己的网络服务器

很有可能，你当前的网络主机的网络服务器已经安装了 PHP 和 MySQL——这也是 PHP 和 MySQL 如此受欢迎的原因之一。如果你的虚拟主机有这样的装备，好消息是你将能够发布你的第一个网站，而不需要购买支持正确技术的虚拟主机。

当开发静态网站时，你可以简单地将你的 HTML 文件直接从你的硬盘加载到你的浏览器中，看看它们是什么样子的。当你这样做的时候，不需要网络服务器软件，这很好，因为网络浏览器可以自己阅读和理解 HTML 代码。

然而，当涉及到使用 PHP 和 MySQL 构建的动态网站时，您的 web 浏览器需要一些帮助。网络浏览器无法理解 PHP 脚本。相反，PHP 脚本包含让精通 PHP 的 web 服务器执行的指令，以便*生成*浏览器可以理解的 HTML 代码。

即使您已经有了一个支持 PHP 的 web 主机，您仍然希望能够自己运行 PHP 脚本，而不需要使用别人的服务器。为此，您需要设置自己的 web 服务器。“服务器”这个词可能会让你想到一个装有空调的大房间，里面放满了机架上的大型计算机。但是不用担心，你不需要任何花哨的新硬件。你的笔记本电脑或台式电脑就可以了。

要在您的 web 主机上运行 PHP 脚本，您需要在您的编辑器中编写它们，打开您的 FTP 或 SSH 客户端并将它们上传到服务器。只有这样，通过导航到您创建的文件的 URI，您才能在浏览器中看到结果。如果你犯了一个错误，你需要修改代码，回到你的 FTP 程序，再次上传文件，然后重新加载页面。这是很乏味的，而且耗费了你本可以用来编写代码的宝贵时间。通过在您自己的 PC 上运行服务器，您将能够在编辑器中保存文件，并且只需刷新页面即可在浏览器中查看更改，无需上传文件。这是一个真正的省时器，也是最大的省时器之一(虽然不是唯一的！)在你的个人电脑上运行服务器的优势——即使你已经有了一个非常好的网络主机。

那么，如何让网络服务器在你的电脑上运行呢？实现这一点有四种方法，各有利弊。

### 服务器设置 1:手动安装所有软件组件

Apache 是一个 web 服务器，像大多数软件一样，它带有一个安装程序，可以让您在 PC 上轻松设置它。不需要太多努力，你就可以让它*服务*网页。然而，有成百上千的配置选项，除非你知道你在做什么，否则让它为开发 PHP 网站工作是很费时间和令人困惑的。

对于我们运行 PHP 脚本的目的来说，仅仅一个 web 服务器是不够的。对于手动安装，您还需要安装 PHP——它没有安装程序——并对其进行配置。和 Apache 一样，有很多选项，默认设置就像你在运行一个实时网站一样。对于开发代码来说，这很糟糕，因为没有显示任何错误。如果你犯了一个错误，你会得到一个没有任何错误提示的空白页面。即使是一个不合适的字符——比如缺少一个大括号或分号——也会给你一个空白页面，没有任何导致问题的指示。要解决这个问题，您需要手动配置 PHP 安装，调整设置以显示错误消息，并启用其他工具，使开发成为一项更愉快的任务。

您还需要配置 Apache 与 PHP 对话，这样当有人连接到服务器并请求一个扩展名为`.php`的文件时，该文件首先被发送到 PHP 进行处理。

要阅读这本书，您还需要 MySQL，这意味着也需要手动安装和配置。

Apache、MySQL 和 PHP 都有几十个配置选项，除非你确切知道你在做什么，否则它们很难设置。即使你是专家，也要花至少一个小时才能让一切正常工作！

手动安装需要大量的知识或研究，超出了本书的范围。可以肯定的是，能够配置服务器是一项有用的技能，但它并不能帮助你学习如何使用 PHP 编程——如果你正在阅读这本书，这才是你真正感兴趣的。

这个选项不适合胆小的人，即使是经验丰富的专业人士也很容易错过一些重要的设置。如果你真的想手工安装和配置你的系统，看看我们的[在 Windows](https://www.sitepoint.com/how-to-install-php-on-windows/) 上安装 PHP 的指南。然而，如果你不想担心单独设置和配置所有的软件，有一些很好的替代选择。

### 服务器设置 2:预打包安装

多年来，开发团队已经认识到手动安装的问题，为了克服这些问题，他们构建了预打包安装——一个安装 PHP、Apache、MySQL 和其他相关软件的单一安装程序，所有这些都预先配置了适合像您这样的开发人员的设置。这种包最流行的例子是 XAMPP: X(任何操作系统)、Apache、MySQL(或者更具体地说，MariaDB，MySQL 的“分支”，有更好的许可证)、PHP 和 Perl。备选方案包括 WAMP (Windows、Apache、MySQL 和 PHP)、LAMP (Linux、Apache、MySQL 和 PHP)和 MAMP (macOS、Apache、MySQL 和 PHP)。

这显然比手动安装每个软件要简单得多，并且不需要您学习如何配置您的服务器。这种方法快速简单，比手动安装好得多，尽管这种方法可能会遇到一些问题，如下所列。

*   你的网络主机可能运行的是 Linux，但你的电脑可能不是。尽管 Apache、MySQL 和 PHP 可以在 Windows、Linux 或 macOS 上运行，但这些操作系统的工作方式有一些很大的不同。在 Windows 上，文件名*不区分大小写*，这意味着`FILE.PHP`与`file.php`和`fIlE.pHp`相同。在你的网络主机上，这几乎肯定不会发生！如果在 Windows development server 上运行良好的脚本一旦上传就无法运行，这将导致经常出现的问题，因为代码中引用的文件的大小写是错误的。
*   Apache 和 MySQL 是*服务器*，它们在后台运行。即使你不开发软件，它们也会运行，耗尽你电脑的内存和处理能力。
*   预打包的软件总是有点过时。尽管安全补丁并不是开发计算机的首要任务(你不应该允许人们通过网络访问它！)，对于开发者来说，保持软件的最新版本来检查当你的网络主机上的软件更新时可能遇到的问题总是有用的。如果您的 web 主机使用的 PHP 版本比您的开发服务器更新，这可能会导致已经更改或删除的特性出现问题。最后，开发人员喜欢在新特性发布时尝试它们。如果你没有使用最新的版本，你将无法做到这一点！

虽然预打包安装比安装好得多，但是这些问题并没有使它们变得理想。幸运的是，有一个更好的方法！

### 服务器设置 3:虚拟服务器

启动并运行服务器的第三种方法是“虚拟服务器”。虚拟服务器就像一台不同计算机上的网络服务器。这台计算机可以运行任何操作系统，您可以从您的 PC 连接到它，就像它在世界上的其他地方一样。

VirtualBox 等虚拟化软件和 VMware 提供的工具很常见。作为一名网络开发人员，你可能熟悉诸如 [modern.ie](http://modern.ie/) 这样的工具，这是微软提供的一项有用的服务，可以让你下载运行各种版本的 Windows、微软 Edge 和 Internet Explorer 的**虚拟机**。如果你想在 Windows XP 上的 Internet Explorer 8 中查看你的网站的外观，你可以下载相关的虚拟机，并在 Windows 10/macOS/Linux 桌面上的窗口中运行它，而不必在现有的 Windows 10、Linux 或 macOS 安装中实际安装和运行 Windows 7 和 Internet Explorer 8。

![Windows 10 running inside Arch Linux](../Images/9ab8139370200bd2e4296f0d161cf624.png)

像 VirtualBox 这样的软件允许你在另一个操作系统中运行一个操作系统。为了测试 Internet Explorer 8，您可以在虚拟机中运行 Windows 7。然而，对于我们运行 PHP 脚本的目的，这允许我们做一些更酷的事情:我们可以在 Windows 或 macOS PC 上运行安装了 PHP、Apache 和 MySQL 的 Linux web 服务器。

这可用于允许您在完全相同的操作系统上运行您的 web 主机上正在使用的完全相同版本的 PHP、MySQL 和 Apache，这防止了由于版本差异或正在使用的操作系统的差异而可能存在的任何问题。

最大的优势之一是，你可以下载预先配置的虚拟机，如微软提供的 Windows XP 和 Internet Explorer 8 虚拟机，或者安装了 PHP、Apache 和 MySQL 并配置为协同工作的虚拟机。这类似于预先配置的包，但是在 Linux 上运行，就好像它是您网络上的一个真正的 web 服务器一样。

这样做的缺点是，为了运行代码，你必须下载整个操作系统。这意味着更多的下载。这也意味着包被锁定到你下载的虚拟机所提供的任何东西。把 PHP 7 换成 PHP 8 需要下载一个全新的操作系统。

### 服务器设置 4: Docker

Docker 接受了虚拟化的概念，并彻底颠覆了它。每个程序(或者用 Docker 的术语来说是“服务”)都在一个被称为**容器**的隔离环境中运行。

Docker 允许软件开发人员提供一个配置文件，描述运行应用程序所需的所有程序，例如 PHP、MySQL、Apache 等等。

然后，这个配置文件被视为它自己的应用程序。当您运行应用程序时，Docker 会自动下载并安装配置文件中列出的所有软件。

这样做的开销比您想象的要低得多，而且有许多好处:

*   服务器配置作为应用程序的一部分提供。当您使您的网站处于活动状态时，您可以随网站一起上传所有配置文件。在传统模型中，您必须手动设置和配置 web 服务器。
*   多个网站可以在你的开发机器上同时运行，配置不同，甚至服务器软件也不同(比如一个网站用 Apache，另一个用 NGINX)。如果没有 Docker，通常会安装一个 PHP 版本，并对机器上运行的每个网站应用一个配置。
*   你可以很容易地换出一个软件。如果你想将网站从 PHP 7 升级到 PHP 8，只需在一个文件中做一次修改，你可以逐个网站地进行修改，而不必一次升级所有的网站。

Docker 是目前设置 PHP 开发环境的最佳选择。如果您想了解更多关于使用 Docker 为自己设置开发环境的信息，请查看我的文章“[使用 Docker](https://www.sitepoint.com/docker-php-development-environment/) 设置现代 PHP 开发环境”。

## 入门指南

在编写任何 PHP 代码和开发您的网站之前，我们将使用 Docker 设置开发环境。我已经为您提供了所有的配置，但是在您开始之前，您需要安装 Docker。

### 在 Windows 上安装

首先，从 Docker 网站下载并安装最新版本的 Docker for Windows。

一旦你安装了 Docker(并根据要求重启)，在你的电脑上创建一个文件夹来存放你的网站。它可以在任何地方:你的`Documents`文件夹、桌面、外部硬盘等等，但是要确保你知道它在哪里，因为你需要经常回到这个文件夹。

你还需要知道如何打开终端。Windows 10 让这一切变得简单。在文件浏览器中打开文件夹，选择窗口左上角的**文件**菜单，然后点击**打开 Windows PowerShell** 。确保你是从**文件**菜单而不是开始菜单中完成的，因为从**文件**中点击它会在你选择的文件夹中打开命令提示符。

在 PowerShell 打开的情况下，验证它显示的路径是您选择的文件夹—例如，`C:\Users\Tom\Documents\My Website`。然后转到下面的“Docker 入门”部分。

在撰写本文时(2021 年 9 月)，在 Windows 11 的当前预览版中，PowerShell 已被重命名为 *Windows 终端*，并以不同的方式访问:

1.  通过从开始菜单手动打开 *Windows 终端*应用程序一次来启用该选项。你可以打开和关闭程序。令人费解的是，微软将 Windows 11 设计成这样一种方式，即打开一个程序会打开另一个程序中的隐藏设置，如果你跳过这一步，第三步的菜单项就会丢失。
2.  使用文件资源管理器导航到您的文件夹。
3.  右键点击主面板(应该显示“此文件夹为空”)，选择**在 Windows 终端**打开。

![The Open Terminal option in Windows 11](../Images/309905022ebc29649ef47355d7d254dc.png)

*注意:在 Windows 11 发布时和本书出版后，这些说明可能会发生变化。*

### 在 macOS 上安装

首先，从 Docker 网站下载并安装 Docker for macOS。

一旦你安装了 Docker(并根据要求重启)，在你的电脑上创建一个目录来保存你的网站。它可以在任何地方:你的`Documents`目录、桌面、外部硬盘等等，但是要确保你知道它在哪里，因为你需要经常回到这个文件夹。

如果您熟悉使用终端在电脑中导航，您可以跳过这一步，但为了方便起见，我建议您启用一个功能，让您在当前目录中打开终端。这可以通过以下步骤打开:

1.  打开系统偏好设置
2.  转到**键盘**
3.  选择**快捷键**选项卡
4.  点击**服务**按钮
5.  勾选文件夹中的**框新建终端**

![macOS: Enable New Terminal at Folder](../Images/b8035d7320f73be43c668a74ecdc9e26.png)

启用后:

1.  从`Applications`文件夹中打开 Docker 应用程序并接受条款
2.  返回 Finder
3.  导航到您想要存储网站的目录
4.  右键单击(或`control`单击)目录名，从内容菜单中选择**服务**选项，在文件夹中选择**新建终端**

打开此终端后，您就可以继续下面的“Docker 入门”部分了。

接下来，每当您希望启动或停止服务器时，只需重复最后一组步骤。

### 在 Linux 上安装

Linux 一般会让安装软件变得非常简单，Docker 从设计上来说其实就是一个 Linux 程序。在大多数发行版中，它可以通过您的软件包管理器来安装，但是您可能需要建立一个定制的软件包仓库。

对于基于 Debian 的发行版(Debian、Ubuntu、Mint 和 KDE Neon)和基于 RedHat 的发行版(RedHat、CentOS、Fedora ),有一个安装脚本可以建立一个定制的存储库并安装 Docker:

```
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh 
```

有关您的分发的具体说明，请查看 [Docker 手册](https://docs.docker.com/engine/install/)。

安装 Docker 后，您必须使用以下命令来启用和启动服务:

```
sudo systemctl enable docker
sudo systemctl start docker 
```

最后，您可以将自己添加到`docker`组，这样您就不需要通过`sudo`运行 Docker 应用程序:

```
sudo usermod -aG docker ${USER} 
```

更改用户组需要注销并重新登录，所以注销并重新登录(记住保存您打开的任何内容！)，一旦您返回，就可以打开终端了。

重新登录后，在您的电脑上创建一个您想要储存网站的目录。它可以在任何地方:你的`Home`目录、桌面、外部硬盘等等，但是要确保你知道它在哪里，因为你需要经常回到这个文件夹。

在文件管理器中打开文件夹，选择**打开终端**选项。在 Dolphin 文件管理器中，你可以右击并选择**打开终端**，但是这个选项可能在不同的位置，并且可能根据你使用的文件管理器的不同而命名不同。

## Docker 入门

既然您已经安装了所有的软件，并且您的终端已经在正确的位置打开，那么是时候运行一些 Docker 命令了。

虽然您可以手动设置环境并自己配置一切，但这需要不同于编程的技能，超出了本书的范围。我已经根据我之前链接到的的[文章提供了一些配置。](https://www.sitepoint.com/docker-php-development-environment/)

首先，使用以下命令复制配置:

```
docker run --rm -v ${PWD}:/install vjedev/installer:latest 
```

![Running the installer](../Images/44d2def04a661f8fb2868f5d3b7f7c3f.png)

该命令从 GitHub 存储库中下载一些配置文件，并将它们复制到当前文件夹中。这个目录必须是空的，这样才能工作，所以确保在您试图运行这个命令的目录中没有文件或子目录。

*注意:GitHub 是一个被很多开源项目使用的源代码托管平台。一个**库**是一个单独项目的名字。在这种情况下，代码是从 github.com/v-je/docker 下载的。*

*提示:如果您已经安装了 Git，您可以在此时运行下面的命令:`git clone [https://github.com/v-je/docker](https://github.com/v-je/docker) .`然而，我并没有要求本书的每个读者都为一个命令安装 Git，而是为您创建了一个安装程序脚本。*

您只需要在第一次这样做，一旦命令完成，您将看到一些配置文件出现在您的目录中。请随意浏览创建的文件。还有`nginx.conf`，配置 web 服务器；`PHP.Dockerfile`，配置 PHP 扩展；以及`docker-compose.yml`，它列出了当你启动服务器时将要安装和运行的所有程序(NGINX、MySQL、PHP 等等)。

不要担心试图理解这些文件。您不需要对它们做任何事情，因为它们只是在您运行下一个命令时配置服务器。

*注意:在我们继续之前，值得一提的是，我们刚刚设置的环境使用 NGINX，而不是 Apache。如果你一直在使用 XAMPP 或类似的软件包，你正在使用的 web 服务器是 Apache。web 服务器是服务器的一部分，它侦听来自 web 浏览器的请求并向其发送文件。*

Apache 很好，也很有效，但它已经存在很久了。当 Apache 创建时，Web 是一个非常不同的地方。Apache 很大，有许多不同的特性来来去去，但是 Apache 仍然支持这些特性。自从 Apache 创建以来，Web 已经发生了很大的变化，虽然 Apache 是一个有能力的服务器，并且会工作得很好，但是现在大多数网站都倾向于使用 NGINX。它更容易配置，更轻量级，更适合许多现代网站使用的任务类型(如视频流)；因此，[它的市场份额正在迅速增长，而阿帕奇的](https://news.netcraft.com/archives/category/web-server-survey/)的市场份额却在下降。

我的总体建议是:如果你已经有了一个运行 Apache 的网站，没有理由去费力地更改它，但是如果你要从头开始一个新项目，就使用 NGINX。

现在您已经下载了服务器配置文件，是时候让 Docker 下载并运行服务器所需的所有程序了。运行以下命令:

```
docker compose up 
```

![The output of docker compose up](../Images/5b6301c23d99e9da7239f72a24596997.png)

*注意:由于无聊的技术原因，不值得在此赘述，`docker compose`命令曾经是一个名为`docker-compose`的独立程序。这个功能现在已经转移到 Docker 本身了。然而，如果你在一个旧的 Linux 发行版上，或者运行一个旧版本的 Docker Desktop，你可能需要在所有的`docker compose`命令中用`docker-compose`替换`docker compose`。只对`compose`做这个替换。其他命令如`docker run`应该保留空格。*

*运行`docker compose up`时可能会出现以下错误:*

```
docker: 'compose' is not a docker command.
```

*如果是这样，你需要用`docker-compose up`替换这个命令，如果你在 Linux 上，你可能还需要使用你的包管理器安装单独的`docker-compose`包。*

`docker compose`命令加载`docker-compose.yml`，然后下载并安装所有列为*服务*的软件。我们现在感兴趣的主要是 PHP、NGINX 和 MariaDB。

第一次运行这个命令需要几分钟，因为它必须下载所有需要的软件。不要担心，因为这只是第一次发生。一旦下载并安装了软件，以后启动服务器将会容易得多。

不像直接在你的 PC 上手动安装 NGINX/PHP/MySQL，服务器只在你需要的时候启动，通过运行`docker compose up`。你可以在任何时候通过回到终端并按下`Ctrl` + `C`来停止服务器。

或者，您可以使用以下命令在后台启动服务器:

```
docker compose up -d 
```

您可以从终端运行`docker compose down`来停止服务器。(您必须在正确的目录下打开终端来启动和停止服务器！)

每次您想要在网站上工作时，您都可以使用相同的过程启动和停止服务器:

1.  导航到您创建的文件夹
2.  像之前一样打开终端/Windows PowerShell
3.  运行`docker compose up -d`

完成后，您可以使用相同的过程停止服务器:

1.  导航到您创建的文件夹
2.  像之前一样打开终端/Windows PowerShell
3.  运行`docker compose down`

如果您让终端在后台打开，您可以只打开窗口并运行步骤 3。

*提示:命令`docker compose down`停止正在运行的服务并删除它们，释放磁盘空间。这也迫使它们每次都被重新创建。*

*您也可以使用`docker compose stop`和`docker compose start`来停止和启动服务器。但是这些依赖于容器、网络和 Docker 在执行之间创建的其他东西。系统恢复，在计算机之间移动文件，甚至运行你正在用于其他任务的其他 Docker 命令(小心使用`docker prune`！)可以去掉这些。*

使用`up`和`down`的*将使用一种全新的方法，并且始终保持可靠。但是，它确实需要在不使用时删除，并在使用时重新创建。不过不要担心:您创建的目录中的所有 PHP、JavaScript 和 CSS 文件都不会被删除！*

### 连接到服务器并创建您的第一个文件

现在您已经运行了服务器，您可以使用您最喜欢的 web 浏览器连接到它。该服务器就像一个运行在互联网上的真正的 web 服务器。你可以打开你的浏览器，在地址栏输入`v.je`然后按下`enter`来连接它。

您应该会看到如下图所示的测试页面。

![A screenshot of the server test page](../Images/5b6301c23d99e9da7239f72a24596997.png)

随着服务器的运行，是时候创建你的第一个文件了。当您运行`docker-compose up`命令时，在运行该命令的目录中会自动创建一个名为`websites`的文件夹。`websites/default/public`文件夹中的文件是上面截图中测试页面使用的文件。

使用您最喜欢的文本编辑器，在`websites/default/public`目录中创建一个名为`test.html`的文件，其中包含以下代码:

```
<!DOCTYPE html>
<html>
    <body>
        <h1>Hello World!</h1>
    </body>
</html> 
```

现在，您可以在服务器上查看您的网页。默认情况下(我们稍后会看到这可以被覆盖), URL 直接映射到一个文件。放在`public`目录下的一个名为`test.html`的文件可以在`https://v.je/test.html`上访问，`public/products.html`可以在`https://v.je/products.html`上查看，文件甚至可以放在子目录中。比如`public/images/logo.png`可以在网址`https://v.je/images/logo.png`查看。

*提示:你可能想知道为什么有三个层次的文件夹——`websites`、`default`和`public`——而不是只有`public`目录。*

*环境被配置为托管来自所创建的`websites`目录中不同文件夹的多个网站。要创建一个在`[https://mysite.v.je/](https://mysite.v.je/)`可用的新网站，请采取以下步骤:*

1.  *在`websites`目录下创建目录`mysite`。*
2.  *在`mysite`目录下创建目录`public`。*
3.  *将您的网络文件放在`websites/mysite/public`目录中。例如，`websites/mysite/public/phpinfo.php`中的文件可以通过 URL `[https://mysite.v.je/phpinfo.php](https://mysite.v.je/phpinfo.php)`访问。*

*您在`websites`目录中创建的任何目录都被视为`v.je`的子域。如果没有指定子域，你只是访问`v.je`，它将从`default`目录加载网站。*

*正如我们将在本书后面看到的，为了安全起见，将某些文件放在`public`目录之外是一个很好的做法，这就是为什么每个网站都有一个`public`目录。*

注意:你的操作系统提供的文本编辑器——比如记事本或文本编辑器——并不真正适合编辑 HTML 和 PHP 脚本。但是，有几个支持编辑 PHP 脚本的纯文本编辑器可以免费下载。这里有几个可以在 Windows、macOS 和 Linux 上运行的:

*   *[Visual Studio 代码](https://code.visualstudio.com/) ( [入门指南](https://visualstudio.microsoft.com/vs/getting-started/) )*
*   *[原子](http://atom.io/) ( [入门指南](https://flight-manual.atom.io/getting-started/) )*
*   *[崇高文字](http://www.sublimetext.com/) ( [文献](http://www.sublimetext.com/docs/) )*

这些都非常相似，就本书的目的而言，它们中的任何一个都是很好的选择，会让你作为开发者的生活比记事本或文本编辑简单得多。

## 我们都准备好了

在这一章中，你已经学习了如何用 Docker 建立你的 PHP 开发环境，以及如何在服务器上托管一个 HTML 文件。我只讲述了基础知识，以便快速理解这本书的实质:实际上是用 PHP 编程。然而，作为一名 PHP 开发人员，拥有一个良好的开发工作流程本身就是一项技能。然而，出于我们的目的，服务器已经启动并运行，你已经准备好编写你的第一个 PHP 脚本，这正是我们将在下一章PHP 初学者指南中要做的。

## 分享这篇文章