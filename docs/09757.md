# 我的功能属于 WordPress 插件或主题吗？

> 原文:[https://www . site point . com/functionality-in-a-WordPress-plugin-or-theme/](https://www.sitepoint.com/functionality-in-a-wordpress-plugin-or-theme/)

WordPress 在设计、内容和功能之间提供了一个清晰的界限。

主题非常清楚地处理了网站的整体设计和布局，而插件提供了向 WordPress 安装添加新功能的能力。

因此，关于你的功能是属于插件还是主题的问题*应该得到一个相当简单的答案。实际上，当考虑到 WordPress 的灵活性以及不同 web 开发人员的不同意图时，情况变得有点混乱。*

不过，在我们研究这些细微差别之前，让我们先确切定义一下我们所说的“功能性”是什么意思。

**定义功能****T3】**

术语“功能性”是一个常见的时髦词，近来被开发者、设计者和客户们随意使用，但是当我们提到它的时候，我们到底在谈论什么呢？

在很大程度上，几乎所有相关人员都会同意它是一个通用术语，用来描述引入到系统中的特定功能集。在 WordPress 中，几乎所有类型的功能都可以分为四个主要类别:

1.  核心 WordPress 功能
2.  增强核心 WordPress 现有功能集的功能
3.  引入核心 WordPress 中没有的全新功能集的功能(包括第三方应用集成，如 Twitter)
4.  从设计和布局角度帮助特定主题处理变量的功能

无论你是想在你的边栏上添加实时推文，在你的主页上添加 jQuery 图库，还是想让你的网站在搜索引擎中排名更靠前，这四个类别应该涵盖了你想在 WordPress 上看到的任何东西。

如果我们接受 WordPress 中的所有功能都属于这四个类别中的一个，并且如果我们认为 WordPress 为我们提供了一个逻辑位置来“容纳”特定类型的操作，我们可以做出一些相当线性的预测，关于一个特定的功能是属于插件还是主题。

核心 WordPress 功能只是包含在 WordPress 中，任何时候都不应该直接编辑。如果你这样做，不好的事情可能会发生在你身上…想想“随便拆下你的引擎，看看会发生什么”。

或者是**增强了现有的 WordPress 核心功能**或者是**引入了全新的功能**通常属于插件，因此可以根据需要添加或删除。

同样地，**帮助特定主题**的功能也属于该主题，但是值得注意的是，这通常是帮助*显示*特定内容的脚本，而不是添加或扩展功能——这样，脚本的*意图*就不同了。它更多的是关于显示逻辑，而不是网站功能——*这可能是*在你自己决定在哪里放置你网站的自定义功能时最重要的区别。

***显示逻辑*** **和*站点功能***

解决我们标题中问题的大部分灰色区域是由于 WordPress 中几乎所有的功能都是用两种语言之一编写的——PHP 或 JavaScript。毕竟，无论您是创建一个定制的 jQuery 脚本来将特定的行为添加到幻灯片中，还是修改循环来将“特色”类别中最近的三篇文章添加到首页，您都是在真正地处理站点的功能，对吗？

算是吧。

事实是，当你在你的站点上使用功能性的脚本时，你应该能够将任何脚本放入两个类别中的一个。该脚本要么:

1.  添加或增强你的 WordPress 站点的实际功能 ***(站点功能)*** ，或者
2.  协助你向你的听众展示信息 ***(显示逻辑)*** 。

我们对网站的功能都有一个很合理的概念，但是显示逻辑与我们如何在主题的上下文中显示有用的数据有很大的关系。显示逻辑的常见示例包括:

1.  注册侧栏和 widgetized 区域
2.  注册新的 WordPress 菜单
3.  插入到循环中的自定义条件逻辑
4.  发布缩略图脚本参考，如 TimThumb

通过定制主题的显示逻辑，通过插件系统整合预制的网站功能，是典型 WordPress 开发者最常见的 WordPress 开发形式。

我们大多数人花时间寻找更巧妙、更有效的方法来整合我们在网络上找到的现有工具，为我们的客户创建解决方案。

通常，好的编码实践和差的编码实践之间的区别在于认识到实际站点功能和显示逻辑之间的差异，并在适当的位置编码。

**ABC 房地产公司:案例研究**

如果到目前为止这一切都一清二楚，那么让我们看看是否可以通过将它应用到一个实际的例子中来稍微清理一下这个流。假设我们有一个新客户，他是 ABC 房地产公司的房地产经纪人，他们希望我们开发一个基于 WordPress 的新网站，有以下特殊的“功能”要求:

1.  因为他们会定期举办研讨会，所以客户希望有某种形式的活动管理系统
2.  客户希望确保他们的每一处房产都以一种持续、直观的方式展示，并为多张照片留出空间——每份房源清单上的照片数量会有所不同
3.  客户希望在主页上以特定的格式显示他们选择的六个特色属性
4.  客户希望将脸书的评论整合到他们的网站上，以便访问者可以轻松地与他们的朋友分享潜在的家园

对于一个房地产网站来说，这些要求似乎都非常合理和直观，但是让我们来整理一下我们应该在哪里添加上面列出的每一项功能。

*1)因为他们会定期举办研讨会，所以客户想要某种形式的活动管理系统*

这个很简单。因为 WordPress 的核心没有包含事件管理系统，我们需要通过插件系统添加一个。我们可以自己写并直接添加到主题本身吗？从技术上来说，当然可以——但这没有太大意义，因为已经有这么多可用的事件管理系统，我们可以立即尝试。

此外，如果我们完全致力于编写我们自己的系统，最简单的方法就是将系统所需的所有文件放在它们自己的地方，以保持整洁…对我来说这听起来像是一个插件。

*2)客户希望确保他们的每一处房产都能以一种持续、直观的方式展示出来，从而为多张照片留出空间——每份房源清单上的照片数量会有所不同*

这个问题有点复杂，有点棘手。既然我们在讨论事物是如何显示的，你可能会认为我们马上就进入了显示逻辑的领域。然而，WordPress 3.0 引入了帖子类型的概念，允许开发者为特定类型的帖子创建特定的显示格式。

您可以在 WordPress Admin 中为文章类型中的每条记录收集一组离散的数据，然后将该记录输出到主题中的一个文章模板，该模板允许文章以一种特定的、独特的方式输出到屏幕上。

由于帖子类型的独特操作方式，当你使用它们时，你必须创建显示逻辑和站点功能。我们将在本文中更详细地讨论这个问题。

*3)客户希望在主页上以特定的格式显示他们选择的六个特色酒店*

这是显示逻辑。我们在这里没有添加任何新内容，而是从数据库中挑选特定的存储内容。这总是直接在主题中完成。

*4)客户希望将脸书的评论整合到他们的网站上，这样访客就可以轻松地与他们的朋友分享潜在的房屋*

第三方应用集成—在这种情况下，是脸书。小菜一碟…我们将添加一系列适用于 WordPress 的脸书评论插件，并对其进行适当的整合。外挂，一路。

“太好了，所以我理解 WordPress 希望我增加我的网站功能，但是我有自己的做事方式，这真的很适合我。”T3**T5】**

对此，我说:*“我完全理解你的想法，但请允许我提出几个(希望)有说服力的观点，它们可能会改变你的想法”*。

首先，如果你自己开发网站功能，你可能会发现在插件环境中开发比直接在主题中开发更有用。

毕竟，即使在特定的工作已经完成并且站点已经启动之后，大部分开发人员仍然保留着他们在站点中开发和使用的程序的知识产权，并且迟早有必要在另一个项目中重用相同的代码(或者它的一个版本)。插件使得这个网站的功能易于移植和安装，从长远来看节省了大量的时间。

因为 WordPress 插件的结构是将所有的文件保存在独立的目录中，远离其他插件和 WordPress 核心功能，它们本质上为整个网站的功能提供了一点点的秩序。

例如，如果你对主页上的元描述有问题，并且你知道你正在使用一个 SEO 插件来处理这个特定的功能(很容易通过参考 WordPress Admin 中的活动插件列表来查找)，你会知道你需要从哪里开始调查这个问题的根源，即使你不是这个网站的最初开发者。

通过这种方式，插件实际上可以提供一种松散的文档形式，给开发人员合理的线索，让他们知道某些功能可能存在于文档记录最差的站点中。

故障排除是在插件中维护网站功能而不是直接嵌入主题的另一个极好的理由。向 WordPress 站点添加新功能偶尔会导致冲突和“破坏”网站，导致许多需要纠正的显示或性能问题。

当这些类型的事情在夜间发生时，大多数经验丰富的开发人员跳出来的第一道防线是开始检查现有的插件，看看脚本可能发生在哪里。使用 WordPress 的插件系统来激活和停用插件提供了一种便捷的方式来消除网站上运行的活动脚本，并逐个将其恢复，以确定哪些是违规的脚本。

没有打开和关闭插件的能力，开发人员可能会在黑暗中磕磕绊绊地试图找出哪些脚本相互冲突，从而给最终用户带来错误的结果。

最后，不要低估网站功能灵活性的重要性。网站的核心功能越是直接构建到主题中，就越难对主题进行设计修改，甚至完全替换掉。这可能听起来很老套，但是网络在不断变化，最终你的网站也是如此——可能比你想象的要快。

将网站功能硬编码到一个主题中，从长期来看(通常从短期来看)会导致耗时的编辑、修改和大修，因为你意识到昨天你认为绝对重要的东西，以至于你整个网站的开发都建立在它的基础上，下周就变得完全过时了。

相信我，这种事发生在我们最好的人身上。

**打破规则**

“好吧……”我听到你说。*“这很好，但我有一个很好的理由偏离…”*

每一个像这样的主观论点都有坚实的理由支持你走自己的路，我认为在这里指出一些也是有用的。

*原因#1:岗位类型*

在我们的案例研究中，我们讨论了将一个定制的 post 类型放在一起处理一个属性列表的显示格式。实际上，这包括将两段代码放在一起:1)一个数组初始化 post 类型的数据，2)post 模板处理主题上下文中的可视显示。

虽然这里的第二个组件显然是显示逻辑的问题，但是数组初始化有点模糊。这个函数通常在主题的`functions.php`文件中定义，但是需要注意的是*可以用插件系统中初始化的函数文件定义*。

从很多方面来说，这样做更有意义，因为它在网站功能和设计组件之间保持了清晰的分离，但是在撰写本文时，在主题的`functions.php`文件中初始化数组显然是最常见的做法。这当然是一个灰色地带。

*原因 2:专门的页面模板*

有时候，在 WordPress 站点上创建一个特殊的页面来执行特定的功能是很重要的。也许你正在从另一个网站设计一些东西，或者引入一些不太适合在标准 WordPress 页面模板和内容编辑器中工作的定制功能。

在这种情况下，通常的做法是在模板文件中用标准的 WordPress 语法注册一个新的页面模板，然后在特定的页面中直接包含该功能。在这种情况下，该功能根本不能移植到其他站点，但通常是在没有必要的情况下移植。

*原因#3:保护客户免受伤害*

尽管我们都愿意相信 WordPress 是一个客户无法攻破的防弹系统，但我们都知道这并不完全准确。偶尔，有一个很好的理由硬编码一些东西。

假设您有一个客户需要编辑他或她的网站上的侧边栏，但是不断地添加或编辑错误的项目。在这种情况下，将简单的元素硬编码到侧边栏中会很有用，因为您有理由相信客户端自己永远不需要更新它们，这样可以防止它们意外删除它。

硬编码的例子可能包括电子邮件选择框，或者社交媒体连接按钮。

*原因#4:为特定行业开发专门产品*

有许多主题开发者为特定的行业定制有针对性的主题。这些主题缺乏一定的灵活性，但结果是，对于目标市场来说，额外的灵活性是不必要的。这方面的例子包括房地产特定主题、产品评论主题或问答聚合主题。

*原因 5:时间和预算考虑*

有时候，直接将东西编码到主题中比将它模块化并使用被定义为最佳实践的插件更快。当时间是一个因素，或者你的客户有一个你需要遵守的紧张的预算时，一个合理的理由是存在偷工减料和将网站功能直接编码到主题中。

需要注意的是，这当然不是最佳实践，但这是一个做好工作的理由。

**底线是什么？**

把你的网站功能放在哪里的问题就像其他任何事情一样……有一个基于相当有限的规则的简单答案，但是如果需要的话，你总是可以找到走自己的路的理由。

最佳实践是确定哪个功能最好描述为*显示逻辑*，哪个功能最好描述为整体*站点功能*，显示逻辑直接添加到主题中，站点功能封装在插件系统中。

这是否反映在你的工作方式中？

## 分享这篇文章