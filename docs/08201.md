# 固体红宝石:单一责任原则

> 原文:[https://www . site point . com/solid-ruby-single-respons ibility-principle/](https://www.sitepoint.com/solid-ruby-single-responsibility-principle/)

我们利用 BDD 和面向对象的编程技术来获得清晰优雅的代码，对吗？实际上，这些是主要目标的结果:创建维护成本低的代码，不需要花费大量时间和人力进行修复和改进的代码。

有一组指导方针和原则可以帮助我们实现这个目标。十多年前，罗伯特·马丁(又名鲍勃叔叔)首次描述了这种现象。

SOLID 不是一套严格的规则，也不是您应该使用的唯一指南组，但它是一个非常好的起点，应该会立即改变您设计和编码软件的方式。以下是 SOLID 描述的原则:

*   单一责任原则
*   开闭原理
*   利斯科夫替代原理
*   界面分离原理
*   从属倒置原则

这些原则的目标是使代码更改尽可能没有副作用。这意味着修复或改进应该使代码在尽可能少的地方发生变化。我们通过适应变化的设计有效地降低了维护成本。

我敦促你不要陷入“这是 Java BS，我们这里不需要它”的简单思维。好的面向对象设计适用于任何面向对象语言。形式可能会改变(提示:Ruby 使实现这些原则变得非常容易)，但是思想和基本原理是相同的。

另一个强制性的免责声明是:没有一种方法可以实现所有这些原则。尝试一些技巧，并根据你的风格和思维方式选择对你有意义的东西。我通常会显示一个选项，但请记住还有很多选项。如果你不同意，欢迎在评论中发表你的观点。

在这篇文章中，我将谈论单一责任原则(SRP)。这是最容易理解的，也是所有好的面向对象代码的基础。

注意:在本文中我经常使用“类”这个术语，但是大多数时候，这些原则可以应用于任何“实体”，无论是类、模块、方法等等。

SRP 声明一个类应该只有一个职责，并且应该完全执行它——这个职责也不应该分散在多个类中。这是实现高内聚的一种方式，高内聚是面向对象软件中非常理想的特性。一个内聚的类完全执行它的职责，保护它不被分割，并隐藏实现细节。

思考什么是责任的一种方式是把它看作一个类改变的原因。所以，我们可以把这个原则定义为:一个类应该只有一个改变的理由。

好了，该编码了！下面是一个假想的代表视频游戏的 ActiveRecord 类: