# 使用 CSS 压力测试工具提高浏览器性能

> 原文：<https://www.sitepoint.com/css-stress-test-tool/>

CSS3 背景、圆角、框阴影、文本阴影、不透明度和变换为 web 开发人员节省了大量时间。无需借助图像切片、附加元素或脚本就可以实现基本效果。

尽管如此，CSS3 的世界并不都是美好的。几年前，当我第一次尝试这些技术时，我对浏览器性能的影响感到震惊。一个 CSS 属性可能导致可见的重绘和页面滚动混乱。在一个网站上，我不得不去掉圆角，恢复到图像来解决性能问题。我诅咒了几次，但只是认为这是另一个发展的陷阱，以文件在我的浏览器婊子框。

幸运的是，美国网络开发人员安迪·爱丁堡(Andy Edinborough)对这个问题做了进一步的研究，开发出了 CSS 压力测试书签(T2、T3、T4、T5)。

CSS 压力测试使用一种新颖的方法来检测性能问题:

1.  从 DOM 元素中删除一个 ID 或类来禁用(某些)CSS 效果。
2.  滚动页面并记录所用的时间。
3.  ID/类被替换，循环继续，直到所有的都被分析。

一个结果表显示了每次移动是如何影响滚动速度的——时间或者增加(没有效果时更慢)或者节省(没有效果时更快)。如果删除特定的 ID 或类比删除其他的 ID 或类节省更多的时间，您应该能够找出性能问题的原因。

bookmarklet 可以在所有现代浏览器中运行，但请注意，它仍处于发展过程中，存在一些缺点:

*   应用于 HTML 元素的样式不会被移除。例如，如果您已经对`header`标签应用了效果，该工具将不会突出显示问题。但是，这将把嫌疑人的数量减少到可管理的水平，以便进行进一步的人工调查。
*   复杂的页面可能需要几分钟来分析。
*   它在一些旧的浏览器中失败了，尽管它们提供了减少的 CSS3 支持，所以它们通常不容易受到性能问题的影响。
*   结果表无法移动，可能会被冲突的元素或样式损坏或隐藏。要解决这个问题，请使用 Firebug 或类似的工具删除覆盖的元素或提取数据。

总的来说，这个工具是个好主意，它会带来令人惊讶的结论。在他的问题页面上，Andy 发现当在 IE9 中应用 border-radius 时，具有许多子元素的根元素受到了负面影响。

有关 CSS 压力测试的更多信息，请参考 [Andy 的博客文章](http://andy.edinborough.org/CSS-Stress-Testing-and-Performance-Profiling)和 [GitHub 项目](https://github.com/andyedinborough/stress-css)页面。

## 分享这篇文章