# CSS 转换的权威指南

> 原文：<https://www.sitepoint.com/the-definitive-guide-to-css-transitions/>

回到网络的黄金时代，我们有一个叫 Flash 的小东西来帮助我们把网络变成一个动态的、有趣的、互动的地方。但是，闪存的使用越来越少。当然，在某些环境中，它仍然可以发挥惊人的作用，但是在今天的网络环境中，你需要 CSS 来完成这项工作。

让你的网站焕然一新的最简单的方法之一就是将 CSS3 过渡放到桌面上。当用户与页面上的各种元素交互时，过渡允许延迟响应，这比不和谐的即时响应要自然和吸引人得多。举个例子，把鼠标停在这两个盒子上，告诉我你对哪个更感兴趣。

将它放入一个 HTML 文档并检查它:

[sourcecode language="html"]

<脑袋>

<正文>

</分度>

[/sourcecode]

是的，我知道灰色的盒子并不那么令人兴奋，但关键是右边盒子上的过渡更有趣，给设计一种更优雅的感觉。

### CSS 转换的伪类

使 CSS 转换工作的关键是通过使用伪类。你以前见过这些，即使你不知道它们叫什么。最常见的例子大概就是 *a:hover* 伪类。

[sourcecode language="css"]

a {
颜色:# CCC
背景色:# 333；
}

a:hover {
color:# 333；
背景色:# CCC
}

[/sourcecode]

这里我们有链接的 CSS 元素和当鼠标在链接上时的伪类“hover”。伪类是一个类的子集。它们自动接受父 CSS，并在交互时应用新的或不同的 CSS。

对于 CSS 转换，您需要知道的其他一些重要的伪类包括:

*   哈弗:很明显。
*   活动:当一个元素被点击时
*   焦点:用于基于选项卡的选择(可访问性和表单)
*   目标:用于将页面上的 ID 与链接目标相匹配

我不会在本文中讨论目标伪类，因为它很少见，并且仍然存在跨浏览器的问题。但是悬停、主动和聚焦功能齐全(IE10+)且易于实现。

### CSS 过渡简介

有了这些背景知识，我们可以对 CSS 转换进行更深入的讨论。它们只是一个 CSS 属性，允许你使两个不同的 CSS 元素之间的差异慢慢地而不是立即改变。当您将鼠标悬停在具有不同文本和背景颜色的伪 hover 类的按钮上时，按钮会立即发生变化。转场让你可以让变化发生得更慢，让你的设计更具互动性。

您可以使用伪类在任何 CSS 元素上使用过渡:div、段落、跨度、表格和表格的子元素、图像。只需应用适当的伪类并定义 CSS 变化。我在很大程度上坚持使用背景色，因为它创造了一种有趣的效果。

### CSS 过渡的属性

为了彻底起见，上面的示例只是合并了几个 CSS 转换属性:

*   Transition-property:你想要的 CSS，比如颜色，背景色，宽度，高度等等
*   Transition-duration:以秒或毫秒为单位，您希望过渡持续多长时间。
    *   秒，用一个 s，比如 2s
    *   对于毫秒，使用“毫秒”,如 2000 毫秒
*   过渡-定时-功能:过渡如何合并，这意味着您可以进行调整，以获得缓和的过渡、阶梯式过渡或线性过渡。默认为 ease，它可以满足我 99%的需求，但主要属性如下:
    *   缓入缓慢开始过渡，全速结束
    *   缓出以全速开始过渡，然后缓慢结束
    *   渐入渐出开始缓慢，在转场中间速度最快，结束缓慢。
    *   除了在过渡的中间部分不太引人注目之外,“缓入”和“缓出”几乎相同
*   过渡延迟:也以秒或毫秒为单位，定义开始过渡前的延迟时间。

或者，您可以将所有这些合并到一个过渡中，只需按以下顺序排列即可:

[源代码语言= "文本"]

过渡:属性持续时间计时-功能延迟；

[/sourcecode]

完整的示例如下所示:

[sourcecode language="css"]

a {
颜色:# CCC
背景色:# 333；
过渡:颜色 1s 渐出 500ms，背景色 1s 渐出 500 ms；
-WebKit-过渡:颜色 1s 渐出 500ms，背景色 1s 渐出 500 ms；
}

a:hover {
color:# 333；
背景色:# CCC
}

[/sourcecode]

请注意，您将需要使用-webkit-transition 来使这些在绝大多数浏览器中工作。

在伪代码中，应该是这样的:过渡链接的颜色，使过渡用 1 秒钟完成，逐渐缓和过渡，在过渡前延迟半秒钟(500 毫秒)。

您可以使用带转换的逗号分隔列表来涵盖您想要的所有目标属性。我更喜欢将我的过渡合并到一个 CSS 属性中，但是如果你想制作一些非常特殊的过渡，你可能想把它们分开。

### 在哪里放置过渡

有一段时间，我不知道该把这个转变放在父母身上还是孩子身上。毕竟，下面两个例子有着完全相同的效果:

[sourcecode language="css"]

a {
颜色:# CCC
背景色:# 333；
过渡:颜色 1s 渐出 500ms，背景色 1s 渐出 500 ms；
-WebKit-过渡:颜色 1s 渐出 500ms，背景色 1s 渐出 500 ms；
}

a:hover {
color:# 333；
背景色:# CCC
}

[/sourcecode]

–或者–

[sourcecode language="css"]

a {
颜色:# CCC
背景色:# 333；
}

a:hover {
color:# 333；
背景色:# CCC
过渡:颜色 1s 渐出 500ms，背景色 1s 渐出 500 ms；
-WebKit-过渡:颜色 1s 渐出 500ms，背景色 1s 渐出 500 ms；
}

[/sourcecode]

但我发现，我更喜欢将过渡放在父元素中，这样所有其他子元素都可以获得过渡。如果您想根据具体情况获得不同的效果，您总是可以针对该元素提供不同的过渡。但我发现这非常罕见。99%的时候我想要一致的过渡效果，所以我把过渡放在父元素中。

### 超越:悬停和链接

另外两个非常重要的伪类需要讨论一下才能成为一个完整的指南:active 和 focus。

当一个项目被实际点击并且可以有它自己单独的转换时，它就是活动的。虽然从设计的角度来看并不重要，但这可以为你的设计增加一个全新的交互层。

焦点用于基于选项卡的浏览。我主要在表单和导航元素上使用它，但是在你需要使你的站点更容易访问的任何时候都应该考虑使用它。

我的焦点通常反映了我的悬停，简单地说，因为从功能的角度来看，它们是相同的东西。这就是将效果延迟 250-500 毫秒很有用的地方，这样你的用户就不会在每个选项卡式元素经历一次转换时，在看起来像圣诞树的地方跳转。

### 工作样本

让我们将所有这些概念整合到一个完整的工作示例中。我喜欢在菜单项上使用过渡:

[source code language = " html "]
<html>
<head>
<style>

/*使 li 内联为水平菜单*/
#菜单 li {
显示:内联；
字号:18px
边距:3px 8px 3px 8px
}
/*初始定义*/
#菜单 a {
color:# 333；
border-bottom: #333 2px 实心；
背景色:# fff
填充:5px
正文-装饰:无；
过渡:颜色 1s 渐出 250ms，背景色 1s 渐出 250 ms；
-WebKit-过渡:颜色 1s 渐出 250ms，背景色 1s 渐出 250 ms；
}

#菜单 a:hover {
color:# fff；
背景色:# 666；
}

# menu a:focus {
color:# fff；
背景色:# 666；
}

/*注意我是如何让过渡延迟 0 ms */
# menu a:active {
color:# 333；
背景色:# 666；
跃迁:1s 0ms
}

<div id = " menu ">
<【ul】>
<【Li】><a href = " # tabindex = " 1 ">nav text 1< ><【Li】><【a href = " # " # tabindex = " 5 ">【nav text 5】</a></Li>
</ul【t】

[/sourcecode]

在你的设计中，你依赖 CSS3 过渡吗？。您会将它用于基本功能，还是只是为那些用现代浏览器支持它的人增加一层修饰？

## 分享这篇文章