# 网页肥胖的 9 个原因

> 原文：<https://www.sitepoint.com/9-causes-of-web-page-obesity/>

宽带速度正在提高，但页面重量仍然很重要。如果你的网页变得有点臃肿，想想那些网速慢或者使用移动设备的人。如果你让他们为你的 5MB 怪物等几分钟，他们会购买你的服务吗？

创建移动或低带宽版本的网站是可能的，但我们很少有人有时间或资源来创建和测试内容的多个版本。但是没有理由不保持身材——尤其是当谷歌可以降低你的排名时。更简洁的页面出现得更快，降低你的托管成本，保存你的客户的理智和环保！

这里有 9 个原因可以解释为什么你的网站会越来越胖…

## 1.夸张的广告

我们都需要赚点小钱，但广告可能是带宽膨胀的最大原因。大多数是图形化的，许多使用动画或视频来吸引眼球。

有几种方法可以解决不利广告肥胖问题:

1.  不要过度。广告会分散注意力，虽然大多数网络用户希望看到一些，但不要用大量闪烁的图像轰炸人们。如果你的页面看起来不像促销呕吐物，较少的广告可能会收到更多的点击。
2.  删除无效的广告。如果一个巨大的广告在 5 年内筹集了 0.03 美元，也许你可以更好地利用这个空间。
3.  尝试文字广告。

## 2.插件使用不当

坦率地说，我说的是闪存。不管苹果怎么想，Flash 也有它的优点。但是文本内容、翻转效果和简单的导航菜单并不是这项技术的最佳用途。

## 3.没有优化图像

如果有一件事是我讨厌的，那就是没有为网络调整大小的图片！数码相机的分辨率已经高得离谱，但是没有人愿意下载一张你的狗的 5000 像素的照片。改变`img`标签中的高度和宽度尺寸没有什么不同——您需要在图形包中调整图像的大小。

保存时，记得使用最佳格式和最高压缩率。一般来说，照片最好是 JPG 格式，图片最好是 PNG 或 GIF 格式。然而，你需要尝试不同的格式和压缩率来最大限度地利用你的图片。

最后，关注一下[可缩放矢量图形(SVG)](https://www.sitepoint.com/9-reasons-why-svgs-are-important-for-the-web/) 。如果[微软信守承诺，在 IE9](https://www.sitepoint.com/microsoft-reveal-ie9/) 中加入 SVG，它们可能会彻底改变图像制作和文件大小。

## 4.不使用图像精灵

许多小图像通常比单个大图像消耗更多的带宽。每个图像需要一个单独的 HTTP 请求/响应，大多数浏览器一次最多下载 4 个文件。将许多图像放入一个文件中，然后用 CSS `background-position`属性将它们分开可以节省带宽。[Amazon.com 有一个很好的例子](http://g-ecx.images-amazon.cimg/G/01/gimg/orangeBlue/navPackedSprites-US-15._V202471683_.png)。

## 5.过度依赖 JavaScript 框架

我并不反对 jQuery 和类似的库，但是要小心不要过于依赖它们。使用两个或更多的库来产生效果也可能是浪费。

W3C 网站就是一个典型的例子:它加载了一个 22Kb 的文件，其中包含 jQuery 和一个处理基本样式表切换的插件。如果有更好的浏览器支持，它可以用十几行 JavaScript 编写。

## 6.低效的 HTML

最好的 HTML 是精简、干净和易于维护的。如果您发现自己添加了 15 个嵌套的`div`标签，每个标签都有一个 ID 和多个类，那么您的代码可能会失控。

所见即所得的设计包是部分原因。他们有他们的位置，但是不要认为你是一个网页开发者，直到你有合理的 HTML 知识！

Visual Studio 和 ASP.NET web 窗体的旧版本也会产生令人震惊的冗长标记。 [Visual Studio 改进了](https://www.sitepoint.com/microsoft-launch-visual-studio-2010-today/)，但即使是以前的版本也能生成干净的代码。拖放控件时要小心，并检查生成的 HTML。

## 7.嵌入 CSS 和 JavaScript

CSS 和 JavaScript 应该包含在外部文件中，这些文件可以被缓存并在网站的每个页面中重用。没有理由用嵌入的样式和事件处理程序来扩充你的 HTML。

我还建议把你的`script`标签放在页面末尾的`</body>`标签之前。然后可以在下载和执行任何脚本之前查看该页面。

## 8.没有利用 CSS 级联或速记符号

一点 CSS 知识可以大有帮助。编程新手经常将类应用于每个 HTML 元素，并在每个 CSS 定义中设置属性，如`font-family`。[一点背景阅读](https://www.sitepoint.com/premium/library)可以大幅减少编码时间和样式表文件大小。

也不要忘记速记符号。以下代码片段在风格上是相同的…

超重 CSS:

```
 #element
{
	margin-top: 0px;
	margin-bottom: 10px;
	margin-left: 5px;
	margin-right: 20px;
	background-color: #aabbcc;
	background-image: url("myimage.png");
	background-position: center center;
	background-repeat: no-repeat;
} 
```

增强的 CSS:

```
 #element
{
	margin: 0 5px 10px 20px;
	background: #abc url(myimage.png) 50% 50% no-repeat;
} 
```

## 9.不使用压缩

您的服务器可以在文件发送到浏览器之前对其进行压缩。HTML、CSS 和 JavaScript 文件都可以通过删除注释和不必要的空白来压缩。有许多工具和应用程序可以帮助您在部署之前或在运行时自动从文件中获取最多的信息。

你知道网页肥胖的其他原因吗？欢迎评论…

## 分享这篇文章