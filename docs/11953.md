# 第一眼:面向对象的 CSS

> 原文:[https://www.sitepoint.com/first-look-object-oriented-css/](https://www.sitepoint.com/first-look-object-oriented-css/)

**十月，我将在悉尼 [Web Directions South 2009](http://south09.webdirections.org/) 上发表关于 [CSS 框架](http://south09.webdirections.org/program/development#css-frameworks)的演讲。我在演讲中要回答的一个主要问题是，你是否应该在任何给定的项目中使用 CSS 框架。因为另一种选择是从头开始编写自己的 CSS 样式，所以我正在研究一些关于手工编码 CSS 的最新想法。**

[![Object Oriented CSS for high performance web applications and sites](../Images/b3b1534085a27b9bd52d11eb62a912b9.png)T2】](http://wiki.github.com/stubbornella/oocss)

这个领域的一个突出的声音是妮可·沙利文，他开发了一种叫做 T2 的面向对象的 CSS(OOCSS)的方法。她在 Web Directions North 2009 上概述了这种编写 CSS 的方法，48 分钟的[视频已经发布](http://www.stubbornella.org/content/2009/03/23/object-oriented-css-video-on-ydn/)。

沙利文是一位才华横溢、引人入胜的主持人，但我发现这段视频很难一下子全部理解。看完之后，我将 OOCSS 的原则应用到了 SitePoint 的一个内部项目中，我觉得我对它有了更好的理解。

## 视角的改变

只是另一个框架？想得更大:“OOCSS 并不是一个真正的框架…而是一种编写可伸缩、合理、可维护的 CSS 的方式，”[Sullivan](http://wiki.github.com/stubbornella/oocss/faq#yui)写道。Sullivan 使用并推荐了一个网格框架，如 [Yahoo！YUI 网格](http://developer.yahoo.com/yui/grids/)，但是如果你喜欢的话，你可以使用 OOCSS 原则从头开始编写你的布局样式。但是 OOCSS 同样适用于你实现了你的网站布局之后所做的工作，因为你设计了将*嵌入到*你的布局中的块和内容。

大多数网页设计师倾向于编写 CSS 代码，这样它需要尽可能少的额外标记(无论是`<div>`或`<span>`标签还是`class`属性)。从根本上说，采用 OOCSS 是一种精神上的转变，使你的风格易于维护和重用，**即使这意味着编写额外的 HTML 标记。**

OOCSS 方法帮助你超越眼前的设计目标，组织你的代码，这样添加新的站点内容，在将来重用相同的样式就变得简单了。有了 OOCSS，向站点添加一种新类型的页面意味着不需要创建额外的 CSS 样式或选择器。新的页面类型应该能够尽可能地重用现有的 CSS 样式。

当用 OOCSS 设计一个站点时，你必须将你的设计分成可重用的组件，OOCSS 称之为*对象*。每个组件都是一个固定的 HTML 结构，对其应用一组控制其布局的 CSS 规则(用 OOCSS 的说法，即*结构*)，以及另一组控制其外观的 CSS 规则(T4 皮肤)。然后，该组件可以包含任意的 HTML 内容:段落、列表、表格等等，所有这些内容的样式都独立于它所在的容器。

最后一点至关重要。在 OOCSS 下，你必须避免 Sullivan 所说的“基于位置的选择器”——也就是说，根据内容出现在网站的哪个部分，不同的风格会对内容产生不同的影响。比如说，如果你想让一个列表在你站点的某个特定部分看起来不同，你应该给它添加一个`class`属性，并应用基于该属性的样式。这确保了列表可以被提取出来并在站点的其他地方重用，同时保持其风格不变。

## 代码示例

假设你网站的每个页面都有一个侧边栏，其代码如下所示:

```
<div class="sidebar">
  …sidebar content…
</div>
```

现在，假设您有一组页面，您希望这个侧边栏的样式稍有不同，比如用不同的背景颜色来突出显示某些产品的销售。由于这次销售，您可能还想对这些页面的其他一些元素进行更改。

传统上，您的方法可能是在页面的`<body>`标签中添加一个类:

```
<body class="onsale">
```

“太棒了！”，你会想。“现在，我可以对这次销售进行所有的样式调整，而无需对我的 HTML 代码做任何进一步的更改！”然后，您将着手编写一系列样式规则，如下所示:

```
body.onsale .sidebar {
  background-color: #FFA500;
}
```

面向对象的 CSS 推荐的方法完全不同。不是将一个单独的类应用到页面的`body`上，而是为每一种你想为销售而改变的元素类型创建一个新的类。侧栏的销售风格可能是这样的:

```
.onsalesidebar {
  /* extends .sidebar */
  background-color: #FFA500;
}
```

据说这个类*扩展了现有的描述元素标准样式的类*。然后除了现有的(基础)类之外，你还要应用它*:*

```
<div class="sidebar onsalesidebar">
  …sidebar content…
</div>
```

现在，内容编辑可以放心地将侧边栏代码复制并粘贴到站点的另一个页面，甚至是一个全新的页面，并知道它会以相同的样式显示。同样的原则也适用于侧栏内容的样式。

OOCSS 的指导原则实际上为像这样的可重用组件推荐了一个相当复杂的 HTML 结构，这使得可以对它们应用更复杂的样式——包括圆角和边框效果——但是这个简单的例子有效地展示了 OOCSS 背后的基本原则。

## 有什么意义？

Sullivan 在 Yahoo 工作，主要致力于提高网站性能。除了样式化 HTML 内容和组件块的复制粘贴可重用性之外，OOCSS 还声称在性能方面提供了显著的优势。

通过在你的站点中优先重用 CSS 样式，OOCSS 产生了相当小的 CSS 文件，但是 HTML 文件稍大。这种折衷是可取的，因为 CSS 文件的大小会直接影响站点加载时浏览器显示空白页面的时间。较小的 CSS 意味着花在空白页上的时间更少。一旦你的 CSS 加载完毕，你的站点的 HTML 内容会随着它的加载而逐步显示。因此，这种权衡的结果是更好的*感知*性能，即使总加载时间稍微长一点。

此外，通过避免基于位置的选择器，可以减少浏览器确定页面上任何给定元素的实际外观所需的工作量。尤其是在移动浏览器上，但即使在桌面上，这也能产生显著的性能增益。

## 值得吗？

如果你足够幸运，成为一个项目中唯一的前端开发人员，你可能想尝试一下 OOCSS 原则。然而，当在团队环境中工作时，OOCSS 的可重用性优势才真正显现出来。

高级前端设计师可以为网站定义可重用的结构。视觉设计者可以将吸引人的 CSS 皮肤应用于这些结构。内容编辑者可以放心地编写插入这些结构的内容，因为他们知道只有他们期望的样式才会应用于他们编写的内容。

然而，说服整个团队加入 OOCSS 潮流可能是一项重大任务，这也是我在 SitePoint 的目的。在我自己的一个小项目中应用了 OOCSS 原则之后，我现在必须决定是否值得将它带给 SitePoint 设计团队。

你怎么想呢?OOCSS 的好处是否值得采用它所需要的额外训练，或者 CSS 已经足够复杂了？

## 分享这篇文章