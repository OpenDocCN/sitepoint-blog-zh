# jQuery UI 1.9 的新特性

> 原文:[https://www.sitepoint.com/whats-new-in-jquery-ui-1-9/](https://www.sitepoint.com/whats-new-in-jquery-ui-1-9/)

经过两年半的延迟和大量的努力，jQuery UI 的 1.9 新版本终于发布了。jQuery UI 1.9 支持 jQuery 的最新稳定版本，一直支持到版本 1.6。随着许多错误的修复和大量的变化，这是库向前迈出的重要一步。

## jQuery UI 的状态

我很高兴告诉你最新的变化，但首先让我解释一下其中一些变化背后的原因。jQuery UI 最初是从不同来源收集的新插件和现有插件的组合。不幸的是，这一举措的缺点是每个作者都有自己的编码风格和设计原则，这导致插件和小部件之间的不一致，从而阻碍了库的整体进步。意识到这个问题，从 1.8 版本开始，jQuery UI 团队试图通过关注更简化的 API 来改变现有的插件构建过程。

即将到来的 2.0 版本的主要目标是拥有一个完全重新设计的项目，具有更简单的 API、统一的代码库、跨部件的一致性、更好的稳定性、完整的文档以及针对每个插件的完整测试套件。而且，一旦现有的插件被更新到新的标准，项目将会以更快的速度向前推进。现在，我们来讨论一下 1.9 版本的变化。

## 新网站

您可能会注意到的第一件事是, [jQuery UI](http://jqueryui.com/) 网站已经完全重新设计，有了新的外观和感觉。除了更宽、更干净的新设计之外，API 文档现在还包含了很多旧站点所没有的信息。该网站仍在开发中，所以期待在未来看到更多的内容。

## 新部件

让我们欢迎新的工具提示、微调器和菜单小部件加入到库中。这里我不会为您提供任何代码示例，因为 jQuery UI 网站上已经有了大量的演示。只需点击下面的链接就可以看到这些小部件的运行。

### 工具提示小部件

有了新的[工具提示窗口小部件](http://jqueryui.com/tooltip/)，jQuery UI 终于有了内置的工具提示解决方案。这个小部件允许您使用静态内容或通过 Ajax 加载的远程内容。您可以添加自定义定位，并选择显示和/或隐藏工具提示时使用的动画。此外，当鼠标跟踪选项设置为`true`时，工具提示会跟随鼠标指针，直到它移动到元素上。

### 微调器小部件

当你处理任何类型的数字输入时，[微调器部件](http://jqueryui.com/spinner/)可以成为你最好的朋友。可以用鼠标的滚轮或通过键盘来操作这些值。您可以小幅度或大幅度调整数值。例如，向上/向下箭头键可以将值旋转 1，而向上/向下翻页键可以将值旋转 10。此外，通过使用 [Globalize](https://github.com/jquery/globalize) 插件，您可以配置小部件来处理不同地区的货币和日期。最后，溢出选项允许您将微调器限制在某个范围内。例如，如果您将范围设置为从 1 到 5，那么高于 5 的任何内容都会溢出到 0，反之亦然。这在处理日期和时间时特别有用。

### 菜单小部件

[菜单部件](http://jqueryui.com/menu/)可以用于内嵌和弹出菜单，或者作为构建更复杂菜单系统的基础。例如，您可以创建具有自定义定位的嵌套菜单。说到菜单，1.10 版本中还计划增加两个小部件，Selectmenu 和 Menubar。详情可以看[路线图](http://wiki.jqueryui.com/w/page/12138038/Roadmap)。

## API 重新设计

如前所述，jQuery UI 正在被重构，变得更加一致和紧凑。正因为如此，在新版本中对 API 做了很多改动。下面列出了一些最显著的变化。

### 小部件工厂

1.9 版本为小部件工厂增加了许多功能，尤其是与实例化和继承相关的功能。小部件开发者将会发现许多新的特性和改进。更多详情见[小工具](http://jqueryui.com/upgrade-guide/1.9/#widget)。

### 小部件和效果

jQuery UI 1.9 为折叠、自动完成、对话框、位置、标签和效果引入了 API 重新设计。总的来说，小部件之间的一致性得到了改善。每个单独的部件也有一些改进。accordion 小部件提供了更好的动画支持，tabs 小部件提供了更好的 Ajax 支持，position 实用程序提供了更好的碰撞检测。

所有效果文件都已被重命名，以匹配`jquery.ui.*.js`命名模式。例如，`jquery.effects.*.js`已经改名为`jquery.ui.effect-*.js`。同样，`jquery.effects.core.js`也改名为`jquery.ui.effect.js`。如果您使用单个效果文件，您需要相应地更新文件引用。

请注意，在 1.9 版中，只有小部件、工具和效果被重构。对于 2.0，所有的交互都将被重写，因此它们将经历不同的实现过程。

### API 兼容性

尽管重新设计引入了一些变化，1.9 仍然保持了与 1.8 API 的完全兼容性。这意味着升级到 1.9 应该不会破坏任何现有页面。这是通过在 1.9 API 之上重新构建 1.8 API 来实现的。所有 1.9 版本的默认行为将是同时使用 1.8 和 1.9 API，如果有冲突，遵从 1.8 API。

许多现有的 API 在 1.9 版中已被弃用。这些 API 将在 1.10 版中删除。幸运的是，一旦 1.8 APIs 被删除，您不需要等到下一个版本才知道您的代码是否还能工作。您可以使用`$.uiBackCompat`标志来禁用所有不推荐使用的 API，从而允许您确定您的代码是否为 1.10 做好了准备。以下示例通过将`$.uiBackCompat`设置为`false`来禁用不推荐使用的 API。

```
<script src="jquery.js"></script>
<script>$.uiBackCompat = false;</script>
<script src="jquery-ui.js"></script>
```

## 最后的话

[升级指南](http://jqueryui.com/upgrade-guide/1.9/)包含升级到版本 1.9 的详细信息。不要害怕所有这些变化。没有人期待重构现有的代码，但是 jQuery UI 团队已经付出了很多努力来确保一个无痛的转换过程。

## 分享这篇文章