# 成功或失败:5 个最好的构建系统

> 原文:[https://www.sitepoint.com/comparison-build-systems/](https://www.sitepoint.com/comparison-build-systems/)

如果我们想超越专门的任务运行器和 web 构建系统，我们可能会想到最初的版本。Make 是一个非常简单但功能强大的应用程序，遵循清晰简洁的设计。

在本文中，我们将看看其他流行的构建系统，它们可能比传统的解决方案更适合您的需求。这个列表当然远非完整，但是由于其特性、影响或独特性，这里的一切都在那里。

## GNU Make

Make 的最初版本是为 Unix 操作系统编写的，但后来出现了其他实现和重写，包括 [GNU Make](http://www.gnu.org/software/make/) 。这是构建 Linux 内核所必需的。这个实现提供了原始版本的所有功能，以及额外的扩展和改进。

基本概念是编写一个特殊的文件，称为“Makefile”，它描述了构建应用程序的规则。每个规则可能依赖于其他给定的规则，形成一个层次结构。规则通常以构建目标或输出文件的形式存在。这个想法是，一个规则定义了如何从一个或多个必需的输入文件创建一个输出文件。

这个概念听起来可能很简单，但是可以让开发人员不必创建自己的系统来评估是否需要创建输出文件。Make 为我们提供了一个抽象层，可以自动执行所需的检查。隐式检查规则的每个依赖项，以确定自上次生成输出文件以来输入文件是否发生了更改。这通过省略冗余编译加速了软件构建过程。

## CMake

Make 最早的继承者之一是 [CMake](http://www.cmake.org) ，其中‘C’代表跨平台。它为构建软件提供了真正的跨平台解决方案。因此，它在应该跨不同平台部署的项目中最受欢迎。配置文件可以用一种脚本语言编写，这种语言有一个很大的命令列表。

CMake 无法单独运行生成过程。它将创建一个特定于平台的文件，在 Linux 上是一个 Makefile。在 Windows 上，会创建一个 Visual Studio 兼容的项目文件，但也有其他选项，如使用 Makefile。然而，CMake 不仅仅是原始 Make 之上的一层。它还可以自动检测 C++和 Java 等语言中的依赖关系。这使得构建过程更加可靠。

CMake 的另一个很酷的特性是它能够创建各种格式的包。如果我们考虑部署，那么创建包听起来像是最后一步，可能也是最烦人的一步。拥有一个预定义的流程解决方案给了我们很多安慰。

## 耙子

为什么不专门为编程语言创建一个构建工具呢？我们可以将工具命名为类似于 [MSBuild](https://github.com/Microsoft/msbuild) 或其他工具，这可以被看作是这样一种尝试。但是，如果我们想更进一步，也将这种编程语言用于配置文件呢？进入[耙子](http://docs.seattlerb.org/rake/)的世界。

Rake 并不是第一个使用现有脚本语言来设置构建过程的构建工具。然而，它的影响是不可否认的。这是 Ruby 开发者事实上的标准，从 Ruby 1.9 开始，Rake 也是标准库的一部分。

"耙子的主要优点是什么？"你可能会问。首先，它可以默认处理 Ruby 源文件。此外，Ruby 开发人员可以立即使用它，因为它不需要学习任何新的语言或框架。只有工具的 API 是新的，但其余的都是熟悉的，并遵循已知的模式和原则。最后，Rake 使用 Ruby 的高级模式匹配将正则表达式形成规则的过滤器。关于 Rake 的更多信息，请查看 SitePoint 上的这篇文章。

## 骗子

有几十个其他的构建工具遵循 Rake 的方法，但是我想强调的一个是 [FAKE](http://fsharp.github.io/FAKE/) 。原因很简单:它使用了一种强大的函数式语言，可以访问整个[。NET 框架](http://www.microsoft.com/net)。为了充分理解 FAKE 背后的想法，重要的是要知道 FAKE 是在[领域特定语言](http://en.wikipedia.org/wiki/Domain-specific_language)(DSL)似乎是终极武器的时代创建的。

造假的基本原理大概和 Jake 很像。FAKE 与竞争对手的区别在于 F#管道操作符的使用。这个操作符给了整个构建配置一种流畅的感觉。与(.NET)单元测试框架，将测试作为(后期)构建过程的一个重要部分。

## 上等的

用 JavaScript 为 [Node.js](https://nodejs.org/) 环境编写一个构建工具，听起来是个好主意。因为 Node.js 运行在各种平台上，所以构建工具也将运行在这些平台上。此外，我们还获得了快速执行、并发回调和出色调试体验的好处。

我在关于 SitePoint 的第一篇文章中讨论过的[Jake](https://www.sitepoint.com/replace-make-with-jake/)，遵循了 Make 使用的相同的规则依赖概念，但在 Rake 中加入了模式匹配的味道。此外，我们有打包功能，这可以帮助我们创建用于分发的包，并且支持并行构建。

## 结论

这些天来，我们的应用构建过程软件有了巨大的多样性。尽管 Make 在某些情况下仍然是自动化构建过程中最常用的程序，但其他应用程序提供了有趣的功能，这可能会大大简化我们期望的任务。

另一个要考虑的重要因素是对所用编程语言的熟悉程度。例如，一个由 JavaScript 开发人员组成的团队应该对 Jake 非常熟悉。每个团队成员都能够阅读、理解，甚至可能根据需要修改构建过程，这是非常重要的。

决定使用什么工具是我们的工作，这篇文章应该让你相信，在决定使用什么工具之前查看多个候选人是值得的，因为他们都有独特的东西可以提供。

你最喜欢的构建系统是什么？你有其他推荐吗？

## 分享这篇文章