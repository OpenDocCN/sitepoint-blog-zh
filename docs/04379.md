# 同构 JavaScript 应用——网络的未来？

> 原文：<https://www.sitepoint.com/isomorphic-javascript-applications/>

网络上最著名的格言之一是 Java 的<q>写一次，到处运行</q>。但是这句格言只适用于 Java 吗？我们可以用它来描述 JavaScript 吗？答案是肯定的。

在本文中，我将向您介绍*同构 JavaScript 应用程序*的概念，描述它们是什么，并指向帮助您开发这种应用程序的资源。

## 我们如何来到这里

许多年前，web 是一堆用 HTML 和 CSS 制作的静态页面，没有多少交互性。每个用户操作都需要服务器创建并提供一个完整的页面。多亏了 JavaScript，开发人员开始创造漂亮的效果，但随着 Ajax 的出现，一场革命开始了。Web 开发人员开始编写可以与服务器通信的代码，以发送和接收数据，而无需重新加载页面。

随着时间的推移，客户端代码的责任增加了很多，导致了一种新的应用程序类型，称为*单页面应用程序* (SPA)。在 SPA 中，所有必需的资产都可以通过一次页面加载来检索，或者根据需要动态加载并添加到页面中。spa 的一些例子有 [Gmail](https://mail.google.com) 和 [StackEdit 编辑器](https://stackedit.io/editor)。

SPAs 允许更好的交互性，因为几乎所有的操作都在客户机上执行，将与服务器的通信保持在最低限度。不幸的是，他们也有一些重大问题。我们来讨论其中的一些。

### 表演

因为 SPAs 比静态页面需要更多的客户端代码，所以要下载的数据量增加了。这导致初始加载时间变慢，这可能会产生严重的后果，例如最终用户沮丧和收入损失。根据微软的一篇文章

> 阿炳的一项研究发现，页面加载时间每增加 10 毫秒，网站每年就会损失 25 万美元的收入。

### 搜索引擎优化

因为单页应用程序依赖于 JavaScript 执行，所以服务器不再像以前那样产生所有的 HTML 内容。因此，网络爬虫很难索引网页。这些爬虫程序向 web 服务器发出请求，并将结果作为原始文本进行分析，而不像运行 JavaScript 的典型浏览器那样解释和执行内容。最近， [Google 改进了它的网络爬虫](http://googlewebmastercentral.blogspot.co.uk/2014/05/understanding-web-pages-better.html),这样它就可以处理基于 JavaScript 的页面，但是必应、雅虎和所有其他搜索引擎呢？良好的索引对任何企业都至关重要，因为它通常会带来更多的访问和更高的收入。

## 同构 JavaScript 应用程序

同构 JavaScript 应用程序是用 JavaScript 编写的应用程序，既可以在客户端运行，也可以在服务器端运行。因此，您可以编写一次代码，然后在服务器端执行它来呈现静态页面，在客户端执行它来实现快速交互。因此，这种方法取两者之长，让您避免前面描述的两个问题。

现在有几个框架可以帮助你开发这种应用程序。其中之一——可能是最著名的——是[流星](https://www.meteor.com)。Meteor 是一个开源的 JavaScript 框架，编写于 Node.js 之上，专注于实时 web 应用程序。另一个我想提到的项目是 [Rendr](http://rendrjs.github.io/rendr/) 。这是一个由 Airbnb 开发的小型库[，允许你在客户端和服务器上运行 Backbone.js 应用程序。](http://nerds.airbnb.com/weve-launched-our-first-nodejs-app-to-product)

越来越多的公司在其产品中采用 Node.js。在客户机和服务器之间共享代码正成为一种更普遍和自然的选择，在我看来，这是 web 开发的未来。通过像 [React](http://facebook.github.io/react/) 这样的库共享模板，这种趋势得到了加强。

## 结论

在本文中，我向您介绍了同构 JavaScript 应用程序的概念，这是一种开发应用程序的新方法，结合了服务器端和客户端编程的优点。我们还讨论了这种方法试图解决的问题，以及您今天可以采用这种理念的一些项目。

你听说过同构 JavaScript 应用程序吗？你开发了吗？你的经历是什么？

## 分享这篇文章