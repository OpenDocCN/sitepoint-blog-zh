# WordPress 缓存指南

> 原文:[https://www.sitepoint.com/wordpress-caching-guide/](https://www.sitepoint.com/wordpress-caching-guide/)

当一个网站没有按照预期的方式运行时，我相信你已经问过自己——“我应该清除缓存吗？”

由于 web 浏览器及其实现，缓存已经成为我们词汇的一部分，但在本帖中，让我们尝试超越外行对缓存的理解，在我们的网站中实现它以提高效率。

随着你网站的发展，你会意识到你需要改变你的策略来管理你获得的所有新的流量——从扩展你的服务器到确保你在这个过程中提高效率。

## 什么是缓存

用最简单的术语来说，**缓存**是一种临时存储，缓存是将数据存储在缓存中的过程。这对 WordPress 网站管理员有什么帮助？让我们来分析一下当读者在你的网站上打开一个页面时，在幕后发生了什么。

![Caching in websites](../Images/f874bea19c18bfe045319aff032ef6cb.png)Caching in websites [[Source]](https://tudip.com/wp-content/uploads/2018/05/caching-web-api.png)

首先，浏览器向您站点上的 URL 发送一个请求。您的 web 服务器通过进行一些数据库查询来获取标题、正文和注释等信息，并返回一个 HTML 文档来响应请求。该 HTML 文档由浏览器读取，并呈现为您所看到的页面——这可以通过下载与 HTML 文档相关的所有样式表、脚本和图像来实现。

上述过程中的每一步都有可能延迟。您的 web 服务器可能因为请求太多而关闭，您的数据库服务器可能没有响应，托管其他文件(如脚本和图像)的服务器可能没有响应。

缓存通过创建数据库查询、图像或整个页面等常见请求项的副本，有助于消除中间的一些步骤。当您托管的内容不会随着时间的推移而发生很大变化时，缓存是有益的——例如关于最近的世界杯决赛的比赛报告。您可以简单地缓存每次用户访问链接时呈现的页面版本。

## 我是否“大”到需要缓存？

从[关于堆栈交换](https://wordpress.stackexchange.com/questions/26598/does-a-low-traffic-wordpress-site-need-a-caching-plugin-and-a-cdn)的讨论中可以明显看出，对于启用缓存所需的“容量”没有预设限制。尽管复杂的网站更需要速度，但是通过更高的效率获得额外的速度总是受欢迎的——让你的读者更开心，费用更低。

各种研究表明，加载时间的增加会导致用户放弃页面。例如，[半秒钟的延迟可能导致 20%的流量减少](https://www.cedexis.com/blog/for-google-400ms-of-increased-page-load-time-results-in-044-lost-search-sessions/)，而[亚马逊一秒钟的加载时间可能导致一年损失 16 亿美元的收入](https://www.fastcompany.com/1825005/how-one-second-could-cost-amazon-16-billion-sales)。谷歌甚至用[加载次数作为一个重要参数](https://webmasters.googleblog.com/2010/04/using-site-speed-in-web-search-ranking.html)来决定网站的排名。

简而言之，一个人必须时刻关注网站性能的提高，而缓存是实现这一点的一种方式。

## 缓存的类型

在实现缓存之前，让我们先了解各种类型的缓存。概括地说，缓存技术可以分为两类——客户端缓存和服务器端缓存。

### 客户端缓存

还记得需要“清空缓存”吗？这是由浏览器完成的缓存。客户端缓存最常见的方式是浏览器缓存。浏览器可以存储与网页相关的文件，并在没有请求的情况下呈现它。根据用户的设置，浏览器可能只存储静态文件(如样式表、脚本和图像)，甚至整个网页。

值得注意的是，客户端缓存是在用户第一次访问网站时构建的，并在后续访问中发挥作用。

### 服务器端缓存

顾名思义，**服务器端缓存**是在服务器上启动的任何缓存。两种常见的服务器端缓存类型如下:

*   **数据库缓存**:可以缓存常见的查询，如要在网站主页中显示的帖子列表，并可以避免相应的数据库查询，以提高性能
*   **页面缓存**:服务器可以缓存对请求的完整 HTML 响应
*   **操作码缓存** : PHP 代码可以在一次请求后编译保存，避免了后续请求中处理相同文件的需要。

与客户端缓存不同，服务器上的缓存可以在创建或编辑内容时构建。因此，即使当读者第一次访问一个站点时，服务器缓存也可能在使用中，这导致了较低的加载时间。

## 探索类似缓存的优化技术

有许多与缓存相关的技术通常与缓存插件捆绑在一起，但是您也可以独立完成。我们将在这里讨论其中的一些技术。

### HTTP 压缩

服务器发送给浏览器的响应是一个简单的文本文件。服务器可以在发送之前压缩该文本，从而减小要发送的内容的大小。这节省了带宽，因此降低了成本。一些插件可能使用术语 GZIP 压缩来表示 HTTP 压缩。

### cdn 的使用

**内容交付网络** (CDNs)的工作前提是，地理上离客户端更近的服务器在更短的时间内提供信息。CDN 指的是分布在全球的服务器网络，它根据客户端的位置来决定使用哪个服务器。如果您将静态文件(如图像)托管在 CDN 上，它将驻留在 CDN 的大多数服务器上，并且选择离您的读者最近的服务器来呈现文件。

### 缩小

每个样式表、脚本或图像都通过单独的请求加载到服务器。这些文件的大小和请求的数量越大，呈现页面所需的时间就越长。缩小是一种从源代码中删除所有不必要的字符(如空格)并使文件变小的技术。下一步，某些插件还将所有相似的文件合并成一个文件，以减少 HTTP 请求的数量。

### 图像优化

另一种提高页面性能的技术是为 Web 重新格式化图像。在页面上使用它们之前，您可以压缩图像并调整其大小，以减小文件大小。

现在让我们探索 WordPress 中三个最流行的缓存插件。

## 在 WordPress 中缓存插件

### [彗星缓存](https://wordpress.org/plugins/comet-cache/)

![Comet Cache banner](../Images/0a605db2b49bfcbb9a3d6fa96bb30048.png)

Comet Cache 是一个流行的插件，它提供了一键式功能来启用缓存。对于大多数网站来说，选择此功能就足够了。除此之外，Comet Cache 还提供了一些高级功能，如修改内容时清除缓存、设置手动过期时间、触发客户端缓存以及通过修改`.htaccess`文件来优化 web 服务器。

如果您刚刚开始使用缓存，Comet Cache 是一个不错的选择。

### [WP 超级缓存](https://wordpress.org/plugins/wp-super-cache/)

![WP super cache banner](../Images/1a4978b68251f363e82fc4291e415350.png)

[automatic](https://automattic.com/)，WordPress.com 的主人，是 WP 超级缓存的创造者。该插件有一个定义良好的选项页面，恰当地分组到桶中，这对熟悉前面提到的缓存类型的人来说是有意义的。

![WP Super Cache Settings Page on WP Admin](../Images/5d3ba349c725093a33068294bd1b3991.png)WP Super Cache Settings Page on WP Admin

WP 超级缓存也提供了默认设置的一键启用按钮，还提供了 CDN 支持。

在其选择的高级设置中，您可以选择缓存的交付方式，支持移动缓存和更改缓存位置。它还通过缓存日志为您提供了调试模式。

### [W3 总缓存](https://wordpress.org/plugins/w3-total-cache/)

![W3 Total Cache](../Images/bc0a063109b94f165b27ec2ac2726c90.png)

W3 Total Cache 是 WordPress 最受欢迎的缓存插件之一，适合初学者和有经验的网站管理员。除了我们已经讨论过的特性之外，你可以用这个插件做更多的事情:

*   页面、数据库、对象和浏览器级别的缓存选项。
*   缩小静态文件以减小它们的大小
*   导入和导出设置，在迁移过程中非常有用。

因此，W3 Total Cache 是寻求全面解决方案的人的一站式解决方案。

## 最后的想法

市场上有很多缓存插件，我们只展示了其中的一小部分。你试过了吗？你使用不同的插件吗？请在评论中告诉我们！

## 分享这篇文章