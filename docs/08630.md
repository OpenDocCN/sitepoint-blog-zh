# 即将到来的 CSS 厂商前缀灾难

> 原文:[https://www.sitepoint.com/w3c-css-webkit-prefix-crisis/](https://www.sitepoint.com/w3c-css-webkit-prefix-crisis/)

开发人员对 CSS 供应商前缀又爱又恨。它们允许我们以冗长的声明为代价使用尖端技术:

```
 background-image: -webkit-linear-gradient(#fff, #000);
background-image: -moz-linear-gradient(#fff, #000);
background-image: -ms-linear-gradient(#fff, #000);
background-image: -o-linear-gradient(#fff, #000);
background-image: linear-gradient(#fff, #000); 
```

这在理论上行得通，但是想想在野外会发生什么:

1.  实验性属性通常首先在 webkit 引擎中实现，不能保证它们会在其他浏览器中复制。
2.  通常很难确定供应商前缀属性是否是 CSS 规范的一部分。一些供应商不提交标准化的属性。
3.  即使标准属性发生变化，不正确的供应商前缀版本仍会继续得到支持。您的旧代码仍然有效；您不会重新访问它来纠正实现。

您会经常发现只使用-webkit 前缀的站点——即使其他浏览器支持该属性，或者它在没有前缀的情况下广泛可用(例如`border-radius`)。因此，Chrome 和 Safari 看起来比竞争对手的浏览器更好——T1 和其他供应商不高兴。

在 2012 年 2 月 7 日的 [W3C 会议上提出并讨论了这个问题:](http://lists.w3.org/Archives/Public/www-style/2012Feb/0313.html)

> 网络标准积极分子正在教人们使用 webkit。您将看到所有倡导使用 webkit 前缀的 web 标准倡导者的发言。
> 
> 我们的工作是解决互操作性。
> 
> 在这一点上，我们试图弄清楚在 Mozilla 中实际实现对哪些以及多少 webkit 前缀属性的支持。
> 
> 如果我们不支持 webkit 前缀，我们就把自己锁在了移动网络的门外。

让那件事过去一会儿。

非 webkit 浏览器将支持-webkit 前缀。这是 W3C 正在考虑的解决方案。

这个想法很可能会惨败。同一个 webkit 属性的两个或多个实现将不兼容，因此开发人员将无法在任何地方使用它。没有人会赢——包括苹果和谷歌。

但我更担心的是，如果解决方案*成功的话，会造成不可挽回的损失。一旦开发人员发现 webkit 前缀可以在 Firefox、IE 和 Opera 中工作，他们就会希望它们可以在所有属性上工作。Webkit-only 的采用将呈指数级增长，供应商将被迫完全实现前缀。到那时，webkit 属性将成为事实上的标准，而不管任何 W3C 规范。游戏结束了:开放的网络关闭了。*

其含义还不止于 CSS:许多新的 JavaScript APIs 都有供应商前缀。

## 该怪谁呢？

我们可以把失败归咎于:

W3C 工作组
网络标准成熟需要很长时间。这可能是不可避免的，但浏览器供应商正在绕过这一过程。

浏览器厂商
在他们急于推动新技术的过程中，厂商很容易添加一个前缀，然后就忘记了。Web 开发人员需要更多信息:W3C 是否正在考虑该属性，以及何时会取消前缀？

在理想情况下，一旦浏览器实现了标准属性，实验前缀就会消失。供应商不会这样做，因为这会破坏网站，但他们可以做更多来突出问题，例如，提供过时检测工具或向开发人员控制台输出错误消息。

苹果和谷歌
都在宣传 webkit 前缀，好像它们是日常 HTML5 网络开发的标准部分。苹果被指控积极反对 W3C。

Mozilla、微软和 Opera
其他厂商经常比 webkit 浏览器落后几个月——如果不是几年的话。添加 webkit 前缀是一个可笑的解决方案:是时候升级他们的游戏了。

科技网站和布道者
我们都喜欢很酷的演示，但布道者经常忽略提及这些特性是实验性的，可能永远不会有完整的浏览器支持*(是的，这包括 SitePoint)* 。理想情况下，代码应该在至少两种浏览器中工作；至少它表明需要多个供应商前缀。

**网络开发者**
我们太懒了。我们正在编写特定于浏览器的代码，虽然我们可能有良好的意图在以后纠正它，但我们很少这样做。

你还记得上一次开发者瞄准特定浏览器是什么时候吗？那是 IE6。十年后，我们仍然生活在那个决定的影响下。你真的希望历史重演吗？

## 是行动的时候了

我反对非 webkit 浏览器支持 webkit 前缀。充其量，它使前缀不可用。最坏的情况是，它破坏了整个标准化过程。你可以同意或不同意，但要让同事知道你的观点，在博客和社交网络上。W3C 和浏览器供应商将听取您的反馈；你只需要提供一些。

然后在多种浏览器中测试你的站点。稍微降级是好的，但是忽略一个或多个具有同等支持的现代浏览器就不好了。修复代码，否则你的网站会导致问题。

## 分享这篇文章