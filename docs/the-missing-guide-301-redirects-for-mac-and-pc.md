# 失踪的指南:301 重定向

> 原文：<https://www.sitepoint.com/the-missing-guide-301-redirects-for-mac-and-pc/>

现代网络是流动的，不断有新网页建立，旧网页被删除。如果你计划删除网页或者将访问者从一个旧的网页或域名转移到一个新的网页或域名，这是给你的指南。

### 为什么我需要 301 重定向？

301 重定向执行两个主要任务:最重要的是，它们通知搜索引擎，你的页面或网站位置已经移动，并将页面排名和“链接果汁”从旧的转移到新的。这是一个相对简单的解决方案来保存一个页面或网站来之不易的搜索排名后，它已经移动。第二个好处是，每一个优秀的链接或书签仍然会把访问者带到新的网站，所以你不必担心断开的链接。

**Note**

这是对最常见的服务器端方法`.htaccess 301 Redirect`的严格指导。要求您的网站位于打开了`Mod Rewrite`的 Apache 服务器上；大多数主机公司都使用这种方法，但是如果你不确定，可以和你的主机核实一下。

首先，您需要强制您的计算机识别`.htaccess`文件，我们将在后面的步骤中编辑该文件。默认情况下，任何以“.”开头的文件在大多数计算机上是隐藏的，因为它们通常是敏感的操作系统文件，如果被意外编辑或删除，会对系统造成损害。然而，我们需要能够看到和编辑一个“.”申请我们的网站，所以你需要做的是:

### Mac 用户

1.进入**应用>实用程序**并打开**终端**。选中窗口，粘贴以下内容并点击**回车**。

`defaults write com.apple.Finder AppleShowAllFiles TRUE`

2.通过粘贴以下代码并再次点击**回车**来强制 Finder 重新启动。

`killall Finder`

3.当你完成并想再次隐藏系统文件时(这通常是个好主意)，重复相同的步骤，但是用**假**替换**真**。

`defaults write com.apple.Finder AppleShowAllFiles FALSE`

然后强制 Finder 再次重新启动:

`killall Finder`

### 电脑用户(Windows Vista 和 Windows 7)

1.启动 Windows 资源管理器。

2.在**组织**下拉菜单中，选择**文件夹**和**搜索选项**。

3.在**视图**选项卡下，向下滚动并选中“显示隐藏的文件和文件夹”旁边的框

4.要再次隐藏文件，只需返回并取消选中该框。

### 打开`.htaccess`文件

现在你可以实际看到你要处理的文件了，转到你站点的根目录，或者最顶层的文件夹。在那里您应该可以找到`.htaccess`文件。如果您没有，我将解释如何创建一个。

### 如果没有`.htaccess`文件

不要害怕，创建一个将是快速和无痛的:

1.转到任何基本的文本编辑器，如记事本或文本编辑，并打开一个新的文件。
2。在第一行，写下以下内容:

`RewriteEngine ON`

3.继续**另存为**，并确保文件名简单为`.htaccess`，后面没有`.txt`或任何东西。如果您按照上面的步骤允许您的计算机查看隐藏的文件，这应该没有问题。

就是这样！您已经准备好开始接下来的步骤。

### 如果有一个`.htaccess`文件

1.下载并在记事本或文本编辑器等基本文本编辑器中打开它。
2。确保有一行写着:

`RewriteEngine ON`

如果没有那一行，就在第一行输入。确保您添加的任何代码都在这一行之下。

### 添加 301 重定向

下一步是添加将执行重定向的代码。虽然有许多类型的重定向，我们只打算看看重定向单个页面和域。如果您需要不同类型的重定向，快速搜索应该会产生一个片段，您可以粘贴在下面的片段。

### 页面到页面重定向

要从您的域上的旧页面或已删除页面重定向到新页面，请将以下代码粘贴到您的`.htaccess`文件中的`Rewrite Engine on`行下方，替换信息以反映您的站点和页面名称:

`Redirect 301 /oldpage.html http://www.yoursite.com/newpage.html`

就是这样！旧的或被删除的页面是第一项，新页面的完整地址紧随其后。

### 域重定向

如果你改变了网址，你需要将搜索引擎和流量导向新的网址。在这种情况下，您需要启动一个新的*空白* `.htaccess`文件并粘贴以下内容:

```
Options +FollowSymLinks
RewriteEngine on
RewriteRule (.*) http://www.newwebsite.com/$1 [R=301,L]
```

这个`.htaccess`文件将被放在你的旧域中，所以只有旧域保持活动状态，这个文件才会有效。建议你保留你的旧网站，直到搜索引擎识别出 301，并给新页面排名。关于帮助谷歌识别你的新网站的更多信息，我推荐这篇关于如何从 SEO 角度正确移动域名的文章。同时，重要的是你要联系任何包含反向链接的网站或目录，确保他们有你网站的新网址。

### 上传和测试

好消息——你就快成功了！你的最后一步是上传新的`.htaccess`文件到你网站的根目录。一旦这样做了，一定要测试，并确保旧地址重定向到新的网页或域名！

恭喜——你现在是 301 老兵了。

## 分享这篇文章