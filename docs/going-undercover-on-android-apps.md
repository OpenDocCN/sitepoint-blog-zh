# 秘密使用安卓应用

> 原文：<https://www.sitepoint.com/going-undercover-on-android-apps/>

布鲁斯·库珀(Bruce Cooper)是一名 IT 顾问，他认为为了能够更好地为客户服务，他应该了解现有的不同技术，以及它们是如何工作的。最好的学习方法是通过实践，所以他经常做一些小的兼职项目来学习新技术。本文展示了他的一个项目，一个名为 NodeDroid 的 Android 使用追踪应用程序。

### 剖析 Android

大约一年前，新一代 Android 手机问世，当时的热门话题是 Android 现在可以在功能和吸引力上与 iOS 竞争。我已经做了一些 iPhone 编码，加上我在市场上寻找一部新手机，所以我认为这将是一个学习新技术的好机会，并希望在我工作的时候产生一些有用的东西。

### 快速无痛

当我决定写什么样的应用程序时，我希望它是简单的，原因有几个。首先，我想学习 API，而不是对自己征税过多。第二，通过使它简单，我更有可能快速完成并向公众发布。

发布我的应用很重要，因为我想比较在 Android 和 iOS 上开发的体验。我们都听说过不得不应对苹果神秘的审批流程的故事，而谷歌的审批流程本应简单得多。所以我去了当地的手机店，拿回来一部闪亮的新三星 Galaxy S i9000。

我想尝试的另一件事是移动广告。同样，我们都听说过人们通过应用程序广告比通过商店销售收入赚得更多。我没抱太大期望，但理解一件事的唯一方法就是去做。对于广告，我选择了 AdMob，因为它似乎是当时最优秀的平台。

### 瞄准

我想写一些对我的目标读者有用的东西:我自己。我决定编写一个使用检查应用程序，它将显示我的电话(Optus)和我的家庭 ISP (Internode)的带宽使用情况，以确保我不会超过我的配额。它将被称为 NodeDroid。大多数现有的 Android 使用检查应用程序要么非常基础，要么只为一个提供商工作，我一直在查找它的信息。可以在 8bitcloud 找到更多关于 [NodeDroid 的信息](http://www.8bitcloud.com/nodedroid.html "NodeDroid - 8bitcloud")

在阅读了《如何为 Android 编程》的技术细节后，我开始思考应用程序应该如何流动，这也是我注意到 iOS 和 Android 之间第一个差异的地方。苹果已经竭尽全力指定*与 iOS 互动的*方式和用户界面指南。图形界面生成器在帮助开发人员制作看起来像苹果用户界面的布局方面大有作为。

虽然 Android 也有用户界面指南，但它们的执行并不严格。Eclipse for Android 中内置的 GUI 生成器很糟糕，这意味着大多数人最终会用 XML 手工构建他们的界面，而不是使用 GUI 生成器，这通常会导致难看的界面(顺便说一句，我认为以编程方式构建的布局通常比 GUI 构建的更好，但是您需要付出更多的努力才能使它们正确)。

其他人注意到 Android 的体验不如 iOS 一致，在我看来这是原因之一。但是我仍然想要一个好的体验，所以我花了很多精力让滑动手势正确工作，包括状态之间的动画。我有点失望，它没有开箱即用。其中一些需要专门的编码，我将在另一篇文章中介绍。

### 手机应用剖析

保持应用程序简单很重要。虽然把一大堆东西放进一个应用程序很有诱惑力，但对于移动设备来说，屏幕空间和输入机制的限制意味着往往越少越好。我不希望我的应用程序上有太多的按钮；一般来说，按钮在移动应用上是禁忌，手势是更好的交互方式。

颜色也是一个重要的工具，让你区分不同的组成部分。NodeDroid 支持来自多个供应商的帐户，每个供应商显示在一个单独的页面上。用每个供应商的颜色给页面着色意味着它们可以被品牌立即识别。节间账户以橘红色结束，而 Optus 以黄色结束。我不是图形艺术家，所以结果只是部分成功，但我对颜色提供的用户体验很满意。有了标志，效果会更好。

用户体验的最后一个方面是如何显示结果。最容易阅读的信息格式是图表。我去寻找可用的绘图库，[找到了](http://www.jfree.org/jfreechart/)和[几个](http://code.google.com/p/achartengine/)，但它们要么太复杂，要么太不成熟。最后，由于我写的图形非常简单，我编写了自己的组件来绘制图形。

### 将它整合在一起

那么最后是怎么结束的呢？该应用程序的第一个版本开发速度很快。这得益于使用 Java 作为编程语言，因为我是一名专业的 Java 程序员，切换到 Android APIs 比学习 iOS 的 Objective-C 更容易。在我看来，使用 Eclipse 作为工具要比糟糕的 XCode 容易得多。此外，大多数 Java APIs 在 Android 上运行良好，这意味着已经有很多了。

发布到 Android 市场轻而易举。一次性支付 25 美元注册费(比苹果公司每年 99 美元的注册费便宜)后，我就可以通过一个简单的网络界面立即发布我的应用程序。当我在第一个版本中发现一个 bug，并需要立即重新发布来修复它时，这尤其有用。如果我和苹果公司打交道，可能会有一大堆关于发布新版本的废话，但在安卓系统上，只是简单地上传新的应用捆绑包，然后再按一下发布键。market developer 控制台也有一系列方便的报告工具，可以为您提供关于下载、问题和评论的大量反馈。

广告业是一个大杂烩。虽然安装和使用广告很容易，当广告可用时，我有一个合理的点击率，但该服务经常无法在请求时提供广告，导致广告显示数量很少(称为填充率)。当这种情况发生时，它几乎停止了收入死亡。最终，在两个月后我结束实验之前，我从广告中赚了大约 20 美元。这听起来很可怕，但是记住这是一个只有几千用户的小应用。它不会支付账单，但我可以理解为什么人们喜欢它作为一种方法:如果你有一个拥有成千上万用户的流行应用程序，广告收入可以开始积累。

### 挑战

我认为不可避免的一个挑战将是各种不同的屏幕尺寸和 Android 版本，也就是所谓的“碎片化”。人们对此大惊小怪，但我不能说我真的遇到了问题。谷歌工具允许你瞄准一个特定的版本，只要你愿意不用最新的 API，你可以很容易地瞄准相当旧的设备。我不得不做一些调整，但这很容易针对所有 Android 1.6+设备。

屏幕分辨率有点棘手。您倾向于为一种屏幕分辨率编写应用程序，然后看看它在其他屏幕上的效果如何。幸运的是，Google 已经提供了很好的工具来使你的 UI 伸缩良好，如果你正确地编写了你的应用程序，它应该可以流畅地工作。我不会说我的应用程序在每个屏幕上都可以完美运行，但它在绝大多数屏幕上都运行良好。最后，碎片化对我来说真的不是什么大问题。

### 未来

我可以对我的小应用程序做很多改进。我想添加一个主屏幕部件，加上它将是一个伟大的添加额外的网络提供商。我仍在努力找出如何以安全的方式做到这一点，这样合作者就不必与我共享密码。没有帐户很难调试。

作为第一步，我已经开源了这个应用程序，它可以在我的 [GitHub NodeDroid](https://github.com/brucejcooper/NodeDroid "GitHub - NodeDroid") 仓库中获得。如果你只是想尝试一下这个应用，你可以在[安卓市场](https://market.android.com/details?id=com.eightbitcloud.internode "Android Market - NodeDroid")买到。我也很感谢你对我的申请的任何反馈，或者你想写的关于 buildmobile.com 的任何文章或技巧。

## 分享这篇文章