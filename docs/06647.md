# 使用额外的导航键提高可用性

> 原文：<https://www.sitepoint.com/improving-usability-with-extra-navigation-keys/>

在 JavaScript 中处理键盘事件时，大多数脚本和应用程序倾向于使用提供核心可访问性的基本键——用于串行导航的**选项卡**键，用于向下钻取或二维导航的**箭头**键，以及用于点击和选择内容的**回车**和**空格**键。

这一切都很好，但是您也可以考虑其他一些通用键，它们可以通过提供更多的控制来显著提高可用性——**上翻页**和**下翻页**键可以用于快速导航大量数据，而 **Home** 和 **End** 键可以用作第一个和最后一个值的快捷方式。

大多数 Windows 键盘都有专用的按键，但它们也可以通过修饰键组合在 Mac 上工作。例如，在我的 Macbook 上有一个额外的 **fn** (功能键)，它与四个箭头键结合使用(例如， **fn+up** 用于翻页，而 **fn+left** 用于 Home)。

## 滑块控件

滑块控件是一个很好的例子，可以很好地展示这些键的作用。箭头键通常用于以单个值递增和递减滑块，但我们也可以使用 Page-up 和 Page-down 键以更大的比例更改值，以及 Home 和 End 键将滑块设置为最小和最大值。

以下代码摘自视频播放器的 seek 滑块:

```
switch(true)
{
  case (e.keyCode == 38 || e.keyCode == 39) : 

    if(++value > max) 
    { 
      value = max; 
    }
    break;

  case (e.keyCode == 37 || e.keyCode == 40) : 

    if(--value < 0) 
    { 
      value = 0; 
    }
    break;

  case (e.keyCode == 33) : 

    if((value = value + Math.round(max / 10)) > max)
    {
      value = max;
    }
    break;

  case (e.keyCode == 34) : 

    if((value = value - Math.round(max / 10)) < 0)
    {
      value = 0;
    }
    break;

  case (e.keyCode == 36) : 

    value = 0;
    break;

  case (e.keyCode == 35) : 

    value = (max - 1);
    break;
}
```

`switch`语句根据事件`keyCode`调整滑块的值(从而调整视频的搜索位置)——箭头键调整一步，上翻页和下翻页键调整 10 %, Home 和 end 键分别调整视频的开始或结束。在适用的情况下，值的变化受到约束，因此它们不会超过它们的限制(例如，这样您就不能超过末尾)。

在这种情况下，slider 是从头开始编写的，以包括这些额外的键，但这是一种易于改进的脚本增强，因为它需要的只是脚本必须已经包含的键处理代码的附加条件。

## 处理关键事件

作为参考，以下是上一示例中使用的所有事件`keyCode`值:

*   `33` =向上翻页
*   `34` =向下翻页
*   `35` =结束
*   `36` =首页
*   `37` =向左箭头
*   `38` =向上箭头
*   `39` =向右箭头
*   `40` =向下箭头

处理这些键与处理任何其他导航键没有什么不同；如果你想了解更多相关信息，可以看看我之前的文章: [**实用 JavaScript 可访问性**](https://www.sitepoint.com/practical-javascript-accessibility/) 。

我在这里要明确提到的唯一一件事是，**导航键只能由`keydown`和`keyup`事件**处理，而*不能由`keypress`事件*处理(后者仅用于实际插入字符的键，如字母和数字)。`keydown`事件也可以用来阻止默认动作，这在使用导航键编写脚本时经常是必要的，但是要确保你只在**焦点在你的小部件**内时才这样做，这样你就不会一直阻止它们。

## 解释关键行为

当使用这些额外的键时——或者任何键——停下来考虑一下击键在你的脚本中意味着什么是很重要的。例如，虽然我们对 Home 键在文本编辑器或文字处理器环境中的含义有一个清晰的概念，但在不同的行为环境中可能就不那么明显了。

滑块是一个很好的例子，因为它们的用途是显而易见的，我认为我们可以通过这个具体的例子来推导出一组更通用的原则:

*   家意味着最低，开始或第一
*   End 表示最大值、结束或最后
*   向上翻页意味着增加一个块，或者移动到下一个分区或组
*   向下翻页意味着减少一个块，或者移动到前一个分区或组

例如，在邮件应用程序的消息视图的上下文中，Home 键可能会跳到列表的顶部，而 End 键可能会跳到列表的末尾。或者在音乐播放器音量控制的情况下，向上翻页可能会将音量增加四分之一或一半，而向下翻页则相反。

您将最清楚这些键与您自己的应用程序有什么关系。对此没有硬性的规则，也没有绝对的惯例，这只是一个思考现有键盘动作实现什么，以及如何使用这些额外的按键来使其更容易或更快的问题。

## 分享这篇文章