# 基于 IPFS 和 Swarm 的分布式存储和发布

> 原文:[https://www . site point . com/ipfs-swarm-decentralized-content-publication-storage/](https://www.sitepoint.com/ipfs-swarm-decentralized-content-publication-storage/)

在本文中，我们概述了两种最著名的分布式内容发布和存储解决方案。这两个解决方案是 IPFS(星际文件系统)和以太坊的 Swarm。

随着近年来区块链应用的出现，互联网出现了去中心化的热潮。开发者世界突然感觉到了现有范式之外的绿色牧场，基于服务器-客户端模型，容易受到不同司法管辖区、云提供商垄断等的审查。

土耳其禁止维基百科和“中国防火长城”只是一些例子。对互联网主干网、托管公司、亚马逊这样的云提供商、谷歌这样的搜索提供商的依赖——诸如此类的事情已经背叛了最初互联网对知识和信息获取民主化的承诺。

正如两年前 TechCrunch 上的这篇文章[所说，互联网最初的想法是*“为了人类的进步，建立一个所有人都能平等参与的公共中立网络”*。这种想法现在以 Web 3.0 的形式重新出现，这个术语现在意味着去中心化的 Web——一种防审查的架构，没有单点故障。](https://techcrunch.com/2016/10/09/a-decentralized-web-would-give-power-back-to-the-people-online/)

![Dapps](../Images/b68549a0efd139e06014d10e60031eb7.png)

正如以太坊的创始人之一 Gavin Wood 在他 2014 年关于 Web 3.0 的开创性工作中所说的那样，T2“越来越需要一个零信任的交互系统”。他将*命名为“后斯诺登网络”*，并描述了它的四个组成部分:*“静态内容发布、动态消息、无信任交易和集成用户界面”*。

## 分散存储和发布

在加密货币——尤其是以太坊平台——出现之前，我们有其他旨在开发分布式应用的项目。

*   免费网络(Freenet): 2000 年首次发布了一个点对点(p2p)平台，该平台通过其分布式数据存储来抵御审查。
*   Gnutella 网络(Gnutella network):支持与其众多客户端实例的点对点文件共享。
*   **BitTorrent** :早在 2001 年就被开发并发布，维基百科报道，在 2004 年，它是*“负责所有互联网流量的 25%”*。该项目仍然在这里，并且在技术上令人印象深刻，新项目复制了它的各个方面——基于散列的内容寻址、DHT 分布式数据库、Kademlia 查找……
*   **Tribler** :作为 BitTorrent 客户端，它为用户增加了一些其他功能，比如洋葱路由 p2p 通信。

我们前面提到的两个项目都建立在这些巨人的肩膀上。

## IPFS 吗

![IPFS logo](../Images/d933befe17ea0af985a217cf3559f365.png)

星际文件系统由 Juan Benet 开发，并于 2014 年首次发布。它的目标是成为一个协议，一个分布式文件系统，取代 HTTP。它是多种技术的混合体，而且层次很低——这意味着它将很多东西留给了构建在它之上的项目或层。

Juan Benet 从 2015 年开始对该项目的介绍可以在 YouTube 视频中找到。

IPFS 的目标是为重塑互联网提供基础设施，这是一个巨大的目标。它使用*内容寻址*——通过其加密哈希命名和查找内容，如 Git 和 BitTorrent，我们提到过。这种技术使我们能够确保内容的真实性，而不管*在哪里*，这意味着巨大的影响。例如，我们可以将同一个网站托管在世界各地的十台或数百台计算机上，并加载它，只需通过其基于哈希的地址就可以确定它是原始的、真实的内容。

这意味着重要网站——或可能受到政府或其他行为者审查的网站——不依赖于任何单点，如服务器、数据库，甚至域名注册商。这进一步意味着它们不容易被扑灭。

网变得有抵抗力。

这样做的另一个后果是，作为最终用户，我们不必依赖互联网主干网和与位于另一个大陆的远程数据中心的完美连接来托管我们的网站。国家可以被完全切断，但我们仍然可以从附近的一些机器上下载相同的、真实的内容，仍然可以确定其真实性。它可以是在我们附近的电脑上缓存的内容。

有了 IPFS，土耳其审查维基百科将变得很困难，如果不是不可能的话，因为维基百科不会依赖某些 IP 地址。真正的维基百科可以托管在土耳其境内成百上千的本地网站上，这个网站网络可以是完全动态的。

**IPFS 没有单点故障，节点不需要相互信任。**

处理内容是算法——它变得不可审查。也提高了效率。如果网站、视频或音乐文件缓存在我们附近的某个地方，我们就不需要向远程服务器请求。

这可以消除请求延迟。任何优化过网站速度的人都知道网络延迟是一个因素。

通过使用上述 Kademlia 算法，网络变得健壮，我们不再依赖域名注册商/域名服务器来查找内容。查找内置于网络本身。它不能被拿下来。近年来，黑客的一些主要攻击是对域名服务器的攻击。一个例子是 2016 年的这次攻击，这次攻击导致 Spotify、Reddit、NYT 和 Wired 以及许多其他网站瘫痪。

IPFS 是由 Protocol Labs 作为开源项目开发的。在此基础上，该公司正在建立一个激励层——file coin——该公司在 2017 年夏天进行了首次硬币发行，并收集了约 2.6 亿美元(如果我们算上前 ICO 风险投资)——这可能是迄今为止 ICO 收集的最大金额。Filecoin 本身还没有进入生产阶段，但是 IPFS 已经被 OpenBazaar 这样的生产应用所使用。在勇敢的浏览器中也有 IPFS 集成，并且更多正在到来…

制作视频共享平台 d.tube 使用 IPFS 进行存储，而 Steemit 则将其用于货币化、投票等。

这是一个等待被广泛采用的网络应用程序，但它目前正处于生产阶段，并且不需要广告。

虽然 IPFS 被认为是一个阿尔法阶段的项目，就像 Swarm 一样，IPFS 正在为现实世界的项目服务。

其他使用 IPFS 的著名项目有[布鲁姆](https://bloom.co/)和[分散土地](https://decentraland.org/)——一款基于以太坊区块链和 IPFS 构建的 AR 游戏。 [Peerpad](https://peerpad.net/) 是一款开源应用，旨在为在 IPFS 开发的开发者提供一个范例。

## 蜂群

![Swarm](../Images/e3251ea84abe72467b9e6aa60eb26bf1.png)

以太坊基金会的 Viktor Tron 说，“基本上，Swarm 是一种类固醇的 BitTorrent”。

以太圈的 Swarm 旨在解决与 IPFS 相同的问题。据[旗下 GitHub 页面](https://github.com/ethersphere/swarm) —

> Swarm 是一个分布式存储平台和内容分发服务，是以太坊 Web 3 栈的原生基础层服务。Swarm 的主要目标是为以太坊的公共记录提供足够分散和冗余的存储，特别是存储和分发 app 代码和数据以及区块链数据。

Viktor Tron 目前是 Swarm 的首席开发者。他是以太坊基金会的首批员工之一。以太坊基金会正在资助这个项目的开发，与我们引用的 Gavin Wood 的 Web 3.0 愿景一致。因此，Swarm 与以太坊生态系统更加集成，并且与 Whisper 和以太坊虚拟机一起，它的目标是为分布式应用程序(或称应用程序)构建下一代平台。

Swarm 比 IPFS 处于更早的发展阶段。引用维克多·创的话—

> IPFS 在代码成熟度、扩展、采用、社区参与和与专门的开发者社区的互动方面走得更远。

一旦 Swarm 成为生产就绪，它将提供一个激励层，并与以太坊的智能合同集成，这应该为创造力和创新应用提供足够的空间。

无论是虫群的激励层还是 IPFS 的激励层(Filecoin)都还没有准备好投入使用。

![POC3](../Images/6f39dabec8e5b18f4c873cc11da2b821.png)

*注:在撰写本文时(2018 年 5 月)，Swarm 的首席开发人员已经宣布发布 POC3，这保持了其路线图，并给出了乐观的理由，认为 Swarm 将在 2018 年投入生产。*

虽然 IPFS 的目标是建立一个*协议*，并且是一个更低层次、更通用的项目，但 Swarm 与以太坊的 Web 3 愿景联系在一起，更专注于抵制审查:它*“通过混淆和双重屏蔽的结合，实现了似是而非的否认和不可信的问责”。*

这让我们想起了 Freenet 项目，在这个项目中，托管某些内容的人不一定能够访问它，或者知道它是什么。

Swarm 的激励机制旨在提供更高层次的解决方案。它—

> 利用智能合约的全部功能来处理注册节点的存款。这使得惩罚性措施成为一种威慑。Swarm 提供了一个追踪责任的方案，让存储者对特定内容单独负责。

与 IPFS 相比，Swarm 更关注这些机制。一方面，这包括对长期存储不太受欢迎的内容的激励，另一方面，对高度受欢迎的高带宽内容的激励。这两者需要两种不同的惩罚/奖励方法。

在 Swarm 的情况下，这需要致力于被称为保管证明的加密结构，这使得*有可能“拥有一个紧凑的证明，向任何第三方证明你存储了一个 blob 数据，而没有转移整个数据，也没有透露实际内容”*。因此，证明某些内容的存储不需要每次都完全下载该内容。

Swarm 甚至有一个正在开发中的会计协议 [SWAP](https://github.com/ethersphere/swarm/wiki/Swap) ，作为一种激励措施。

目前，在激励机制公布之前(预计将在 2018 年发生)，群体功能就像一个缓存:不太受欢迎的内容可能会被删除，而且对此没有保险。

Swarm 将可用作云主机，而 IPFS 将其归入将建立在其基础设施上的项目。IPFS 让实现者/开发者去寻找实际的存储设备。

IPFS 本身作为较低层，没有存储的保证。相比之下，虽然 Swarm 在其路线图中包括了这一点，但 IPFS 团队在 Filecoin 级别上计划这一点，但目前还只是在想法阶段。

YouTube 上有一个对创的采访，分为两部分，他用不太专业的术语解释了 Swarm 项目:

[https://www.youtube.com/embed/VgTZV471WFM](https://www.youtube.com/embed/VgTZV471WFM)

[https://www.youtube.com/embed/xD8DnW3X82M](https://www.youtube.com/embed/xD8DnW3X82M)

在 apps 的背景下，有两个基于 IPFS 和 Swarm 的项目值得一提:分布式应用。因为这两个项目都只允许有限的动态内容，所以在这些分布式系统之上构建的面向数据库的项目增加了重要的价值。

**[OrbitDB](https://github.com/orbitdb/orbit-db)** 是一个“无服务器、分布式、点对点数据库”，它使用 IPFS 来存储数据。

这是一个适用于 Node.js 和浏览器的数据库。它的开发是积极的，并由协议实验室赞助。在 2017 年筹集了 2.6 亿美元资金后，OrbitDB 的未来——就像 IPFS 一样——看起来很有希望。

OrbitDB 是 Node.js/npm 生态系统的一部分。

**[Wolk](https://www.wolk.com/)** 是一个项目/令牌，它使用 Swarm 的代码库构建一个数据库——Swarm db。其背后是一家加州初创公司 Wolk Inc .，该公司在 2017 年设法在其 ICO 中筹集了约 7100 个 ETH。WOLK 承诺提供一个以 WLK 令牌为激励层的抗审查分布式数据库。它提供了一个 Go、Node.js 和 HTTP 接口。

他们声称 Swarm 和 Bancor 是他们的合作伙伴。

虽然很难预测这些项目的成功和采用，或确定它们的质量，但随着 IPFS 和 Swarm 的进步，变得更适合生产并获得更广泛的采用，我们可以肯定会看到更多这样的项目。

Swarm 的橙色论文虽然技术性很强，但却很有趣。

两个项目[的更长比较可以在这里](https://github.com/ethersphere/go-ethereum/wiki/IPFS-&-SWARM)找到。

## 公共

IPFS 和 Swarm 的共同点是**基于哈希的内容寻址**，我们之前已经描述过了。虽然这提供了 git 级别的内容版本控制(托管在两个系统上)和审查阻力，但删除内容仍是一个有待解决的问题。

**不变性**提供了真实内容的保证，但是对内容的更改会产生新的地址，因此为了提供编辑功能，需要额外的层。

从不同的 web apps 来看，*两个项目都只支持静态内容*。因此，没有使用解释语言的后端应用程序，如 PHP、Python、Ruby 或 Node.js。对于 Swarm 来说，这就是 EVM 发挥作用的地方，但 EVM 也有其固有的局限性。

## 结论

IPFS 和 Swarm 都是很有前途的项目，尽管人们不禁想知道开发者是否设定了过于雄心勃勃的目标。如果他们的发展路线图取得成功，并获得更广泛的采用，毫无疑问，这将为我们所知的互联网带来巨大的变化。

## 分享这篇文章