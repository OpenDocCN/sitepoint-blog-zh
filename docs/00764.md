# 理解 WordPress 页面和页面 API

> 原文:[https://www.sitepoint.com/wordpress-pages-and-pages-api/](https://www.sitepoint.com/wordpress-pages-and-pages-api/)

WordPress *帖子*和*页面*是有区别的。有时候一个帖子更适合使用，而对于其他类型的内容，一个页面更适合。在这篇文章中，我将介绍什么是页面，以及为什么它们不同于文章。然后我将向你展示如何管理 WordPress 网站上的页面。最后，我们将看看 WordPress Pages API 中的一些函数，并尝试一下 Pages。

## 什么是 WordPress 页面？

WordPress 页面是你网站上的一个内容页面——例如,“联系”或“关于”页面。我们经常在主导航、侧边栏或者网站的页脚看到这些页面的链接。

帖子和页面之间的主要区别在于时间上的上下文:帖子通常是依赖于时间的，而页面中的内容通常是永久的。

当你发布新闻，甚至是教程时，背景是很重要的。一个新特性不会永远是新的，在某些情况下，几年后可能就不存在了。这也是为什么一个帖子在写这种类型的内容时更适应。

另一方面，如果你想描述你的网站的目的，或者如果你想提供一个联系方式，你会想要使用页面。是那种不会随时间变化的静态内容类型。

## 如何管理 WordPress 页面

### 添加、编辑和删除页面

如果您有编辑或管理员权限，您可以管理 WordPress 中的页面。为此，进入 WordPress 仪表盘中的*页面*，你会看到你所有页面的列表，或者通过*添加新页面*按钮创建一个新页面。

![WordPress Pages API](../Images/67bf00396599bdbfe1df27feddbd5103.png)

该列表类似于在*帖子*中找到的列表，并且可以以相同的方式使用。你可以点击一个页面的标题来编辑它，当你把鼠标移到页面标题上时，会出现一些其他有用的快速链接。

当您点击编辑或添加页面或帖子时，您可以指定标题、内容，甚至添加特色图片(如果您的主题支持的话)。*发布*按钮允许您发布页面。否则，如果您还没有准备好让它生效，您可以将其保存为草稿。

### 组织页面

要组织你的文章，你可以使用类别和标签。然而，没有类似的方法来组织页面。页面仍然可以按层次结构组织。事实上，您可以将页面指定为其他页面的子页面。这就像为你的类别创建子类别一样。

要创建一个子页，进入*页面属性*框，在那里你会发现一个标有*父*的下拉列表。在此列表中，选择要作为当前正在创建或编辑的网页的父网页。请注意，您还可以创建子-子页面、子-子-子页面等。创造你自己的等级制度。

默认情况下，页面按字母顺序排序(按标题)。您可以通过*页面属性*部分的*订单*字段定制该订单。然后，页面将按照您在此字段中指定的编号进行排序。例如，如果您有三个标题为*第 1 页*、*第 2 页*和*第 3 页*的页面，默认情况下它们将按此顺序显示。如果您想让第 3 页的*先出现，请将`0`指定为其顺序，其他页用更大的数字(例如`1`和`2`)。*

## WordPress 页面 API

### 显示页面列表

为了显示页面列表，WordPress 提供了`wp_list_pages()`功能。默认情况下，它显示一个包含所有已发布页面的`ul`列表的 HTML 代码，该列表封装在一个`li`标签中，标签的`h2`标题表示*页面*。它还接受一个参数:一个关联数组，其中列出了一些定制输出的选项。

#### 过滤输出

由于一些选项，可以限制显示的页面数量。我们将看到的第一个是`child_of`。它允许我们显示给定页面作为父页面的页面。下面的示例显示 ID 为 2 的页面的子页面:

```
<?php
wp_list_pages(array(
    'child_of' => 2
));
?> 
```

当我们想要显示一个或多个作者写的页面时,`authors`选项很有用。该选项接受一个字符串作为值:以逗号分隔的作者 id 列表。使用以下参数，该函数将显示由两位作者编写的页面:

```
<?php
wp_list_pages(array(
    'authors' => '2,7'
));
?> 
```

要仅显示某些页面，您可以使用`include`选项。您给这个选项一个逗号分隔的页面 id 列表，您将得到这些页面的列表:

```
<?php
wp_list_pages(array(
    'include' => '7,53,8'
));
?> 
```

相反，如果您想隐藏一些页面，您可以使用接受相同类型值的`exclude`选项:

```
<?php
wp_list_pages(array(
    'exclude' => '2,4'
));
?> 
```

您也可以选择按深度过滤。例如，如果您只想查看顶层页面，您可以使用选项`depth`。

默认设置为`0`，显示所有页面。将它设置为任何正数，你将只能得到这个深度的页面。例如，指示`1`将只显示顶层页面。以下示例显示了这些相同的页面及其直接子页面:

```
<?php
wp_list_pages(array(
    'depth' => 2
));
?> 
```

默认情况下，`wp_list_pages()`仅显示已发布的页面。但是由于有了选项`post_status`，你也可以显示其他页面。

使用此选项显示您想要查看的状态，用逗号分隔。以下示例显示已发布的页面和草稿:

```
<?php
wp_list_pages(array(
    'post_status' => 'publish,draft'
));
?> 
```

除了过滤您检索的页面列表，您还可以通过`number`选项限制检索的页面数量。如果使用正数，只能检索有限的页数。

#### 定制输出

您可以使用接受字符串作为值的`title_li`选项定制标题。默认情况下，它被设置为*页*，然后你可以选择显示任何文本。也可以将其设置为空字符串。

这样，`wp_list_pages()`就不会将你的页面封装到一个`li`标签中，你将直接获得页面的`li`标签。

### 检索页面

`wp_list_pages()`函数允许你获得一个 HTML 页面列表。如果您想创建自己的 HTML，或者如果您需要在显示页面之前对页面应用一些操作，那么它不是最好的函数。相反，您更喜欢用`get_pages()`来检索列出不同页面的数组。

这个函数也接受一个数组作为参数，列出想要的选项。好消息是，您已经知道了其中的一些选项，正如我们在对`wp_list_pages()`函数的描述中所涵盖的那样:`child_of`、`authors`、`include`、`exclude`、`post_status`、`number`、`sort_column`和`sort_order`。

默认情况下，页面的层次结构显示在`get_pages()`中:子页面将出现在父页面之后。由于将`hierarchical`选项设置为`false`，您可以禁用此行为。这样，所有的页面都将被平等对待，层次结构将被完全忽略。

### 检索单个页面

`get_pages()`函数返回一个数组，列出需要的页面，每个页面由一个`WP_Post`对象表示。我们现在通过检索一个页面来看看这个对象包含了什么。要检索页面，请使用`get_post()`功能。给这个函数一个页面的 ID，你将得到一个表示这个页面的对象:

```
<?php
$page = get_post(2);
?> 
```

在这个对象中有几条信息可用，每一条都是一个属性。例如，页面的 ID 可以通过`ID`属性获得:

```
<?php
echo $page->ID;
?> 
```

`post_content`允许您检索页面的内容，而它的标题在`post_title`属性中。`post_name`属性包含页面的 slug(代表页面标题的 URL 的一部分)。

页面作者的 ID 由`post_author`属性给出。您还可以使用`post_date`检索它的创建日期，使用`post_modified`检索它的最新修改日期。`post_status`属性允许您了解页面的状态(例如，发布或草稿)。

父页面的 ID 可以通过`post_parent`属性获得，而`menu_order`将给出页面创建过程中指示的顺序。

## 结论

如果你想在你的网站上添加一些静态的、永久的信息，那么 WordPress 页面就是解决方案。

如果你正在开发一个主题，WordPress Pages API 的功能是很有用的。例如，您可以在页脚中列出一些页面，或者创建一个小部件来做到这一点，这样您的用户就可以在他们想要的任何地方列出页面。

## 分享这篇文章