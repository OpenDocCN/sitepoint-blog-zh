# 使用 HipHop 将 PHP 性能提升 50%

> 原文:[https://www . site point . com/boost-PHP-performance-with-hip hop/](https://www.sitepoint.com/boost-php-performance-with-hiphop/)

不，我不是在谈论一个能神奇地给你带来额外 PHP 性能的霹雳舞动作。我指的是脸书宣布的一个新的开源项目。HipHop 是一个“源代码转换器”，旨在通过将 PHP 代码转换为 C++代码来减少 CPU 和内存的使用。

为了理解为什么这有帮助，你需要知道一点 PHP 是如何工作的。PHP 是一种脚本语言，就像 Ruby、Python 和 Perl 一样。这对于开发人员的生产力来说非常好，因为不需要编译代码。这种灵活性的代价是性能，脚本语言比编译语言(如 C++)需要更多的 CPU 能力和内存。HipHop 所做的是将您的 PHP 代码转换成真正的 C++代码，然后可以编译成机器代码。这不是你在开发时会做的事情，但是当你部署你的工作时，你可以把它编译成高级的 C++代码。

**HipHop 性能提升:**

*   Web —在流量相同的情况下，CPU 使用量减少 50%
*   API—CPU 使用量减少 30%，流量增加一倍

脸书看到的性能提升是基于它自己的真实体验，在过去的六个月里，超过 90%的脸书服务器被转换成 HipHop 代码。发布的优势分为两类，Web 层和 API 层，以及每一类的优势。在相同数量的连接下，web 层减少了 50%的服务器负载，API 层减少了 30%，即使流量增加了两倍。不同之处在于 web 层比 API 层需要更多的表示逻辑和更抽象的信息(相关信息)。megaupload 电影

**有什么隐情？**
你必须避免一些 PHP 函数，比如`eval()`和`create_function()`。由于这些函数的动态性质，HipHop 团队无法将它们转换成 C++代码；然而，这些函数通常很少在大多数 PHP 应用程序中使用。

目前，你的 HipHop 代码必须通过与 HipHop 捆绑在一起的定制 HTTP 服务器运行；然而，在 Apache 中使用 HipHop 代码是开发路线图中的重点。

虽然 HipHop 会提高 PHP 代码的性能，但它不一定是解决性能问题的灵丹妙药；例如，如果您的瓶颈是数据库性能，HipHop 将无法帮助您。不过，不需要担心它会使您的代码变慢，因为整个 PHP 运行时已经被模拟，即使是最复杂的代码也会以与纯 PHP 代码相同的速度运行。

我在哪里可以找到它？
HipHop 将很快发布到开源社区，但在此期间，你可以在[脸书博客]( http://developers.facebook.com/news.php?blog=1&story=358)上阅读完整的文章，或者查看脸书的演示文稿。

你怎么看？
我有兴趣做一些基准测试，看看 HipHop 如何使用 SitePoint 代码库。你认为它发行的时候你会去看吗？

## 分享这篇文章