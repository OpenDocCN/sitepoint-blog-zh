# 清洁或定制:哪种 CMS 最好？

> 原文:[https://www.sitepoint.com/clean-or-custom-cms/](https://www.sitepoint.com/clean-or-custom-cms/)

去年底，第一次 [FullCodePress 国际网站日赛](http://fullcodepress.com/)在澳洲悉尼举行。两个团队(澳大利亚和新西兰)连续工作了 24 小时，在比赛结束时，两个非营利客户带着全新的网站离开了比赛。

比赛结束后， [SitePoint 博客](https://www.sitepoint.com/full-code-press-pre-built-vs-custom/)上出现了一个有趣的讨论，提出了一个问题:当你为客户建立一个新网站时，你应该使用现有的 CMS，还是应该从头开始建立 CMS？澳大利亚队使用 Drupal，而 CodeBlacks(新西兰队)在当天从头开始构建他们的 CMS。参与竞争的两个后端开发人员对此都有很多话要说，所以我决定就此与他们多谈一些。他们是这样说的:

##### 雷克斯·钟(澳大利亚队)

作为团队的程序员，你为这次活动做了哪些准备？

我们作为一个团队见面，并事先决定我们将使用一个现有的开源 CMS。Drupal 和 WordPress 是最热门的两个选择，因为它们是最受欢迎的选项，我们中的一些人有实现它们的经验。我们还查看了 Drupal 可用的插件列表，并认为它们可能对我们有用。

使用 Drupal 作为支持您客户网站的内容管理系统的决定带来了什么好处？你认为它如何限制了你？

Drupal 带来了各种好处，也带来了挑战。主要的优势是它节省了我们从头开发的时间。然而，肯定有一个学习曲线，我们都不是定制 Drupal 的专家。

但是，从客户端的角度来看，还有更多好处——Drupal 有内置的权限和安全模型、存储多版本内容的能力、日历/事件插件等等。Drupal 也是一个非常受欢迎的开源 CMS，所以如果将来我们不能支持这个系统，客户可以很容易地找到开发者来支持这个系统。最后，通过各种插件和升级，网站还有很大的提升空间。

你在这个过程中处于什么位置——你觉得自己是个瓶颈吗？有没有担心过你最后只有几个小时来实现其他人的想法？

我们没有遵循瀑布过程。我们花了前 1-2 个小时收集客户的需求，并决定网站的线框。在前端方面，我所要做的就是与 David 就 HTML 结构进行交流，并负责 CSS。

为了实现 80%的所需功能，我可以做很多事情并做出贡献，所以到最后我只是实现了一些细节。

假设你只有 24 个小时，你在你的开发环境中使用了什么工具？源代码管理？IDE？你能利用任何类型的测试套件吗？数据库迁移？当你睡眠不足，代码行开始变得模糊不清时，你有没有使用其他工具来捕捉可能溜进来的错误？

我在苹果电脑上使用 TextMate。我们没有使用源代码控制系统——我认为像这样的比赛中的风险更多的是硬盘故障或文件的意外删除。为了降低这种风险，我们在自己的电脑上设置了个人环境，并在共享驱动器上设置了共享环境。共享驱动器就像我们的 UAT(用户验收测试)环境，我们对该驱动器进行备份，并不时将它们上传到实时系统。

我们使用的其他工具有 [Firebug](http://www.getfirebug.com/) 和[Firefox Web Developer Toolbar](http://chrispederick.com/work/web-developer/)。我们还使用了 [W3C 的 HTML 验证器]( http://validator.w3.org/)和一些网页可访问性测试网站。

如果你再次参加比赛，你会有什么不同的做法？

有一件事我会做得不一样，那就是事先学习更多关于 Drupal 的知识。我只在 3-4 年前用过它，而且只是在一个小项目上。所以那天我有很多东西要学！

##### mark rickerby _codeblocks)

作为团队的程序员，你为这次活动做了哪些准备？

我得到了几周的提前警告，并自然地认为我会沉浸在练习和准备中——但我突然意识到，在比赛开始几天后，我几乎什么都没做！

最重要的事情是与团队中的其他人交谈，感受他们是如何工作的，以及我们如何合作。我个人的准备工作包括将我从以前的项目中获得的 PHP 代码框架放在一起。我浏览了所有的类，添加了单元测试，清理了一些命名约定，并填补了空白。它远没有我希望的那么完整，但是因为它是我自己写的，所以比其他随机的开源代码更容易阅读和理解。

你们选择了定制系统，而澳大利亚人用的是 Drupal。你的决定带来了什么好处？你认为它如何限制了你？在什么时候你会想“啊哦，我已经吃不了兜着走了？”

我认为将我个人的收益与团队和客户的收益进行对比是公平的。我认为整个网站的主要好处是能够开发一个简单而干净的架构——我们从来不需要重新解释网站的设计或数据模型来适应不匹配的结构，所以我们有很大的自由度。结果，我们的大部分流程都集中在设计上，这是我们的初衷。

对我个人来说，最大的好处是我最终只和自己而不是别人战斗。不必与不熟悉或讨厌的第三方代码搏斗是我个人非常重视的事情，但这并不是说这是最好的做事方式。

我认为定制平台限制了我们，因为它需要一个不太敏捷的过程——我花了很多时间在网站的整体架构和后端工作，而不是逐个启用单个功能，所以我们直到很晚才准备好内容流入页面或可测试的 URL。但这部分是因为我在这个过程中犯了一些愚蠢的编码错误，而不一定是因为我们决定使用定制的 CMS(事实上，我花了不到一个小时来设计)。无论哪种方式，我们都必须等到内容编写完成，CSS/HTML 构建完成之后才能实现任何东西，这是我可以利用的相当大的一部分时间。(我只是必须明智地使用它——我仍然不相信我做到了！)

我不认为我有贪多嚼不烂的感觉，直到早上 6 点左右，当我意识到我只有一个小时的时间，还有很多东西还没有工作。也许在那之前我被骗了？所有这些小事看似复杂。你知道编写一个额外的特性只需要 10-20 分钟，但是一旦你考虑到与团队的对话、测试、过程中的意外，一个多小时可能已经过去了。

然而，我看到预算大得多的 80 小时项目产生的结果更少，所以我对最终产品相当满意。不过，我确实觉得我只是触及了 24 小时内可能发生的事情的表面。

你在这个过程中处于什么位置——你觉得自己是个瓶颈吗？有没有担心过你最后只有几个小时来实现其他人的想法？

我必须知道每个人正在做的每件事，这样我才能把它们按正确的顺序放在一起。

就计划而言，我从晚上 11 点或午夜之前我想去的地方的粗略想法开始工作，不幸的是没有到达那么远，所以最后几个小时变成了疯狂的争夺。我知道，如果需要的话，我可以在 1 到 3 个小时内构建大部分前端，所以这只是一个我能否实现设计的更复杂方面(如用户订阅和内容管理共享标记模型)的问题。到凌晨 3 点左右，我不得不放弃一些功能，专注于基本功能。

如果有两个我就好了——一个修复错误并回应团队的反馈，另一个负责实现新的东西。我暗暗嫉妒 Rex、Dave 和 Jeff，因为他们似乎在作为一个团队交换和分担很多责任，解决技术问题。在我们的团队中，分离更加明确。尽管 Thomas 是一个老派的 Perl 黑客和技术专家，但他一直忙得不可开交，我们实际上并不具备委派技术任务或修复 bug 的整体能力。它真的落在了我的肩上。

大多数时候，除了与设计相关的具体事情，我没有能力担心任何事情。就这种态度而言，这真的感觉像一场体育比赛——我们都尽了最大努力。我们团队的好处是，尽管角色划分相对严格，但我们都非常关注设计和可用性，所以我们都能够对概念方面做出建设性的贡献。有时候，为了从我的编码中休息一下，我会在房间里走来走去，给设计人员反馈他们正在做的事情，问问题，并保持对话畅通。我很幸运能有机会和这么有才华、有趣的人一起工作，也很欣慰他们完全信任我的技术判断。不幸的是，由于必须在代码中完成所有工作的性质，我对整体结果的掌控力确实比我希望的要大。不过，我不愿意认为我是一个瓶颈——我更愿意认为其他人的想法过于雄心勃勃，无法在 24 小时内完成！

假设你只有 24 个小时，你在你的开发环境中使用了什么工具？源代码管理？IDE？你能利用任何类型的测试套件吗？数据库迁移？当你睡眠不足，代码行开始变得模糊不清时，你有没有使用其他工具来捕捉可能溜进来的错误？

我想使用 SVN，但是不清楚如何与团队中使用各种不同操作系统和 ide 的其他人一起管理它。我们有一些令人毛骨悚然的时刻，当文件时间戳开始在我眼前游动，似乎朝着与过去和未来的通常流向相反的方向移动！HTML 模板的几次意外文件覆盖意味着两次修复相同的错误。太可怕了。

我最初有一个迂回的计划，在 Rails 之外使用 ActiveRecord，并利用 Ruby 的迁移能力，但最终都是用 PHP 完成的——实际上是相同的功能，但没有明确的“上/下”版本控制。这是非常高效的，并且意味着随着 Zef 对信息模型的改进，我可以在一天中对数据库模式进行各种各样的改进。在我的框架代码中借鉴 Damian Conway 和 David Heinemeier Hansson 关于字符串多元化的思想也有很大的好处。

我在那天开始时确实建立了一个单元测试结构——但是最后只写了一些断言来测试 Apache/PHP 环境。不幸的是，我遇到的一些问题可能对单元测试没有帮助:比如不是解析错误的打字错误，意外调用错误的方法——编程 101，白痴的东西。不过，很难追查。您认为如果您只用两三行代码就完成了某件事情，就不会出错，但实际上，这与事实相去甚远。我在这些问题上浪费的时间比实际的技术和设计问题多得多，这真的让我很失望。我在比赛后的几周内修复了一些代码，惊讶于这些 bug 是如此的微不足道——而且修复速度如此之快——但是当时要发现它们是多么的不可能！

我希望有工具可以保护我们不犯睡眠不足的错误。单元测试涉及的认知负荷对于这种情况来说可能有点高。除了一开始就不写代码(避免 bug 的唯一可靠方法)，我想不出还有什么比这更有帮助的了。

如果你再次参加比赛，你会有什么不同的做法？

这是一个很难回答的问题，因为我认为我处理这个项目的很多方式都是由客户的目标和需求决定的。根据我们为哪个慈善机构工作，整个经历可能会完全不同，所以谁知道什么对未来的情况最好呢？

最主要的事情可能是尝试在更慢、更平静的状态下编写代码，希望能够避免意外的输入错误。并且一定要使用版本控制。我还会尝试在 6 个小时或更短的时间内建立并运行一个工作原型，而不是等到半夜才放弃完整的站点基础设施。另外，最重要的是，我会试着把更多的注意力放在摄像机和观众身上，为他们上演一场更好的演出！不幸的是，我大部分时间都是低着头的，无法真正像我想的那样深入研究这些滑稽动作。

如果你有兴趣听听参与 FullCodePress 竞赛的其他人的意见，请阅读[我对 FullCodePress 设计师](https://www.sitepoint.com/interview-with-fullcodepress-designers/)和[项目经理](http://www.fullcodepress.com/2007/10/14/interviews-with-the-project-managers/)的采访。

## 分享这篇文章