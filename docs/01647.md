# 如何使用 HTML5 自定义数据属性，为什么

> 原文:[https://www . site point . com/how-why-use-html 5-custom-data-attributes/](https://www.sitepoint.com/how-why-use-html5-custom-data-attributes/)

![HTML5 Custom Data Attributes](../Images/288c0d0734c07995a426e81dbff5fd9f.png)

在本文中，我将向您展示如何使用 HTML5 自定义数据属性。我还将向您展示一些对您作为开发人员的工作有帮助的用例。

## 为什么要自定义数据属性？

我们经常需要存储与不同 DOM 元素相关的信息。这些信息对读者来说可能并不重要，但是容易获得这些信息会使我们开发人员的生活变得容易得多。

例如，假设你在网页上有一个不同餐馆的列表。在 HTML5 之前，如果你想存储关于餐馆提供的食物类型或者它们离访问者的距离的信息，你可以使用 HTML `class`属性。如果您还需要存储餐馆`id`以查看用户想要访问的特定餐馆，该怎么办？

以下是基于 HTML class 属性的方法的一些问题。

*   HTML class 属性并不意味着像这样存储数据。它的主要目的是允许开发人员将样式信息分配给一组元素。
*   每一条额外的信息都要求我们向元素中添加一个新的类。这使得用 JavaScript 解析数据以得到我们真正需要的东西变得更加困难。
*   假设给定的类名以数字开头。如果您决定以后根据类名中的数据来设计元素的样式，那么您必须对数字进行转义，或者在样式表中使用属性选择器。

为了解决这些问题，HTML5 引入了**自定义数据属性**。名称以`data-`开头的元素的所有属性都是数据属性。您还可以使用这些数据属性来设置元素的样式。

接下来，让我们深入了解数据属性的基础知识，并学习如何在 CSS 和 JavaScript 中访问它们的值。

## HTML 语法

正如我前面提到的，数据属性的名称总是以`data-`开头。这里有一个例子:

```
<li data-type="veg" data-distance="2miles" data-identifier="10318">
  Salad King
</li>
```

现在，您可以使用这些数据属性为您的访问者搜索和排序餐馆。例如，你现在可以向他们展示一定距离内的所有素食餐厅。

除了前缀`data-`之外，有效自定义数据属性的名称必须只包含字母、数字、连字符(-)、点(。)、冒号(:)或下划线(_)。它不能包含大写字母。

使用数据属性时，您应该记住两件事。

首先，**存储在这些属性中的数据应该是字符串类型**。任何可以用字符串编码的东西都可以存储在数据属性中。所有的类型转换都需要用 JavaScript 来完成。

第二，数据属性应该只在没有其他合适的 HTML 元素或属性时使用**。例如，在`data-class`属性中存储元素的`class`是不合适的。**

一个元素可以有任意数量的数据属性和任意值。

## 数据属性和 CSS

您可以使用 CSS 中的数据属性，通过属性选择器来设计元素的样式。您还可以借助`attr()`函数向用户显示存储在数据属性中的信息(以工具提示或其他方式)。

### 造型元素

回到我们的餐馆例子，您可以给用户一个餐馆类型的提示，或者使用属性选择器来改变餐馆背景的样式。这里有一个例子:

```
li[data-type='veg'] {
  background: #8BC34A;
}

li[data-type='french'] {
  background: #3F51B5;
}
```

在 [CodePen](http://codepen.io) 上通过 SitePoint ( [@SitePoint](http://codepen.io/SitePoint) )查看带有数据属性的笔[样式元素。](http://codepen.io/SitePoint/pen/mWRJeX/)