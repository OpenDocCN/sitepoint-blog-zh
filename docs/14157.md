# 如何阻止垃圾评论

> 原文:[https://www.sitepoint.com/stop-comment-spam/](https://www.sitepoint.com/stop-comment-spam/)

垃圾邮件不再局限于电子邮件。如果你运行一个允许用户发表评论的网站，你无疑面临着垃圾评论的问题。

垃圾邮件发送者的目的不是将你的一些流量重定向到他们的站点，这是显而易见的初步结论；这是为了提高他们(或他们的客户)在搜索引擎中的排名。现在，大多数搜索引擎会在一个网站的排名中计算有多少其他网站链接到它。通过在你的站点上留下评论，垃圾邮件发送者的站点可以在搜索引擎中获得稍高的排名。

垃圾邮件发送者的工作是避开垃圾邮件拦截者，以个人网站的安全为目标；虽然他们偶尔会手动这样做，但到目前为止，最常见的垃圾评论形式是通过垃圾“机器人”或脚本实现的。不幸的是，许多网站所有者没有把网站作为他们的日常工作，这使得适应垃圾邮件机器人变得困难。

##### 经验法则

当你发现你的网站是垃圾评论的受害者时，很容易根据具体情况做出强烈的反应，而不是着眼于大局。这些经验法则会帮助你正确看待事物。

这些规则中最重要的一条是:不要往心里去。垃圾邮件发送者不想贬低你的网站。他们只是想让人们访问他们的网站，从而获得更大的利润。

***1。不禁止特定 IP 地址***

不用费心禁止 IP 地址。虽然这是最符合逻辑的做法，但它很少有多大帮助。大多数评论垃圾邮件发送者会将请求从其他计算机和服务器上退回，所以你很可能永远无法将它们从你的网站上彻底清除。

正如一个评论垃圾邮件发送者在[The Register 的采访](http://www.theregister.co.uk/2005/01/31/link_spamer_interview/)中解释的那样，“所以 Sam(一个评论垃圾邮件发送者)像其他链接垃圾邮件发送者一样，使用网络上成千上万的‘开放代理’。这些机器是偶然(理解为:无知的系统管理员)或设计(理解为:无知的管理者)设置的，以便任何人、任何地方都可以通过它们访问另一个网站。通常供内部使用，所以一家公司只需要一台面向网络的机器，它们实际上很难完全锁定。”

***2。*不允许 HTML**

你的站点的用户没有理由能够编写 HTML 或 JavaScript。这应该是显而易见的，但有许多网站允许用户使用其中一种或两种语言。

如果您觉得有必要允许用户包含链接，有许多方法可以让您的代码适应这种功能，而不会使您的站点容易受到攻击。最常见的方法是通知用户所有的 URL 都将自动转换为链接，然后将任何以 http://开头的内容转换为链接。

***3。使用非描述性的表单名称***

好的编程需要使用描述性的名称，但是为了避免评论垃圾，您应该远离描述表单字段的名称。像“Comment”这样的表单元素名称使得垃圾邮件发送者很容易访问您的注释系统。

***4。对所有链接使用 rel = " no follow***

如果您允许站点用户在其评论中包含链接，请将 rel="nofollow "添加到标签中，如下所示:

```
<a href="[https://www.sitepoint.com](https://www.sitepoint.com)" rel="nofollow">SitePoint</a>
```

这种技术允许搜索引擎机器人忽略链接，因此垃圾邮件发送者不会从添加链接到您的评论中获得任何好处。

##### 阻止垃圾邮件

你可以通过两种方法阻止垃圾评论。第一种是在评论发布之前解决问题；第二个解决的是事后垃圾邮件。

***1。区分垃圾邮件制造者和普通用户***

区分垃圾邮件发送者和普通用户需要你的人类发帖者表明自己的身份，尽管在评论过程中插入了一个额外的步骤。这可能是最广泛使用的避免评论垃圾的方法，包括两个选项。

*图灵测试*

最常用的图灵测试(以计算机科学家艾伦·图灵命名)被称为 CAPTCHA(区分计算机和人类的完全自动化公共图灵测试)。

它包括在你网站的评论区添加一个包含随机文本的图片。文字必须有点褪色或模糊，以便人类可以阅读，但计算机不能。在提交表单之前，评论者被要求将该文本准确地复制到表单域中。

这个过程很容易保证评论者是人，而不是机器人。它不能解决人们手动发送垃圾评论的问题。然而，由于大多数垃圾邮件是由机器人自动执行的，这种技术应该可以阻止大多数垃圾评论。

*优势*

不需要经常更新代码，因为这种技术不依赖于代码。

*缺点*

为了提交他们的评论，用户被迫执行额外的步骤，这对他们没有好处。如果你的网站刚刚起步，你试图鼓励人们发表评论，这可能是一个严重的失败。

更多关于验证码的信息可以在[Capcha.net](http://www.captcha.net/)找到。解释如何在你的网站上使用验证码的免费资源可以在[人工验证](http://www.humanverify.com/)获得。

*用户认证*

使用这种方法，网站所有者要求所有用户在对网站发表评论之前设置用户名和密码。如果管理员发现某个用户向网站发送垃圾邮件，他或她可以禁止该用户名或电子邮件地址。

这种方法有两种工作方式。首先，垃圾邮件发送者不想被识别，因此不太可能注册。但是，即使他们这样做，必须花时间注册才能发送垃圾邮件(并立即被禁止)的障碍可能是一个强大的威慑。毕竟，比起一个有用户认证系统的网站，网上有很多更容易的目标。

*优势*

虽然是代码驱动的，但是这个解决方案涉及到一个用户数据库和简化的用户管理，所以并不太耗时。然而，禁止违规用户名可能需要一些时间。

*缺点*

在发布之前，用户被迫执行许多额外的步骤，他们可能看不到什么好处。如果你的网站刚刚起步，你试图鼓励使用，这可能是一个严重的失败。

让系统运行更顺畅的一个方法可能是使用 cookies 在回头客每次访问网站时自动登录。这样，当他们去发帖时，他们不需要面对登录表单:他们已经登录，可以开始发帖了。然而，这个选项并没有减轻最初的注册过程。

关于创建用户认证系统的更多信息可以在 [Developer Fusion](http://www.developerfusion.com/show/1744/2/) 找到，当然，也可以在 SitePoint.com[这里搜索](https://www.sitepoint.com)。

***2。添加评论后拦截垃圾评论***

如果你决定不区分垃圾邮件制造者和人类用户，捕捉评论垃圾邮件是必要的。如果您已经采取了上述步骤，这可能也是必要的—一些垃圾评论几乎是不可避免的。

这种方法包括在提交评论后创建一个检查，以识别它是垃圾邮件还是合法帖子。当然，你可以在文章发布前手动检查，确保它们不是垃圾邮件。但是你也可以自动化这个过程:创建一个垃圾邮件常见的关键词列表，并根据这个列表检查每篇文章。然后你可以剔除任何含有冒犯性词语的评论(可能包括伟哥、赌博、扑克、药物等术语)。).

这种比较可以通过多种方式进行，并且可以在注释处理过程中的多个点进行。大多数编程语言使得检查给定关键字的字符串变得非常容易。在运行比较之前，通过将字符串转换为小写或大写，确保字符串的大小写也进行了比较。如果发现评论包含关键词，垃圾邮件发送者将被警告，评论将被删除。

*优势*

这种方法不需要评论者采取任何额外的步骤，所以评论部分仍然简单易用。

*缺点*

随着垃圾邮件发送者改变垃圾邮件机器人使用的单词，您的关键字列表也必须更新。如果垃圾邮件发送者宣传与您的网站相关的产品，这种技术也很难实现，您的禁用词列表可能会阻止合法评论的发布。

##### 管理垃圾评论

垃圾邮件将永远是一个问题。然而，一个设计良好的网站，考虑到常见的垃圾邮件技术，将能够避免大多数垃圾邮件。我们在这里探索的技术应该可以帮助网站所有者有效地对抗评论垃圾。

最终，网站管理员需要不断调整他/她的技术来处理垃圾邮件。因此，成功的秘诀是不断监视和适应垃圾邮件发送者不断变化的策略。

## 分享这篇文章