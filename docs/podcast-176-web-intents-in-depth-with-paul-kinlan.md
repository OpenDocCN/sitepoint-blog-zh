# SitePoint 播客#176:保罗·金兰深度探讨网络意图

> 原文：<https://www.sitepoint.com/podcast-176-web-intents-in-depth-with-paul-kinlan/>

SitePoint 播客第 176 集现已推出！本周，我们的定期采访主持人路易斯·西蒙诺( [@rssaddict](http://twitter.com/rssaddict) )采访了保罗·金兰([@保罗 _ 金兰](http://twitter.com/paul_kinlan))关于谷歌的 Web Intents API 及其发展方向。

## 下载这一集

你可以下载这一集作为独立的 MP3 文件。以下是链接:

*   ~~SitePoint 播客#176:保罗·金兰的深度网络意图~~

## 剧集摘要

Louis 和 Paul 讨论了 W3C 和其他组织是如何开发 Web Intents API 的，它对 Web 应用程序和浏览器意味着什么，以及它如何在未来扩展到您家中的其他设备。

在[http://delicious.com/sitepointpodcast/176](http://delicious.com/sitepointpodcast/176)浏览展览中引用的链接的完整列表。

## 采访记录

路易斯:大家好，欢迎来到 SitePoint 播客的另一集。在今天的节目中，我认为深入一点我们过去讨论过的话题是个好主意。因此，在播客的前几集，我们谈了一点关于 Web Intents，这是一个新的浏览器 API 规范。当时，它刚刚在 Chrome 的一个版本中登陆，我们稍微讨论了一下它是什么。
但我认为这是一个非常有趣的话题，值得深入探讨。所以，今天在节目中，我和 Paul Kinlan 在一起，他是 Google 的开发者倡导者，他在博客上谈论了很多关于 Web Intents 规范的内容，只是为了更详细地讨论一下这个问题。嗨，保罗，欢迎来到这个节目。

保罗:你好。谢谢你邀请我。

路易:很高兴和你在一起。

保罗:对。很高兴来到这里。我目前住在洛杉矶。我通常住在伦敦。所以，是的，我的时区都很疯狂。

路易斯:对，对我们澳大利亚人来说，洛杉矶更容易协调。GMT 最差。在澳大利亚，每当我们醒着的时候，总是正好是半夜。很高兴你能来参加这个节目。所以，在我们开始之前，也许对那些没有听过前一集的人来说——甚至对那些听过的人来说也是如此，因为当时我对网络意图的理解相当有限，所以我很可能忽略了一些东西。你想谈谈什么是 Web Intents 规范以及它在现代浏览器中的作用吗？

保罗:对。Web Intents 是我们与 W3C 合作开发的一个规范。目前它仍处于非常早期的实验阶段。这绝不是一个官方标准。但我们正在努力让开发者更容易地构建互联网络应用。我们目前发现的一种情况是，当人们构建应用程序时，他们会与另一个 web 应用程序对话，他们会做大量的服务器工作来让两个应用程序一起对话，或者他们会使用某种 JavaScript 小工具。没有一致的 API 将这两个服务连接在一起。但与此同时，没有一种一致的方式能够插入您自己的首选服务来与另一个应用程序对话。因此，如果你在一个网站上，你想分享一个链接，比如说，Google Plus，但它不在页面上——但只有 Twitter 和，比如说，脸书或其他一些社交网络在那里——现在，没有其他方法比让开发者实际实现集成到他们的网站上，比如说，Google Plus。

Web Intents 旨在解决这个问题，让开发人员不必构建那些复杂的集成，而是用一个服务来代替它，该服务将用户可能希望用于 Web 上常见操作的服务列表委托给浏览器。我认为最常见的是分享、编辑、挑选、保存以及诸如此类的事情。所以，如果你想保存一个你喜欢的社交网络的链接，这只是一个普通的操作。理论上，它是一个按钮，而不是网络上的 20 个按钮。

路易:好的，那么现在，如果我作为一个用户想为我的新网络服务头像选择一张照片，我的选择非常多，要么开发者已经与脸书整合，从那里得到我的头像？还是我去翻我家文件夹，找到文件，自己上传？据我所知，Web Intents 应该做的是为开发人员提供一种方式，“我现在想做的就是允许用户选择一张照片，以及任何可以提供照片的东西，只要它以预定义的格式提供，我们就可以与之集成。”

保罗:对，没错。完全正确。Pick 实际上是我们所拥有的强大且未知的网络意图之一。挑选和保存是完全免费的。你可能有一个云存储解决方案，无论是谷歌驱动，Dropbox，box.net，所有这些不同类型的服务。当你想挑选一张照片时，你可能会在 Dropbox 上找到它。

所以，如果你想在你的个人资料页面中加入脸书或其他不同类型的服务，现在，除非已经对这些服务进行了硬编码集成，否则你需要将图片下载到你的主目录中。回到另一个应用程序，找到图像，并通过上传。所以，是的，这是一个很好的例子，说明了我们正在尝试利用 Web Intents 做的事情，就是尝试解决一系列的步骤，要么尝试集成，要么不得不将数据下载到用户系统的中间位置，以便再次上传。

**路易:**对。因此，这个想法显然是尝试并允许不同的 web 应用程序通过一些共同的动作相互通信，而不必依赖于开发人员来集成所有可能的服务。

保罗:对。

Louis: 这依赖于你有一套被定义的共同行为的想法。Web Intents 规范——是仅限于一定数量的操作，还是开放的？一直都有新的加入吗？

保罗:对。所以，这真的很有趣。实际的 Web Intents 规范并没有强制规定可以执行的一组特定类型的操作。Web Intents 规范实际上纯粹是关于管道的，即浏览器传递服务的方式，然后在客户端和服务应用程序之间传递数据。所以，我们试图做的是，我们试图记录并管理人们在 webintents.org[的网络上做的一系列动作、常用动词和事情。](http://webintents.org/)

所以，这个想法是 W3C 的规范基本上是说，“这就是数据将被传递的方式。”它现在不关心动作和这类事情。我们试图做的是，webintents.org 试图在定义新动作和常用动词的意义上变得更加开放和易于操作，这就是记录那些动作的地方。因此，在 webintents.org，我们有分享、保存、编辑、挑选、订阅和查看这六种核心行为。

没说不会再有动作了。只是我们认为我们已经有了六种人们在网络上做的真正好的高层次的事情，它们都是基于常见的使用案例。如果人们想尝试定义更多的标准，那么我们会尝试通过 W3C，在 webintents.org 进程的基础上，在完整的标准进程中完成。

**Louis:** 好的，在每一项行动中，是否有不同的方法来处理不同类型的数据？例如，分享一张照片和分享一个链接是如何处理的？

保罗:对。所以，我想这实际上是一种更深入的规范。因此，通常情况下，客户端应用程序会要求浏览器提供一个服务列表，以支持它们共享某些内容的能力。默认情况下，你只需说“我想分享任何东西”，任何支持分享行为的服务都会被列出来。我们试图鼓励的，也是我们试图推动开发者实现的，是对你想要的数据类型非常具体，比如说，分享或编辑，或者从另一个服务中选择。

您在意向规范中拥有的是一种数据类型。目前，它是一种地雷类型，因此如果您说，“嗯，我想与您的示例共享一个图像”，您可能不希望 Twitter.com 出现在该列表中，因为它不…嗯，现在有了，但过去它不支持直接共享图像的功能。就像是真正的文本和链接。因此，你可能会说，TwitPic 或不同类型的图像服务，它们支持共享图像的能力，但不支持共享文本或视频等类型的东西。

因此，通过指定您希望能够对其执行该操作的数据的数据类型，您可以获得一个服务列表，这些服务本质上更能够处理用户的意图。因此，在每个操作中，我们都将尝试记录，尤其是在 webintents.org，操作各种数据类型的最佳实践。因此，对于音频文件、视频文件、链接或 PDF 文档等类型的文件，您处理图像的方式和传递的数据类型可能会有所不同。

可能有一些核心的公共属性、名称、文件大小和所有这些类型的东西。但是当你考虑一个链接时，例如，指定一个编解码器是没有意义的。但是，如果您有一个视频文件或音频文件，您可能希望通过发送给服务的额外元数据来传递编解码器的类型。

**路易:**对。

保罗:所以，我们确实有这些类型的选择。这是一种完全开放的系统，这意味着我们必须非常努力地研究 webintents.org 最佳实践和最佳实践文档，以准确地告诉开发人员在故事的任何一方都可以期待什么。因此，客户端知道向服务发送什么，以及应该从客户端接收什么服务。

**路易:**对。我想这很有趣，因为它是开放式的，因为你不一定知道什么类型的应用程序或什么类型的数据或用户内容将在应用程序之间共享。事先很难预测，所以你得更多地依靠这个。这让我想起了微格式的工作方式，在某种程度上，它更像是应用程序开发者之间的一种协议，试图让事情一起工作，而不是一个正式的标准过程。

保罗:对，没错。我认为当你进入一个标准化过程时，它会变得更复杂，更冗长。你会得到非常精确的语义，但我们想说的是，我们将会有一套通用的东西，这些东西可能会在我们希望人们尝试和使用的所有类型的数据中非常通用。然后，随着我们看到生态系统的发展和人们使用它，我们可以灵活地回过头来说，“嗯，我们没有在图像文件中包括维度。”

这是一种非常开放的格式，当您共享一种类型的数据时，我们试图描述您将通过网络在浏览器应用程序之间传递的数据类型的最佳实践。我们认为我们已经定义了一组您想要传递的良好属性。我们正在准备一些文档，准备交给 W3C 小组，现在，基本上是告诉他们，我们打算如何处理将要传递的数据类型。

因为最初，在 Web Intents 规范的第一稿中，我们只是在两个应用程序之间传递原始的 blobs 或 URL。我们从开发者那里得到的很多反馈实际上是，我们需要比原始数据更多的信息。因此，当您在两个应用程序之间传递 blob 时，它实际上并不包括文件名或任何编解码器信息之类的内容。

因此，我们试图做的是，我们试图在某种意义上更加开放，当我们有这两个应用程序时，我们将定义一些基本的公共属性，数据所在的 URL，或者可能是 blob 中的实际原始数据本身。但是在 webintents.org 文档中，也描述了用户和开发人员应该期望在数据有效负载上的一些最佳实践属性。

例如，如果您有一个图像，您可能希望图像尺寸在实际数据体本身之外的实际数据有效载荷中，因为应用程序可能希望在实际加载、传递和处理数据之前检查数据。实际上，首先检查数据类型属性，而不是数据。所以，是的，这是一种开放式的。从这个意义上说，它是相当开放的。

最棒的是，我们可以从开发人员社区获得大量反馈，因为人们开始在他们的 web 应用程序中实现它，然后将它集成到最佳实践文档中。目前，动作和类型本身肯定不在规范过程之内。

**路易:**对。这正好引出了我接下来要问的问题。你刚刚谈到它开始被 web 开发者使用和采纳。有哪些网站已经率先开始使用 Web Intents 实现功能？

保罗:对。所以，你自己去看一下其实挺容易的。如果你通过 Chrome 内部的 Web Intents 调用一个动作，你会得到一个应用程序列表，要么是你已经安装的，要么是 Chrome 网络商店本身的建议。所以，我们有几个。我是说，我们有 WordPress。我已经写了一大堆通向服务的桥梁。因此，任何有 API 的服务，如果它们不直接实现 Web Intents 规范，你实际上可以构建一个 API，它可能与 Web Intents API 集成，以与它们的服务集成。

但是如果你真的从 Chrome 调用一个 intent，你会得到一个你已经安装的服务列表。你也有一个 Chrome 网上商店知道可以完成这个动作的服务的建议列表。所以，让我直接进入 Chrome 网上商店，我们可以得到一个小列表，这很酷。WordPress 可能是目前为止我们知道的最大的，人。Psykopaint 也有一些编辑集成，这很酷。

然后我们有 RSS 提要阅读器，它是一个开发者。我想他来自约里克。一点关于 RSS feeder 的背景故事。我们最近在你的首选应用程序中集成了在 Chrome 中查看 RSS 提要的功能，而不仅仅是在 XML 中查看。RSS Feed 阅读器的家伙，他的应用程序现在有 189，000 个用户，我认为自从我们在 Chrome 上实现和部署 View Web Intent 以来，增加了 100，000 个用户。

**路易:**对。

保罗:所以，他从中得到了一些好处。挺好的。然后我们还有其他几个人在继续。但因为目前这是实验性的，因为我们还没有在 Chrome 中集成我们想要的所有东西，我已经通过一个扩展对 Blogger、Instapaper、Gmail 等进行了一些集成。但那是因为他们开放并提供第三方服务，一个你可以通过 Web Intents 集成的 API。

他们不一定直接支持 Web 意图，但是因为他们有一个 API，你可以自己构建。因此，随着我们获得更多的应用程序，越来越多的人将会过来并开始集成、构建支持 web 意图的 Web 应用程序。所以，是的，到目前为止一切顺利。

**路易:**对。在 Chrome 之外的浏览器方面，其他浏览器制造商有没有行动或兴趣来实现这一点？

**Paul:** 目前在规范小组中有很多讨论，因为这还为时尚早，我认为这将主要取决于实施的成功以及类似的事情。我们正积极地与 WATWG 和 W3C 一起工作，以确保我们有一个共同的共识和标准，其他浏览器厂商也可以实现。
我们正在积极地与他们交谈，我想我们都在经历这样一个过程:了解每个供应商对应用程序连接的需求。

**路易:**对。

保罗:所以，现在是 Chrome。关于 Chrome 有趣的事情是，它是建立在 Web Kit 的基础上的，我们所做的所有工作都是为了 Web Kit。因此，另一个基于 Web Kit 的浏览器实现 Web 意图是可行的，因为它是跨多个浏览器的公共代码。但是那些厂商不得不选择实现它。它不会默认开启，也不会直接提供给 Web Kit。他们必须在后端做一些小小的工作来存储注册信息之类的东西。但是它是在 Web Kit 中，所以实现 Web Kit 接口的其他浏览器供应商实际上可以支持 Web 意图，如果他们愿意的话。

**Louis:** 对，就 Chrome 而言，正如你提到的，Web Intents 的概念有点类似于 Chrome 网上商店。所以如果我没有注册一个应用程序来处理一个特定的意图，Chrome 很容易从 Chrome 网上商店提供一个建议列表？

保罗:对。

Louis: 但如果你看到另一款浏览器没有附带应用商店，那会怎样呢？是不是，你会去一个像 Gmail 这样的网站，它会提供一个链接，告诉浏览器它能够处理一种类型的意图，一旦注册，浏览器就会记住它？

保罗:事实上，说得很对。当我们为 Web Intents 做第一个提案时，我们基本上说我们相信我们将从 Web Intents 获得的最大好处不仅仅是将两个应用程序连接在一起并交付数据的能力。实际上是能够在网上公开了解应用程序的能力。
因此，我们提出了一个意图标签，它基本上描述了动作类型，本质上是动词，用户想要做的事情——共享链接、编辑内容以及数据类型。因此，这个想法是，用户代理或浏览器或搜索引擎可以出现并聚合 web 应用程序的功能，这是他们目前无法做到的。真的没有办法发现应用程序的能力，就像在语义层面上。

**路易:**对。

保罗:有趣的是，我们有这个意图标签，目前我们仍在与 W3C 和所有的浏览器供应商讨论，试图找出他们的语义。因为有想法认为它应该在 link rel 或 meta 标签中，我们有很好的理由为什么它们不应该，我们认为一个简洁的标签只是用来定义应用程序的功能是一个更好的解决方案。但这是我们的目标，我们希望浏览器、搜索引擎、所有这些不同类型的人都能够理解应用程序的功能，而不仅仅局限于 Chrome 网络商店。

我们现在使用 Chrome 网上商店的原因是因为它已经有了一整套应用程序。Chrome 网上商店的开发人员希望能够找到其他支持他们自己需要的功能的应用程序。它很棒，因为它在 Chrome 网上商店，但理想情况下，我们会把它放在另一个搜索引擎中，或者这并不重要。

因为我知道 Mozilla 非常热衷于拥有自己的商店，并且能够让用户说，“好吧，我要开一个网上商店，你可以在这里部署你的应用程序。”如果你能理解应用程序的功能，那么绝对没有什么能阻止你在这些类型的商店中也这样做。

**路易:**对。这真的很有趣。

保罗:对。

**Louis:** 所以，你的意思是——如果我说错了，请纠正我——也许在某种程度上，我之前提到的 Web Intents 的某些方面让我想起了微格式，这也许是谷歌搜索引擎可以使用微格式在搜索结果中提供丰富片段的另一点。如果一个 web 应用程序提供了一个通用规范中能够处理的意图，那么没有什么可以阻止搜索引擎在互联网上找到所有能够通过 Web 意图编辑照片的网站？

保罗:对。我认为这是一个关键点，如果你在任何搜索引擎上搜索图像编辑应用程序，你不会得到一个支持图像编辑的应用程序列表。你会得到一些评论和一大堆类似的东西。所以，如果你能开始理解应用程序的能力，你就很对了。你可以做这些事情。

路易斯:这是一个非常有趣的观点，也是我以前没有考虑过的。正如你所说，这绝对不仅仅是允许应用程序集成的一种方式。而且还可以说是允许它们以机器可读的格式描述它们的功能。

保罗:对，没错。还有人说，你是否希望某种可访问性引擎能够理解他们正在与一个应用程序而不仅仅是一个网站进行交互，以及诸如此类的事情。因此，它有机会超越搜索引擎，进入不同类型的用户代理，这些用户代理需要了解他们正在与应用程序进行交互。

**路易:**对。这是一个非常有趣的观点。所以，我想让大家后退一步，对你们有一个更全面的了解。你已经做了一段时间的网页设计了。在互联网的世界里，你最期待的是什么？在这个领域里，最让你兴奋的是什么？

**Paul:** 所以，我在 Web Intents 背后的整个目标，这是一个相对较长的故事，有点有趣。两年前，我乘飞机往返于莫斯科和布拉格之间，我记得当时是和迈克·马赫莫夫一起。我们讨论了尝试将应用程序连接在一起的能力。事实证明，谷歌也有几个人，也在试图思考同样的事情，这最终导致了这样的想法，“嗯，我们认为我们可以把它内置到浏览器中。”

对我来说，最终的目标是让应用程序之间的连接变得简单。现在我们从网络应用开始。因此，我们在浏览器中有两个应用程序，此时它们之间能够轻松对话的唯一方式是通过服务器。我们所说的网络意图是，“你在标签中有这两个东西，它们在用户的机器上紧挨着彼此。为什么我们不能在应用程序和服务之间发送数据，然后在不接触服务器的情况下发送回来呢？”

这很酷，这也是我们在讨论网络意图时的出发点。如果你看一下在公共网络意图组织上发生的讨论，W3C 规范，W3C 组织的成员，他们对超越网页浏览器有点兴趣，如果那有意义的话。所以，他们想说的是，如果你在网页中有一张图片或一段视频，为什么你不能与你电脑周围的设备互动，就在你现在所在的地方？

所以，如果你在你的家庭网络上，并且你连接到一台联网电视上，为什么你不能直接把你在网页上看到的视频发送到电视上呢？我们可以通过 Web 意图的发现机制以及在两个服务之间传递数据的便利性来实现这些类型的集成。那会很酷。我的意思是，有很多事情我现在想都不敢想，我们有可能在家里实现。

因此，您可以将音乐流式传输到家庭媒体中心。您可以向电视发送视频。目前，我们在物联网上看到了很多东西，理论上，它们可以与 UPnP 和 Web Intents 一起工作。所以对我来说，跳出浏览器真的很令人兴奋，也是我不太熟悉的领域之一。

但是一些在 W3C 上谈论它的人说，它可能是一个游戏改变者，是我们开发与周围环境交互的应用程序的方式的一个完全的步骤改变。所以，我认为，目前在这方面有很大的潜力，这是非常令人兴奋的。

路易斯:那确实是非常令人兴奋的东西。我真的很期待看到这个领域的未来，我非常感谢你花时间来参加这个节目，并为我和听众澄清一些概念。

保罗:对。谢谢你。

路易斯:如果听众想跟上网络的意图或你的工作，他们应该去哪里？

保罗:太酷了，所以我们有几个地方，你可以去看看发生了什么。我试着在我的博客[保罗上这样做。Kinlan.me](http://Paul.Kinlan.me/) 或我的 Twitter 账户或我的 Google Plus 页面。我的推特账号是[@保罗 _ 金兰](http://twitter.com/Paul_Kinlan)。我认为最好的地方是，如果你真的对规范的本质感兴趣，它是 W3C 的公共意图。如果你只是想知道这如何帮助你构建应用程序，看看例子和其他应用程序，以及所有这类事情，我们有一个 Google Plus 页面，+Web Intents，在那里我们尝试每周发布一些开发者也感兴趣的项目。

所以，如果你真的对那里发生的事情感兴趣，请在网站上联系我们。对我来说，最重要的事情是，这不是我们想的那种，“我们将从一开始就做好这件事。”我们需要开发人员的反馈，需要开发人员在这个应用程序 API 上进行构建、测试，告诉我们什么可行，什么不可行，这样我们就可以帮助重构 API。现在 web Intents 发生的事情是，如果你实际上是规范组的一员，会有一些变化正在经历，这些变化直接来自 Web 开发人员的真实世界使用反馈，而不是标准实现者，Web 开发人员使这个 API 变得更好。

因此，我们从基于这个 API 构建的人们那里获得的反馈越多，从长远来看对开发者越有利。尽你所能和我们联系。那太好了。

路易:绝对是。再次感谢保罗，和你在一起很开心。

保罗:非常感谢你。

路易斯:谢谢你。

感谢您收听本周的 SitePoint 播客。我很想听听你对今天节目的看法，所以如果你有任何想法或建议，只要去[sitepoint.com/podcast](https://www.sitepoint.com/podcast/)就可以了，你可以对今天的节目发表评论，你也可以下载或订阅我们以前的任何一集来自动观看节目。你可以在 Twitter 上关注 SitePoint[@ sitepointdotcom](http://twitter.com/sitepointdotcom)，那是 sitepoint d-o-t-c-o-m，你也可以在 Twitter 上关注我 [@rssaddict](http://twitter.com/rssaddict) 。本周节目由卡恩·布罗德制作，我是路易斯·西蒙诺，感谢收听，再见。

[通过 SpeechPad 进行音频转录](http://speechpad.com/)。

迈克·梅拉的主题音乐。

感谢收听！请随时让我们知道我们做得怎么样，或者使用下面的评论栏继续讨论。

## 分享这篇文章