# IaaS 深度

> 原文：<https://www.sitepoint.com/iaas-in-depth/>

在我的[第一篇文章](https://www.sitepoint.com/virtualization-and-as-a-service-platforms-defined)中，我提到基础设施即服务(IaaS)是由另一个实体提供的服务，它提供硬件和硬件支持，同时您在其上维护虚拟数据中心。在本文中，我们将详细了解这意味着什么。

## 共同特征

基础设施即服务首先是一种计算基础设施。这意味着它是所有基础架构组件的完整包，包括服务器、存储和网络。提供商通常还提供防火墙、负载平衡以及其他安全和冗余功能作为其产品的一部分，作为附加优势或选项。诸如集群之类的高级功能通常也需要额外付费才能获得。大多数产品内置的一个关键功能是灾难恢复。拥有基于虚拟化技术的多个数据中心使得灾难恢复对这些提供商来说轻而易举，只有最小的、最可疑的提供商没有针对其(和您的)数据的良好的、经过测试的灾难恢复计划。

## 替代选项

为了实现规模经济，使提供者仍能获得利润，这些默认产品以虚拟机的形式提供。然而，它们并不是你唯一的选择。事实上，您可以创建一个完整的云，而无需虚拟化您的任何机器。相对而言，成本将是天文数字，但这是可能的。当然，其优势与任何其他云服务相同:几乎不需要或几乎不需要 IT 部门的参与，即可实现标准化的近即时资源调配。通常这些只会在私有云中出现，因为公共云提供的成本优势在纯物理云中完全丧失。

这导致了另一种选择—**专用的私有服务器**。出于负载或监管方面的考虑，如果需要，大多数提供商都可以提供这些专用服务器。这些通常是独立的物理服务器，无论机器上的资源使用情况如何，都只对客户可用。如前所述，它们通常会抵消云计算的成本优势，但在很多情况下，无论成本如何，都需要它们。然而，如果您只有有限的或者没有专门的 IT 人员来维护系统，并且/或者您已经在为其他服务付费，那么这将成为一种既符合要求又保持低成本的简单方法。

IaaS 提供商已经建立并运行了硬件和数据中心，所以对于他们来说，添加一些自己使用的机器或扩展他们的产品是相当简单的。为此，许多 IaaS 提供商也是平台即服务提供商(PaaS)。这意味着，如果您是一名程序员，并且您的基础设施需求不大，PaaS 服务可能更适合您的需求。对于只是为他们的代码库寻找一个应用服务器的程序员来说，这条路线通常是一条更便宜、更省时的路线——但那是另一篇文章的内容了。

## 好的，坏的，丑陋的

对许多公司来说，公开 IaaS 如此重要的一个最大的特点是，您可以获得计算机基础架构支持各个方面的专家组成的完整 IT 员工的好处，而没有与该员工相关的头痛或人员编制。其他一些关键优势包括可强制执行的服务级别协议，可保证正常运行的可用性、一流的设备和几乎无限的计算资源。因为资源是按使用量计费的，所以您只需为使用量付费，而不是为满足高峰需求而支付 24/7 的访问费用。作为一个额外的奖励，这些费用从你的运营支出中扣除，而不是资本支出，使预测和预算更容易，并允许他们将许多这些成本从固定成本转移到可变成本。我不是会计师，所以我不能谈论任何细节，但我只想说，这对大多数公司来说都是一件好事。

不幸的是，这确实意味着你需要一个精通所有这些方面的人来监督他们。IT 云经理的角色是绝对必要的。他们不需要知道实现每种解决方案的细节，但他们肯定更清楚哪种解决方案是必需的，谁是合适的供应商，以及有哪些产品可以满足他们的需求。否则，关键组件可能会丢失，数据完整性和可用性可能会丧失。即使他们没有被遗漏，你也可能因为缺乏知识而为不想要的、多余的或不必要的服务付出太多。此外，除了跟踪 SLA 合规性和其他日常任务之外，有人关注技术变得比以往任何时候都更重要——什么是可用的，什么是易受攻击的，以及如何覆盖新的漏洞。一个优秀的提供商也会这样做，但是尽职调查也需要云管理者这样做。

云的另一个缺点是产品中存在漏洞。不，这不是安全问题，尽管这确实是一个大问题。最大的弱点，尤其是对于 IaaS 来说，是对网络连接的绝对依赖。无论是私有云、公共云还是某种混合云，所有云活动都严重依赖于与提供商的连接。给传统基础架构带来不便的网络中断会导致基于云的服务的运营严重中断。此外，这种对网络的依赖几乎总是包括一个隐藏的成本——更高的带宽使用率。因此，现在你需要在更高的带宽下获得更多的连接，这给云计算带来了真正的负面影响，尤其是对于设计不良的 IaaS 解决方案。(顺便说一句，许多分析师认为，由于在项目实施的研究和分析阶段越来越重视安全问题，基于云的产品往往更加安全。关于参考文献的详细讨论可以在[这里](http://www.infoq.com/articles/ieee-cloud-computing-vulnerabilities)找到。

最后是数据所有权的问题。例如，当您不想再使用云服务或提供商时，您的数据会发生什么情况。因为 IaaS 产品是您的环境的基础，或者至少是该基础的扩展，所以驻留在那里的任何东西都需要从提供商的产品中转移出来，然后您才能停止使用它。这种活动对于 IT 人员来说很常见，但是如果您不再有这样的员工了呢？谁负责搬迁，费用是多少？您是否必须雇用承包商，或者是否可以与提供商(新的或旧的)一起解决一些问题？那么简单的答案呢？你不能移动整个虚拟服务器吗？这是真正丑陋的状态，因为它与 IaaS 有关。事实证明，答案很可能是否定的。原因有很多，包括谁拥有哪些数据、虚拟机可用的各种许可服务以及虚拟机上运行的软件，甚至使用了什么虚拟化解决方案(如果有)。一个最基本的例子是，IaaS 提供商通常提供操作系统并拥有许可，但是您拥有服务器应用程序和任何相关的许可。如何转移这些数据呢？

另一个要考虑的更阴险的例子是，如果你不付款，或者延迟付款，会发生什么？您是否关闭了您的基础架构，或者您能否在一定时间内继续使用它？当虚拟机“关闭”时，其上的虚拟机和数据会被销毁吗？如果是，多久？我见过许多濒临倒闭的公司。有些人悬崖勒马，成为真正的成功故事。然而，当债权人来敲门，客户迟迟不付款时，如果你的基础设施被关闭，你还不如忘记恢复。

当然，对许多这类情况的简单回答是谈判良好的合同，涵盖尽可能多的可能的情况。做好你的功课，确保你的数据随时随地可用。每年为您将要使用的保证最低服务级别预付费用，作为客户可能会有额外的优势，并确保长期的完全可用性。其他选择可能也有意义。不要忘记在谈判过程中让供应商互相竞争，至少在可能的范围内。如果您使用这种策略，供应商通常在非货币方面更灵活，因此利用这一点，并使用谈判表来获得他们声明价格所需的灵活性，而不是试图降低所提供服务的价格。毕竟，这只是同一项服务的两个不同方面——你仍然可以物有所值。你还看到了哪些需要警惕的方面？把它们贴在这里，让所有人都记下来…

## 分享这篇文章