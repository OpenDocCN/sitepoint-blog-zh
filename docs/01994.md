# 免费的——开源您的 JavaScript 代码

> 原文:[https://www.sitepoint.com/open-sourcing-javascript-code/](https://www.sitepoint.com/open-sourcing-javascript-code/)

![Open Source Week](../Images/31a22f613e5e7d0c22f753b2e51b5549.png)

SitePoint 的开源周到了！整整一周我们都在发布关于开源、自由软件和社区的文章，所以请继续查看 ***[OSW 标签](https://www.sitepoint.com/blog/)*** 获取最新更新。

![3 people walking the same dog](../Images/e601dfe065ded4adc7f307bfab420187.png)

本文由客座作者克里斯蒂安·海尔曼和丽塔·张撰写。SitePoint 客座博文旨在为您带来 JavaScript 社区杰出作家和演讲者的精彩内容。

开源不仅仅是向公众提供一些东西。这不仅是关于你的代码，也是关于许可，理解参与和养猫，也就是处理社区问题。在本文中，我们将简要介绍开源代码的好处以及要避免的陷阱。

开源可能是我们市场上发生的最令人兴奋的事情，也是网络爆炸式增长的原因。我们的大多数服务器都是开源技术，很多浏览器代码都是开源的，甚至我们的编辑器也是用 JavaScript 编写的。我们的职责是尊重开源和发布质量，而不是把代码扔在墙上，希望奇迹发生。

## 开源是免费的——就像小狗一样

接下来是理想和建议。你可能没有时间或愿望去完成它。那很好。不好的是试图在一个开放的世界中游戏，并对它持教条主义态度。开源已经迅速成为我们世界的一大部分，人们会犯错误。让我们像我们发布的代码一样开放。让我们像处理 bug 一样处理错误:合作让它们消失。

得到一只免费的小狗很棒，但它也伴随着责任。你需要喂养它，带它出去散步，梳理它的毛发，和它玩耍——即使你很忙。你对待小狗的方式决定了它会成为什么样的狗。它有多信任人类，有多容易被玩弄，对人类有多保护和帮助。这同样适用于发布和消费开源代码。有一点小小的不同:小狗非常宽容。开源社区就不是这样了。需要注意的紧张气氛很多。我们将在这里讨论其中一些，但是首先让我们指出 JavaScript 和开源的一个重要问题。

## Javascript 一直都是可用的——但那不是开放的

有些东西可用并不意味着它是免费或开放的。如果我忘了锁自行车，就不邀请你骑了。如果我在上面放一个标志，写着“社区自行车，请随意骑，但请保持清洁并修理好它”，我们就越来越接近软件方面的开放和免费了。软件的伟大之处在于它可以被复制而不损失质量。JavaScript 在网络上的伟大之处在于任何人都可以看到它。许多杰出的 JavaScript 专家通过查看其他人的代码来学习他们的技术。但这并不意味着你可以复制粘贴它，并把它称为你的——除非它的许可明确允许你这样做。我花了太多时间与客户交谈，他们问我如何保护 JavaScript 不被其他人看到。这就像要不湿的水一样。JavaScript 是发布开源代码的绝佳候选语言。您已经可见；你也可以使重复使用合法化。

## 开源代码的好处

现在，当你可以独自拥有自己的代码而成为百万富翁的时候，你为什么还要与世界分享你的代码呢？嗯，有不少好处:

*   其他人也有好主意。通过允许人们贡献，我的许多代码都得到了极大的改进。他们提出了我没有想到的解决方案。他们帮助我编写更简洁、更容易理解的代码。他们发现了我没有考虑到的问题。我不需要为此付出任何代价！
*   这是对你的代码的试金石。人们的环境与我不同，他们可以帮我测试我的代码，通知我问题，或者更好的是帮我解决问题。在众目睽睽之下隐藏草率的代码是不可能的。知道我让我的代码可用让我更担心代码质量，从而成为一个更好的开发人员。
*   你成为更大事物的一部分。你的代码被用在其他项目中是一件非常令人兴奋(有时甚至令人害怕)的事情。授权他人建造他们自己无法建造的东西是一种很棒的感觉。看到你的作品被你认为比你强得多的人使用也是一样。
*   无论如何，你的工作会继续下去。如果你不能或不愿意继续维护你的代码，你想继续前进，开源意味着你很幸运。你和社区一起分担责任，他们从你最初的工作中受益。
*   你会找到志同道合的人一起合作。开源代码的一个巨大好处是，你可以找到愿意和你一起做你感兴趣的事情的人。这对于寻找新工作，雇佣合适的人，或者当你想接触到他们的时候进入另一家公司是非常重要的。作为一家大公司，开源代码意味着你可以从贡献社区中挑选新员工。这些人已经了解你的产品，并对你的产品感到兴奋。这减少了几个月的登机时间，因此意味着节省了大量资金。
*   你学习交易的工具。如今，发布一个 JavaScript 项目已经变得比提供一个脚本的 zip 文件复杂得多。对于不同的编辑器、包管理器和自动测试脚本的方法，有各种各样的预置文件。如果你不想自己去做，你可以让贡献者来帮你。当你可以分担责任时，没有必要去探究你不喜欢的解决方案的本质。

正如您已经看到的，许多这些好处与编写代码无关。它们来自于以尊重和专业的方式与他人打交道。

## 开源代码时要做的准备

虽然这听起来很棒，但是开源也有一些小问题需要考虑。你让你的作品和你自己对公众开放。这意味着你需要准备一些开始可能很难处理的事情。

*   强烈的意见表达得不好。当你开源你的产品时，你得到的很多最初的反馈——说得委婉一点——可能是苛刻和过于简略的。有许多人对“事情应该如何做，或者它不是合适的开源”有非常明确和有限的看法，并从尽可能指出这些观点中得到乐趣。不要因此而沮丧。看看这些人，如果你只是许多得到同样残酷回应的人之一，你知道这里有不同的议程。
*   每个人都有自己的看法。任何开源项目都不缺少评论、问题跟踪或拉式请求，告诉你应该以不同的方式做一些事情。这里的艺术不是向所有人屈服。这有时实际上是不可能的。诀窍是把它扔出去投票，只有当足够多的人同意或不同意时才应用它们。不要追求一成不变的变化——这将是你无法摆脱的时间陷阱。
*   这不再是你的事了。放下工作，看着它朝着与你计划不同的方向发展，是很难的。是的，方向——复数。这就是分叉的作用。为了项目的利益，你可能不得不向大众的智慧妥协。如果改变项目的某些部分的工作或维护方式会产生很多好的贡献者，那么这是值得的。记住，通过开源一些东西，你可以让它经得起未来的考验。如果你不再参与这个项目，其他人需要接手。这可能意味着你需要接受与你最初的方法不同的项目工作方式。
*   你会写得更少，写得更多。一旦你的项目开始，你将会花更多的时间来回答问题和评论，而不是编码。您的责任开始从编写优秀的代码转移到审查贡献，确保添加的内容不包括安全或维护问题。您不再与解析器和 VM 争斗，而是开始处理人类议程来交换代码。
*   你不会什么都做。在没有你的监督或控制的情况下，尽可能早地委派和信任一些人来完成部分项目。这在开始时很难，但可以让你在以后做更多的事情。如果你作为一个团队开始这个项目，就要定义好角色并坚持下去。
*   这不是嫉妒的地方。经常发生的一件事是，你的产品将被用于其他人的产品，他们会取得巨大成功。甚至有可能发生这样的情况，你不同意的方向上所做的事情会成为一个更大的成功。在最坏的情况下，有人会用基于你的作品的商业产品赚很多钱。或者创造出会被另一家公司花大价钱收购的东西。不要因此而气馁。这里面有很大的随机性，这不是你的错误造成的。保持联系，为他人的成功而高兴，好事会回到你身边。

## 许可事项

关于最后一点，开源你的产品有一个非常重要的部分。这是最困难、讨论最激烈和最令人困惑的部分:许可你的代码。

作为一名开发人员，我们大多数人认为法律、许可和协议是我们希望尽可能远离的东西。然而，许可您的开源代码在许多方面都很重要:

*   你要保护好自己。明确的许可不仅确保人们不能以你不希望的方式使用你的代码。这也意味着基于你的软件的安全漏洞不会让你进监狱，因为这清楚地包含在许可证中。
*   你定义重用的级别。根据许可证，您可以定义人们是否可以基于您的作品开发商业产品。您定义人们是否需要将您列为他们项目的贡献者。你确保你的代码的一些使用是非法的，而其他的是完全没问题的。
*   **你给个明确的消息谁能贡献。**开源的核心贡献者不会在有特定许可的项目上工作。开源项目的商业用户不能使用代码，除非有许可证允许他们这样做。通过选择正确的许可，您可以限制或扩展谁可以参与您的项目。它也保护你免受其他人在没有得到一份的情况下通过你的工作致富。

幸运的是，选择正确的许可证的困境一直是开源社区的讨论话题。有很多很好的资源可以利用，比如 http://choosealicense.com、https://tldrlegal.com 或 https://tldrlicense.com。请务必明智地选择，因为以后更改许可证是困难的，有时甚至是不可能的。

## 成为一个伟大的开源出版商

如果这些听起来令人畏惧，不要绝望。这并不像听起来那么难，我只是想让你为即将到来的事情做好准备。我想确保开源并不意味着让它变得可用。不是你给了世界一份礼物。这是你与世界分享你的工作，并在这个过程中开放地改变它。

通过这种方式，我想确保为了成为优秀的开源发布者，你可以在你的初始版本中添加一些额外的工作，以确保人们可以帮助你，并且你不会遇到一些非常明显的错误，导致最初的反馈令人沮丧。很多是关于在问题出现之前回答问题。所以现在开始:

## 贡献规划

有了 GitHub，我们现在有了一个发布开源软件的不可思议的工具。我们不仅得到了 Git，一个在不覆盖彼此工作的情况下安全贡献代码的工具。我们还得到一个问题跟踪器，一个解释和编写文档的 Wiki，以及 GitHub 页面，在源代码所在的地方显示代码的可执行版本。

为了让人们尽可能容易地做出贡献，有必要做一些事情:

*   很棒的自述。这是人们首先看的。尽早解释项目的目的和对象。指出此处列出的所有其他部分，并确保使用最新信息保持更新。
*   关于如何运行它的信息。大多数开发人员不会为他们自己不能运行的项目做贡献。确保您自己定义了如何尝试该项目，列出了所有的依赖项和必要的环境设置。
*   有一个明智的变更日志。它展示了你如何解决问题、添加功能和项目的整体节奏。
*   **代码指南。**简要描述您是如何编码产品的，您的设置和环境是什么，以确保所贡献的代码符合这一点。这可能会引发一些讨论，但它确保最终产品更容易维护。
*   **测试。有办法自动测试你的代码，并在提交之前运行一系列测试。这确保了贡献者在提交破坏整个项目的代码之前有一个额外的步骤要做。**
*   **反馈渠道。**在正常的发展流程之外，给别人一个接触你的机会。这让他们有机会报告他人的不良行为，向你询问商业协议，或者只是说声“谢谢”，而不会增加已经繁忙的沟通渠道的噪音。
*   **投稿指南。**解释如何撰写最有可能让社区(最初只有您)尽可能轻松、快速地处理的拉动式请求或问题。没有什么比一个问题没有答案或者有很多“我们需要更多信息”更糟糕的了。未回答的问题越少，你的项目就越有吸引力。
*   初学者的 bugs 特性。如果你有办法将简单的问题标记为“初学者错误”，那就这么做吧。对于新加入项目的人来说，这是一个很好的方式，可以在解决一个小问题的同时了解它。通过消除一个障碍进入一个团体的感觉很好——无论多么微不足道。不仅仅是试图找到一个立足点，被其他人的伟大所淹没。
*   考虑贡献者的行为准则。这可能听起来有些夸张，但是定义你期望和不期望人们彼此说什么是获得一个健康和有创造力的社区的良好开端。它还允许管理员阻止人们贡献，没有任何戏剧，因为有一个明确的指导方针。

并非所有这些都是绝对必要的，有时甚至是多余的。尽管它们对你的项目的扩展和成长有很大的帮助。如果你想看到一个包含所有这些东西的优秀范例库，请在 GitHub 上查看微软的 Visual Studio 代码。如果你正在考虑一个行为准则， [TODO 小组提供了一个模板](http://todogroup.org/opencodeofconduct/)。

## 商业用途的缩放

很高兴看到你的产品被用在商业产品中。如果像谷歌、脸书或微软这样的公司使用你的脚本，那将是一个巨大的进步。然而，这也意味着你需要确保某些事情已经就绪，否则这是不可能发生的。这些通常都是很好的东西，但是除非你提供它们，否则它们会成为商业用户的绊脚石。

*   确保你的产品支持国际化。有一个翻译字符串的方法，确保布局可以从左到右，从右到左。允许支持非 ASCII 输入。
*   确保您的产品可通过各种输入设备访问。可访问性是大公司的法律要求，它将接受审计。
*   确保你的产品不局限于一种环境。有时大玩家会喜欢使用你的产品，但不能像你为你的电脑开发的那样，而不是为整个世界。
*   确保你的产品拥有允许商业使用的许可证。这应该是显而易见的，但由于初始许可过于严格，许多产品无法重用。

如果你想了解更多这方面的内容，Enterprise JS 的 Chris Dias 有一个关于微软如何在开源项目上构建 Visual Studio 代码以及由此引发的问题的[精彩演讲。](https://vimeo.com/157660470)

## 开源就是交流

所有这些都过去了，我希望你仍然愿意把你的作品作为开源来发布。它不仅对你的代码有好处；作为我们市场的一名贡献者，你的成长也是一件好事。

发布开源意味着你被了解并承担更多的责任。拥有一个成功的开源项目是获得承担更多责任的好工作的敲门砖。你表现出你在乎，你想做得更多。围绕你的项目组织一个社区，处理反馈和贡献，对于首席开发人员、团队领导或部门主管来说是一个很好的锻炼。你推动自己成为一个更像人类的开发人员，而不仅仅是一个代码开发人员。当我雇用从事开源工作的开发人员时，我会观察他们如何与他人互动。比起那些创造了最惊人贡献的人，我更喜欢雇佣那些与他人合作愉快的人。可扩展的团队需要人们相互合作。这是提高技能的好方法。

但是你呢？你已经在为开源做贡献了吗？如果没有，是什么阻止了你？请在下面的评论中告诉我。

## 分享这篇文章