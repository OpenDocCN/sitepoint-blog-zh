# 你的第一个 PHP 代码

> 原文:[https://www.sitepoint.com/first-php-code/](https://www.sitepoint.com/first-php-code/)

以下是我们新书的一小段摘录， [PHP & MySQL:忍者新手，第六版](https://www.sitepoint.com/premium/books/php-mysql-novice-to-ninja-6th-edition)，作者是汤姆·巴特勒和凯文·杨克。这是 PHP 初学者的终极指南。SitePoint Premium 会员可以通过他们的会员身份访问，或者您可以在世界各地的商店购买一份。

既然您已经启动并运行了虚拟服务器，那么是时候编写您的第一个 PHP 脚本了。PHP 是一种服务器端语言。这个概念可能有点难以理解，尤其是如果你只设计过使用客户端语言如 HTML、CSS 和 JavaScript 的网站。

服务器端语言类似于 JavaScript，它允许你将小程序(脚本)嵌入到网页的 HTML 代码中。当执行时，这些程序可以让你比 HTML 更好地控制浏览器窗口中显示的内容。JavaScript 和 PHP 的关键区别在于加载网页的阶段，在这个阶段执行这些嵌入式程序。

从 web 服务器下载网页(嵌入式程序和所有程序)后，web 浏览器会读取并执行像 JavaScript 这样的客户端语言。相比之下，像 PHP 这样的服务器端语言是由 web *服务器*在将网页发送到浏览器之前运行的。客户端语言允许您控制页面在浏览器中显示后的行为，而服务器端语言允许您在页面发送到浏览器之前动态生成定制页面。

一旦 web 服务器执行了嵌入在 web 页面中的 PHP 代码，结果将代替页面中的 PHP 代码。浏览器在接收页面时看到的都是标准的 HTML 代码，因此得名“服务器端语言”让我们看一个简单的例子，一些 PHP 生成一个 1 到 10 之间的随机数，然后显示在屏幕上:

```
 <!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Random Number</title>
    </head>
    <body>
        <p>Generating a random number between 1 and 10:
            <?php

            echo rand(1, 10);

            ?>
        </p>
    </body>
</html> 
```

大部分都是普通的 HTML。只有`<?php`和`?>`之间的线是 PHP 代码。`<?php`标志着一个嵌入式 PHP 脚本的开始，`?>`标志着它的结束。web 服务器被要求解释这两个分隔符之间的所有内容，并在将网页发送到请求浏览器之前将其转换为常规的 HTML 代码。如果您在浏览器中右键单击并选择**查看源**(文本可能因您使用的浏览器而异)，您可以看到浏览器显示以下内容:

```
 <!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Random Number</title>
    </head>
    <body>
        <p>Generating a random number between 1 and 10:
            5
        </p>
    </body>
</html> 
```

注意，PHP 代码的所有符号都消失了。在它的位置出现了脚本的输出，看起来就像标准的 HTML。这个例子展示了服务器端脚本的几个优点…

*   **没有浏览器兼容性问题**。PHP 脚本由 web 服务器单独解释，因此不需要担心访问者的浏览器是否支持您使用的语言特性。
*   **访问服务器端资源**。在上面的例子中，我们将一个由 web 服务器生成的随机数放入网页中。如果我们使用 JavaScript 插入数字，这个数字将在浏览器中生成，有人可能会修改代码来插入特定的数字。当然，还有更多利用服务器端资源的令人印象深刻的例子，比如插入从 MySQL 数据库中提取的内容。
*   **客户端负载减少**。JavaScript 会显著延迟网页的显示(尤其是在移动设备上！)因为浏览器必须在显示网页之前运行脚本。有了服务器端代码，这个负担就转移到了 web 服务器上，您可以根据应用程序的需要(并且您的钱包可以承受)来构建 web 服务器。
*   **选择**。当编写在浏览器中运行的代码时，浏览器必须理解如何运行提供给它的代码。所有现代浏览器都理解 HTML、CSS 和 JavaScript。要编写一些在浏览器中运行的代码，您必须使用这些语言中的一种。通过在生成 HTML 的服务器上运行代码，您可以选择多种语言，其中之一就是 PHP。

## 基本语法和语句

任何了解 JavaScript、C、C++、C#、Objective-C、Java、Perl 或任何其他 C 派生语言的人都会非常熟悉 PHP 语法。但是如果这些语言对你来说不熟悉，或者你是编程新手，就没有必要担心。

一个 PHP 脚本由一系列的**命令**或语句组成。每条语句都是一条指令，web 服务器必须遵循这条指令才能执行下一条指令。PHP 语句，像前面提到的语言一样，总是以分号(`;`)结束。

这是一个典型的 PHP 语句:

```
echo 'This is a <strong>test</strong>!'; 
```

这是一个`echo`语句，用来生成内容(通常是 HTML 代码)发送给浏览器。一个`echo`语句简单地获取给定的文本，并将其插入到页面的 HTML 代码中包含它的 PHP 脚本的位置。

在本例中，我们提供了一个要输出的文本字符串:`This is a <strong>test</strong>!`。注意，文本字符串包含 HTML 标签(`<strong>`和`</strong>`)，这是完全可以接受的。

因此，如果我们将这条语句放到一个完整的网页中，结果代码如下:

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Test page</title>
    </head>
    <body>
        <p><?php echo 'This is a <strong>test</strong>!'; ?></p>
    </body>
</html> 
```

如果您将此文件放在 web 服务器上，然后使用 web 浏览器请求它，您的浏览器将收到以下 HTML 代码:

```
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Test page</title>
    </head>
    <body>
        <p>This is a <strong>test</strong>!</p>
    </body>
</html> 
```

我们之前看到的`random.php`示例包含一个稍微复杂一点的`echo`语句:

```
 echo rand(1, 10); 
```

您会注意到，在第一个例子中，PHP 得到了一些可以直接打印的文本，而在第二个例子中，PHP 得到了一个需要遵循的指令。PHP 试图将引号之外的任何内容作为必须遵循的指令来读取。引号内的任何内容都被视为一个**字符串**，这意味着 PHP 根本不处理它，只是将它传递给你调用的命令。因此，下面的代码将把字符串`This is a <strong>test</strong>!`直接传递给`echo`命令:

```
 echo 'This is a <strong>test</strong>!'; 
```

一个字符串用一个开始引号和一个结束引号来表示。PHP 会将第一个`'`视为字符串的开头，并找到下一个`'`并将其作为字符串的结尾。

相反，下面的代码将首先运行内置函数`rand`来生成一个随机数，然后将结果传递给 echo 命令:

```
 echo rand(1, 10); 
```

您可以将内置函数想象成 PHP 知道如何完成的任务，而无需您详细说明。PHP 有许多内置函数，可以让您做任何事情，从发送电子邮件到处理存储在各种类型的数据库中的信息。

PHP 不会试图运行字符串中的任何东西。以下代码不会产生您可能期望的结果:

```
 echo 'rand(1, 10)'; 
```

PHP 不是运行内置函数`rand`，而是将它视为一个字符串，不是打印出一个随机数，而是将文本`rand(1, 10)`发送到浏览器，这可能不是您想要做的。理解字符串和*代码*之间的区别很重要。PHP 会将引号外的任何文本视为它应该遵循的一系列命令。引号内的任何内容都是字符串，是 PHP 将处理的*数据*。

PHP 并不试图理解字符串。它们可以包含任何顺序的任何字符。但是代码——本质上是一系列指令——必须遵循一个严格的结构，计算机才能理解它。

当你**在 PHP 中调用**一个函数——也就是让它做它的工作——你被说成是**在调用**那个函数。大多数函数在被调用时都会返回值；然后 PHP 的行为就好像您实际上只是在代码中输入了返回值。在`echo 'rand(1, 10)';`示例中，我们的`echo`语句包含对`rand`函数的调用，该函数以文本字符串的形式返回一个随机数。然后，`echo`语句输出函数调用返回的值。

PHP 中的每个函数都可以有一个或多个**参数**，这允许你让函数以稍微不同的方式运行。`rand`函数有两个参数:最小随机数和最大值。通过改变传递给函数的值，您能够改变它的工作方式。例如，如果您想要一个介于 1 和 50 之间的随机数，您可以使用代码:

```
 echo rand(1, 50); 
```

您可能想知道为什么我们需要用括号(`(1, 50)`)将参数括起来。括号有两个用途。首先，它们表明`rand`是一个你想要调用的函数。其次，它们标记了参数列表的开始和结束——您希望提供的 PHP 语句——以便告诉函数您希望它做什么。对于`rand`函数，您需要提供一个最小值和一个最大值。这些值用逗号分隔。

稍后，我们会看看接受不同类型参数的函数。我们还会考虑不带任何参数的函数。这些函数仍然需要括号，即使它们之间没有任何内容需要键入。

## 分享这篇文章