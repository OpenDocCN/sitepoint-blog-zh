# 去神秘化的 Web 服务

> 原文:[https://www.sitepoint.com/web-services-demystified/](https://www.sitepoint.com/web-services-demystified/)

Web 服务:它们是最新的时髦词汇。如果你相信你在光鲜的商业报刊上读到的，更不用说微软的 2 亿美元了。网络广告活动、网络服务有(排名不分先后):

*   你的新好朋友
*   你企业的救星
*   你生意的厄运
*   下一代万维网

不过，这些都没有真正告诉你它们是如何工作的，或者它们为你做了什么。更糟糕的是，Web 服务有太多时髦的首字母缩写词，乍一看也没什么意思:

*   SOAP:简单对象访问协议
*   **WSDL** : Web 服务描述语言
*   UDDI:通用描述、发现和整合
*   XML:可扩展标记语言

…而这些只是最重要的几个！

Web 服务技术很像绿野仙踪。每个人都会告诉你这很重要，很棒，但是没人能告诉你到底为什么。在这篇文章中，我将拉开窗帘，向你展示拉动杠杆的人。如果你真的对 Web 服务感兴趣的话，这将使你能够决定 Web 服务如何融入你作为 Web 开发人员的未来。

##### 实际上，什么是 Web 服务？

好吧，让我从一个简单的答案开始:Web 服务是应用程序功能的网络接口，基于标准的互联网技术(见图 1)。

![A Web service lets you access application functionality over the Internet](../Images/41295eb55a8eff513dbc8fdf0b096f78.png)**Fig. 1: A Web service lets you access application functionality over the Internet**

假设您计算机上的一个程序(图 1 中的客户端程序)需要拼写检查功能。然而，它可能会利用 Web 服务来完成拼写检查，而不是自己进行拼写检查。每当需要进行拼写检查时，程序会向 Web 服务发送一个请求。Web 服务将进行拼写检查，并以结果作为响应。从编程的角度来看，Web 服务可以被认为是可以通过互联网调用的功能。

Web 服务的巧妙之处在于，它们基于标准协议，确保任何客户端程序都可以访问任何 Web 服务，不管它们是用什么语言编写的，也不管它们运行在什么平台上。因此，Java 程序可以访问和使用用 VB.NET 编写并部署在 Windows 服务器上的 Web 服务，就像 Windows 程序可以轻松使用用 Java 编写并运行在 Linux Web 服务器上的 Web 服务一样。

由于这种灵活性，几家公司可以生产相互竞争的拼写检查 Web 服务，您可以注册其中的任何一个来供您的程序使用。只要它们都支持相同的接口，程序可以互换使用它们中的任何一个。也许不同的服务会检查不同的语言！

尽管拼写检查 Web 服务的繁荣市场不会在一夜之间爆发，但 Web 服务有望迅速普及的一些领域包括股票报价、货币汇率和库存搜索。但是不要让那些期望限制了你的想象力！

##### 它们是如何工作的？

Web 服务技术是围绕着五种技术发展起来的:网络、传输、打包、描述和发现。这些技术中的每一项都建立在之前技术的基础之上(例如，没有网络的支持，就没有交通运输)。

![The Web services technology stack](../Images/0c9e45634d66d44ecb99fe92bf9d1923.png)**Fig. 2: The Web services technology stack**

图 2 左侧显示了这一系列技术，右侧显示了每一层最常见的选择。请允许我自上而下地解释这些层中的每一层，以帮助您理解它们如何一起使前面部分中描述的 Web 服务成为可能:

*   **发现**:一个程序要使用一个 Web 服务，它必须首先能够找到它。一个链接的服务器网络提供了一个 Web 服务的全球目录，[通用描述、发现和集成(UDDI)项目](http://www.uddi.org)是当前 Web 服务发现的标准方法。
*   **描述**:在你可以创建一个 Web 服务的目录之前，必须有一个描述单个服务的方法。 [Web 服务描述语言](https://www.w3.org/TR/wsdl) (WSDL)是一种基于 XML 的语言，它描述了 Web 服务能够实现的各种功能(它的公共接口)。一旦有了 Web 服务的 WSDL 描述，程序就有了使用它所需的一切。
*   **打包**:由于 Web 服务必须允许在任何操作系统上用任何语言编写的任何程序进行访问，因此请求(如“对本文档进行拼写检查”)和响应(如“第三个单词拼写错误”)必须具有独立于平台的标准格式。[简单对象访问协议](https://www.w3.org/TR/soap12/) (SOAP)是一种基于 XML 的语言，可以让你将函数调用和文档打包成 Web 服务请求。
*   **传输**:一旦一个请求被打包(例如，作为一个 SOAP 消息)，你需要一种方法把它发送到 Web 服务。反过来，Web 服务需要一种方法将其响应发送给您。Web 服务技术足够灵活，几乎可以使用任何协议——微软正在通过即时消息引入许多服务，甚至电子邮件也可以被认为是一种传输机制——但是[超文本传输协议](ftp://ftp.isi.edu/in-notes/rfc2616.txt)(HTTP ), Web 浏览器用来请求和接收网页的协议，是目前最常用的。
*   网络:最后，为了在计算机之间发送和接收请求和响应，某种网络必须是可用的。在绝大多数情况下，互联网就是那个网络——或者其他一些基于 TCP/IP(传输控制协议/互联网协议)的内部网络。

记住这个结构，让我们考虑一下拼写检查 Web 服务是如何工作的。为了简单起见，我们假设客户端程序已经找到了一个特定的 Web 服务来执行拼写检查。

![A program using a Web service to perform a spell check](../Images/75c6a1683f6da1400293820d8f61ec4f.png)**Fig. 3: A program using a Web service to perform a spell check**

步骤(如图 3 所示)如下:

1.  客户端程序将要进行拼写检查的文档打包成一个 SOAP 消息。
2.  这个 SOAP 消息通过作为 HTTP POST 请求的主体发送给 Web 服务。
3.  Web 服务将 SOAP 请求解包，并将其转换成应用程序可以理解的命令。应用程序检查文档的拼写，生成文档中的错误列表。
4.  接下来，Web 服务将该响应打包成另一个 SOAP 消息，并将其发送回客户端程序以响应其 HTTP 请求。
5.  客户端程序解包 SOAP 消息以获得拼写检查的结果。

这在理论上听起来很好，但是实际操作起来有多难呢？

##### 我需要学习什么？

在学习 Web 服务的这个阶段，我在思考类似于“UDDI、WSDL 和 SOAP…要做一些理论上听起来如此简单和优雅的事情，确实需要学习很多东西！”所以如果你也有同样的不知所措，我不会责怪你。

Web 服务的好处是它们得到了编程工具和 Web 服务器等制造商的大力支持。例如，Apache Software Foundation (ASF)已经创建了一个名为 [Apache SOAP](http://xml.apache.org/soap/) 的产品，它允许您将标准 Java 程序部署为 Web 服务。同样，微软的 Visual Studio。NET 提供了许多工具来轻松部署和编写利用 Web 服务的程序。

Apache SOAP 处理将 SOAP 请求转换成 Java 方法调用以及将这些方法调用的结果转换成 SOAP 响应的所有细节。它甚至为您的 Web 服务创建 WSDL 描述，并帮助您将它们部署在任何支持 Servlet 的 Web 服务器上，比如 Tomcat。Apache SOAP 还通过处理将 Java 方法调用转换成 SOAP 请求并通过 HTTP 将它们发送到 Web 服务器的所有细节，使编写利用 Web 服务的 Java 程序变得容易。ASF 现在正致力于一个名为 [AXIS](http://xml.apache.org/axis/) 的后续项目，这使得开发、部署和使用 Web 服务变得更加容易。

微软 [Visual Studio。NET](http://msdn.microsoft.com/vstudio/) 提供了 Apache 在 AXIS 中开发的相同类型的设施。Visual Studio。NET 使创建和使用 Web 服务变得非常容易，尽管它专门用于。NET 平台。但是，如果您已经使用了 Microsoft Internet 信息服务。NET 提供了开发 Web 服务的理想平台。

也存在用于其他编程语言的其他 Web 服务工具包。例如， [SOAP::Lite](http://www.soaplite.com/) 模块让您可以轻松地用 Perl 创建 Web 服务。

##### 摘要

在本文中，我带您参观了 Web 服务技术。希望我已经成功地消除了围绕这种新兴软件产品的宣传。同时，我已经为您提供了一些学习如何在您选择的平台上开发和使用 Web 服务的起点。

毫无疑问，Web 服务远没有你想象的那么性感和令人兴奋。正如本文所揭示的那样，Web 服务实际上是一套标准化程序间通过互联网进行通信的技术。微软把赌注压在 Web 服务上，使它们成为。NET 平台，并投资 2 亿美元来推广它。除非我大错特错，2 亿美元可以让任何事情听起来都很性感。

但是仅仅因为网络服务不性感并不意味着它们不重要，或者不令人兴奋！任何平台上用任何语言编写的任何程序都可以利用大量的 Web 服务，这无疑是一个令人兴奋的想法！如果开发社区接受 Web 服务作为一个概念(在这个阶段，它看起来还不错！)，软件开发的美丽新世界应该是一个值得一看的东西。

在以后的文章中，我将向您展示如何在您自己的软件项目中开发和使用 Web 服务。那是事情真正开始变得令人兴奋的时候！

## 分享这篇文章