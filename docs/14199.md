# 浮动的简单清除

> 原文：<https://www.sitepoint.com/simple-clearing-of-floats/>

我不想在 Simon 和 Stuart 的 CSS 技术领域走得太远，我认为这是值得注意的。

尽管它有很多优点，但有时真正困扰你的是那些让 CSS 布局变得困难的小事。清除浮动元素就是一个很好的例子。

问题是:

最简单也是最常见的布局结构之一是在包含剩余内容的较大包装 DIV 中放置一个固定宽度的小 DIV，可能是导航、引用或简介。在标记中，这可能类似于:

```
<div id="outer">
 <div id="inner"> <h2>A Column</h2> </div>
 <h1>Main Content</h1>
 <p>Lorem ipsum</p>
</div>
```

我们可以设置' #inner '的宽度(比如说' width:20% ')，但是，作为一个块级元素，主要内容将总是在下面换行，除非我们浮动它(无论是左还是右)。这里我们的经典问题开始了。

如果' #inner '比#outer 短，一切都好。

但是，如果“#inner”长得比它的包装父级高，它就会突破“#outer”的底部边缘。就好像' #outer '忘记了它应该在你一浮动它时就监视' #inner '在做什么。

由于我们不能总是控制这些 div 中的内容数量，这无疑会带来一个问题。这里有一个[问题在](https://www.sitepoint.com/examples/clearing_floats/example1.php)中的典型例子。(感谢 Pixy 简洁的内容生成脚本)。

解决方案:

a)标记方法:W3C 推荐的第一种方法有点难看——额外的标记。在内容的最后，加入一个被清除的元素——通常类似于`<br style="clear:both"/>`。这相当于在你的窗框中塞入火柴棒来堵住窗户。这是可行的，但是“弄脏了你的页面”。

b)阿斯莱特/派方法:不到 12 个月前，托尼·阿斯莱特和 PositionIsEverything.com 一起想出了一个新方法[这个方法](http://www.positioniseverything.net/easyclearing.html)聪明得可怕，以至于他们不得不坐在一个假的火山岛上，抚摸着一只白色的大猫，当他们想到这个方法的时候，就会发出恶魔般的笑声。

你需要阅读教程来获得完整的故事，但是，简而言之，他们使用一个鲜为人知，很少使用的伪类(:after)在内容后面放置一个隐藏的，清除的句号。结合一些小技巧，这工作起来很漂亮——但是当我想到它的时候，我的左眼会感到头疼。

c)有序列表法:去年 10 月，Orderlist.com 的史蒂夫·史密斯发表了一个稍微简单一点的方法。再次，阅读他的教程以了解真相，但简而言之，他的方法涉及“浮动几乎一切”(FnE)，这自然足够包括外部 DIV。这可能会对你的设计堆叠方式产生相当大的影响，正如史蒂夫所说的“这需要更多的调整”，但总的来说，这种方法对我来说似乎更稳健一些。

d)这是我“目前的状态”,直到上周 SitePoint 论坛自己的 CSS 大师保罗·奥布莱恩(Paul O'Brien)漫不经心地指出，在外部 DIV 中添加一个“溢出:自动(overflow:auto)”达到了目的。

“垃圾”,我心想。

半个小时的测试后，我惊讶地发现 Paul 是 100%正确的—[,如本例所示](https://www.sitepoint.com/examples/clearing_floats/example2.php)。似乎提醒外部 DIV 它的溢出被设置为“auto ”,迫使它认为“哦耶..我在包那个东西，不是吗？”。

这个事实简单得令人厌烦，以至于很难知道成千上万的开发人员是否清楚地意识到了这一点，但却从未想过提及它。我知道我向四个精通 CSS 的 SitePoint 同事展示了示例页面，他们都震惊地摇摇头，慢慢地眨着眼睛说“哇…？”(或者类似的东西)。

从我的测试来看，它似乎在几乎所有的浏览器中都是一样的。甚至 IE4 似乎也喜欢它——只有 NS4 害怕，我不完全相信一些黑客不能让它工作。

我们还没有时间在严格的比赛条件下彻底测试这种方法，但迄今为止似乎没有任何重大缺陷。

边距和填充的某些组合可以强制内部滚动条。如果你不能“按摩”它们，我们发现“溢出:隐藏”在没有滚动条的情况下几乎有相同的效果。“隐藏”的唯一缺点似乎是，如果一些图像被放置在页面的较低位置，它们会被裁剪掉。

这两个问题似乎都很容易解决。

干得好，保罗。

## 分享这篇文章