# 后端即服务—第 1 部分

> 原文：<https://www.sitepoint.com/backend-as-a-service-part-1/>

# BaaS–简介

后端即服务，或者根据您的喜好，移动后端即服务，甚至服务器堆栈即服务是一种相对较新的云产品，它开始在许多领域获得发展势头，而不仅仅是移动领域。

为了简洁起见，我们称之为 BaaS，它已经在平台即服务(PaaS)和软件即服务(SaaS)之间找到了自己的位置。不出所料，它确实做到了它在 tin 上所说的——也就是说，它提供了一个近乎完整的服务器端堆栈，包括持久性、用户管理、数据检索和查询、文件存储以及其他一些只需轻轻一按开关就能完成的事情。

虽然这些 BaaS 产品的初衷是为了避免为移动开发者设置和维护服务器后端的摩擦和痛苦，但它们的使用已经变得越来越广泛。毕竟，如果您需要的只是一些数据存储和/或一些用户管理，为什么不呢？

# **BaaS 产品的特点**

云的这一领域仍处于起步阶段，并且每天都在发展。竞争相当激烈，各种公司都在寻找一种独特的方式来建立自己的产品，然而，你应该从这些提供商那里获得一些基本功能。

## 基本数据存储和检索

显然，这些服务中最重要的方面是存储和检索数据的方式。这在移动环境下尤其有用，在这种环境下，您可能不会局限于一台设备，或者在需要共享数据的社交或协作应用程序中。

现有的服务提供了某种程度上的无模式存储模型，添加新的对象属性(或者从关系数据库的角度来说——列)就是将它们添加到客户机代码中并推送新数据。当前的服务确实提供了一定程度的模式控制，但是这太简单了，对于约束发送给服务的数据不是特别有用。虽然这种灵活性最初有利于开发人员的生产力，但值得记住的是，随着应用程序复杂性的增加，您将需要严格控制您的模式。

正如您所料，数据类型具有很强的流动性。你的典型类型，如字符串，日期，布尔值，数字等。显然都是可用的，但您可能会看到的其他关键类型是 geo points——存储位置和二进制文件的能力——用于存储媒体。

## API 和 SDK

向您的服务器堆栈公开一个 ReSTful HTTP API 可能会有一些限制，通常有更好的方法来传输数据。因此，为了减轻客户端和服务器之间的通信负担，BaaS 服务通常会为您提供许多 SDK，每个 SDK 都特定于一个特定的客户端平台。这些 SDK 通常有三种风格——iOS、Android 和 JavaScript(适用于但不限于 Shell 应用程序，例如基于 PhoneGap/Cordova 的应用程序),并提供更清晰的抽象来与您的服务配合使用——用户身份验证、抽象模型和集合类、查询构建器等。

除了这些 SDK 之外，通常还有一个基本的 ReST API，允许其他平台或人们可能想到的任何定制解决方案与这些 BaaS 产品一起工作。然而，应该注意的是，ReST API 通常不像 SDK 那样功能完善

虽然今天的一些服务忠于它们的移动根基，官方只提供移动 SDK，但像 [StackMob](https://stackmob.com/) 这样的服务已经接受了扩展的用例，并制作了自己的官方 Ruby、Scala 和 Java SDKs。

 **## 数据查询

简单地获取单个对象和整个集合是一回事，但是经常需要对数据执行稍微复杂一些的查询。这些服务通常提供了对您的集合执行这些查询的方法。您还会发现，大多数服务都提供了某种分页功能，以降低对数据进行无限制查询的风险。

在移动领域中，还可以使用其他查询，即地理空间查询。例如，所有服务通常都提供查询，如“查找我在某个点附近的数据点”或“查找我在某个点的某个半径范围内的数据点”——因此您的“世界上最好的酒吧”应用程序可以轻松显示离用户当前位置最近的酒吧/酒馆/酒馆。

 **## 二进制存储器

移动设备配备了各种各样的数据捕捉工具——从用于拍摄图片和视频的摄像头到用于音频的麦克风。它不再仅仅是在一个小键盘上输入单词，因此今天的 BaaS 服务通常提供不同级别的二进制存储。例如， [Parse](https://parse.com/) 提供完全集成的文件上传，直接从他们的 SDK 上传，而 [StackMob](https://stackmob.com/) 只是提供一个通道来添加你自己的亚马逊 S3 配置，并通过他们的 ReST API 访问这些数据。根据您的解决方案需求，这可能是也可能不是问题。

 **## 数据安全

如果你在存储用户数据，不允许任何人访问它是至关重要的。 [Parse](https://parse.com/) 、 [Kinvey](http://www.kinvey.com/) 和 [StackMob](https://stackmob.com/) 都提供了各种方法来以您通常期望的方式锁定数据，例如根据登录状态授予特定所有者/用户、特定角色对数据的读/写访问权限。虽然每种服务都提供类似的功能，但在选择特定的提供商之前，可能会有一些特殊之处或细微差别需要根据您的要求进行验证。

 **## 证明

如果没有办法对用户进行身份验证，那么服务器堆栈有什么用呢？我打赌不会太多。令人欣慰的是，BaaS 产品通常让您能够管理用户并执行用户想要做的各种事情，如登录、注销、重置密码等。大多数服务都集成了 Twitter 和脸书认证模块

## 推送通知

最后，在移动世界中，通知用户数据变化或其他外部事件的一种重要方式通常是通过推送通知来实现的。几乎每个移动平台都提供推送通知，即使应用程序在后台运行，您也可以向用户设备发送数据。如果不使用 BaaS 服务，您要么必须为每个 OSs 特定的通知系统编写特定的集成代码，要么使用另一个第三方云服务，如 Urban Airship。借助 BaaS，完全有可能将所有这些整合到一个托管服务中——事实上，三大 BaaS 提供商之一的 Kinvey 实际上与 Urban Airship 集成在一起，以支持推送通知。

# 【BaaS 产品的考虑事项

显而易见，就像所有的事情都是阴云密布一样，在签字放弃你的生活之前，你需要考虑一些事情。

## 锁住

云技术的一个常见问题是锁定。你不希望承诺一项服务，结果却发现在定价、支持、数据主权等方面被人踩在了脚下。如果需要的话，您需要确保能够尽快将数据取出。如果您决定大量集成某些特定于平台的功能，您还需要确保特定于平台的代码不会过多地传播到您的代码库中，或者至少了解所涉及的风险。例如——[Parse](https://parse.com/)提供了一组(完全可选的)UI 小部件及其 SDK，允许您快速创建登录屏幕和[Parse](https://parse.com/)——数据绑定列表——如果您决定要转移到 [StackMob](https://stackmob.com/) 或 [Kinvey](http://www.kinvey.com/) ，您将需要考虑基本上重写这些元素所需的工作。

 **## 数据主权

您的数据存储在哪里？如果用户数据对您来说很重要，这是当然的，那么您会希望了解在特定地理位置存储数据的含义。例如，存储在美国的欧洲用户数据受某些美国法律的约束，否则如果存储在欧洲就不会受这些法律的约束。

如果用户对您当前的设置有异议，不知道您的数据存储在哪里或无法重新定位这些数据可能会让您陷入困境。这是一个大多数供应商似乎有点模糊的领域。

## 定价

当前的 BaaS 服务有不同的定价模式。与大多数云产品一样，它们通常提供绑定成本模型，并且都有一个相当慷慨的免费层。除了免费层，不同的服务提供不同的粒度级别。提前了解应用的典型用法至关重要。在某些情况下，任何两种服务之间的月成本可能相差 30 到 200 美元。

# **收盘点位**

BaaS 世界仍在寻找自己的立足点，而不是局限于简单的移动设备，它们已被用于许多其他解决方案，因此许多目前正作为流行的 PaaS 服务的附加服务提供，如 [Heroku](http://www.heroku.com/) 和 [AppHarbor](https://appharbor.com/) 。 [StackMob](https://stackmob.com/) 甚至利用其服务器特性，专门为 HTML5 应用提供了一个 PaaS 模型。这确实是一个令人兴奋的领域。

希望这篇文章能让你更好地理解移动后端即服务生态系统。在我的下一篇文章中，我想用批判的眼光审视一下这个领域目前的产品( [Parse](https://parse.com/) 、 [StackMob](https://stackmob.com/) 和 [Kinvey](http://www.kinvey.com/) )，并向您展示它们在特性和关注点方面的上升或下降。

## 分享这篇文章**********