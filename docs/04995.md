# 跨平台开发的新工具& Sencha ExtJS5

> 原文:[https://www . site point . com/new-tools-跨平台-开发-sencha-extjs5/](https://www.sitepoint.com/new-tools-cross-platform-development-sencha-extjs5/)

多年来，ExtJS 一直是 web 和混合应用程序的领先 JavaScript 开发 UI 框架。这个新版本清除了一系列遗留功能，并添加了许多现代增强功能。这些包括转向 HTML5，将企业应用程序带到更大的触摸设备上，以及向已经令人印象深刻的小部件集合添加更多的小部件。

毫无疑问，这是 Sencha 的一次大规模发布，几乎有太多的新特性和增强功能，无法融入一篇文章。我们将触及与版本 4 的主要区别，并在后面的文章中讨论一些大的变化。

这个最新版本是走向与 Sencha Touch 融合的一步，我预测这两者将在明年 4 月的 SenchaCon 上合并。

Sencha 使从 ExtJS4.x 升级到 ExtJS 5.x 的过程变得相当简单，内置的兼容层为开发人员提供了一个开发专用的 shim，在开发过程中提供控制台消息，提醒他们需要关注哪些方面以过渡到新的框架。

说到升级，实现图表是升级应用程序可能与就地升级相冲突的唯一主要领域，因为整个库都已被替换。但是，您可以通过将以前的遗留图表作为应用程序的一个包来应用它。您的`app.json`中的一个简单配置在开发过程中打开了这个兼容性层。

## 新核心共享库

ExtJS5 和 Sencha Touch 的下一个主要版本现在将共享相同的核心代码，包括数据包。这是一个经常被请求的特性，也是开发桌面和移动应用程序的开发人员所期望的。这也意味着您的桌面和移动项目将能够使用相同的 Sencha 工作空间，从而更容易为多个目标构建您的应用程序。

核心包包含类系统、数据、事件、元素、实用程序和功能/环境检测类。

图表库在基于触摸和鼠标的环境之间共享，包括并升级了 Sencha 触摸图表库，为您的可视化带来快速图表和交互。

## MVVM 和 MVC

ExtJS5 允许开发人员使用 MVVM 或 MVC 架构来构建他们的应用程序。这个新版本走向 MVVM，引入了`ViewModels`和`ViewControllers`。`ViewModels`带来数据绑定的所有好处，并且`ViewControllers`简化了视图的连接，通过集中在一个视图上可以降低控制器的复杂性。这些变化给带有开发团队的项目带来了许多优势，分离提供了更多的灵活性。

## 触摸设备和移动支持

Sencha 为平板电脑和大屏幕设备的新触摸支持做了大量工作。这是通过引入新的支持触摸的基本主题(Neptune Touch 和 Crisp Touch)来实现的，其中所有组件现在都支持触摸和手势。

ExtJS5 引入了响应式组件(现在您可以在同一个应用程序中选择响应式和自适应式设计)和全触摸事件支持。制作组件的内容非常简单，只需将响应插件添加到组件的插件配置中，然后将规则添加到 UI 组件中。

ExtJS 5 平板应用现在可以打包成 Sencha Cmd 的 PhoneGap/Cordova 应用。因此，只需一个命令，您就可以删除未使用的 Sencha 类，构建您的 SASS 主题，精简您的代码，并将您的应用程序包装在 PhoneGap 中(或推送至 PhoneGap build ),以备部署。

## 设计和主题化

Sencha 再次使用一组 SASS 主题来提供主题，并在 ExtJS5 中引入了一个新主题“Crisp”。Crisp 是为高分辨率设备设计的，正如你所想象的，它有着清晰的 iOS7 外观和感觉。

另外还为`Menu`、`Lableable`、`FieldSet`、`CheckboxGroup`以及`Text`、`Spinner`、`Display`、`Checkbox`等字段创建了 SASS mixins。

![](../Images/5a1be2e99bd3e7cb7bfeacac78c2eeb2.png)

## 现代和移动浏览器

ExtJS5 放弃了对 IE6 和 IE7 的支持，将这个库转移到了现代浏览器领域。这是一个巨大的变化，它带来了大量的代码和性能优势。ExtJS5 应用程序将使用 HTML5 Doctype。ExtJS 5.0 支持 IE8+，Firefox，Safari 6+，Chrome 和 Opera，以及对 Android，Safari mobile 和 Windows phone IE 的平板电脑支持。

## 小部件、新用户界面和组件升级

Sencha 的传奇网格现在允许您在网格单元中添加小部件以进行可视化，为实时数据显示带来了巨大的性能提升。网格已经进行了重大改革，现在逐行运行，提供了更多的性能更新。网格过滤扩展功能现在已经直接在 grid 类中实现了。

选项卡面板现在允许选项卡向任何方向旋转，并定位在组件的任何一侧。在`textfield`类中,`Trigger`字段已经被移除并替换为新的`Trigger`配置，因此您可以添加任意多的触发器。表单上的自动字段标签已在此版本中实现。

另一个大的更新是仪表板演示。这已经被分成三个新的类，允许您创建具有可调整大小的列、空列清理、通过拖放创建列和项目持久性的仪表板。

新组件包括允许分层数据的面包屑栏、标签字段、水平和垂直分段按钮以及新的“多选网格”组件，该组件带来了一种新的选择器。

## 阶级制度

像许多现代框架一样，Sencha 使用“类”的概念，允许开发人员将他们的代码分成多个文件进行开发。然后，可以通过 Sencha Cmd 构建工具将这些内容组合起来进行交付。

ExtJS5 结合了 ExtJS 和 Sencha Touch config 系统的优点，提供了一种更简单的配置组件和类的方式。派生类不再需要使用 config 对象来配置属性。私有方法的加入也增加了一个阻止其他开发人员重写类功能的好方法。

## 事件和手势支持

ExtJS5 的一个重大变化是转向委托事件模型，这意味着事件现在使用目标而不是直接附加到 DOM 组件上。那些从 4.x 升级应用程序的人要记住这一点。

事件系统中的新增强意味着您不必为移动和桌面编写不同的代码。在极少数情况下，您希望实现诸如`mouseover`、`mouseout`、`mousenter`和`mouseleave`之类的事件，您需要提供自己的或基于社区的实现。

![screens](../Images/a71d8906c1b50a1cb1e6924f6efeee95.png)

随着触摸事件的增强，还出现了对基于触摸和鼠标的系统的手势支持，这些系统可以跨设备和输入机制提供相同的体验。这带来了原生滚动和 Sencha 的动量滚动等功能，这些功能在还没有实现的设备上使用。

## 辅助功能增强

ExtJS4 通过一个包引入了 ARIA 支持。该功能现在是框架核心的一部分，包括键盘和其他增强功能。这是一个大大改进的实现，是任何政府或企业网站进入 2015 年的必备工具。

## 按指定路线发送

Sencha Touch 的路由器包已经被移植和改进，在现有的`History`类旁边增加了路由支持。这样可以更好地控制单条和多条路线的执行、暂停和延迟。

## 数据包增强功能

删除大量样板代码是这个新版本的重点之一。字段定义现在是可选的，模型验证器可以从通用类型配置，并作为自定义命名的验证器应用。

已经添加了数据会话和模式，并且可以进行可选的配置。数据会话与数据绑定一起工作，使您的数据在您的界面上保持同步，模式是相互关联的实体的集合。

困扰了很多人很久，在这个版本中，Sencha 增加了多对多的关联，不再需要在双方都定义一个关联来双向操作关系。

关联名称现在使用模式，以便在创建相关的关联存储时可以使用现有的模型。

添加了链式存储后，您现在可以使用已加载存储的绑定子集。这允许多个组件连接到单个存储，并显示相同数据的不同表示，而不需要由二级存储注入和管理数据的额外副本。

![Data Model](../Images/d55a380c5af044a353497ed78dfdd13b.png)

## Sencha Cmd 包

新的“核心”封装进一步向封装发展。传统的图表、区域设置和主题都被转移到包中。

## Sencha 架构师 3.1

Sencha Architect 在幕后使用 Sencha Cmd 来完成繁重的工作。因此，如果您使用 Sencha 的 IDE 开发应用程序，那么这应该是一个简单的过程。

你会注意到 3.0 和 3.1 之间的界面有一些更新，取代了直观和预期的树控件(也提供了开发者要求的两个版本的文件夹功能)，Sencha 使用了一个类似 Mac 的文件浏览器来实现 MVVM 功能。我不确定，但它确实存在，我相信 Sencha 会从社区得到反馈。

## 培养

Sencha 和一些第三方培训公司正在提供快速跟踪课程以及从 4.x 到 5.x 的更新课程，作为其培训课程的一部分。这些课程在世界各地都有，从阿姆斯特丹到墨尔本，从奥克兰到香港，乃至整个美国。查看 [Sencha 培训页面](http://www.sencha.com/training/)或点击搜索引擎查找您所在地区的培训。

## 分享这篇文章