# 从一开始的前端优化，第 1 部分

> 原文:[https://www . site point . com/we B- frontend-optimization-from-the-get-go-part 1/](https://www.sitepoint.com/web-frontend-optimization-from-the-get-go-part1/)

当谈到让你的网站显示速度快得令人眼花缭乱时，你可以采取一些步骤。这些步骤可以分为两类:前端和后端优化。虽然后端工作很重要，但对于一般的站点来说，它往往不会产生显著的效果(当然，非常大的高流量站点除外，在这些站点中，每一毫秒都很重要)。在这篇文章中，我们将讨论在 web 性能中突然出现的常见问题；在接下来的文章中，我们将关注一些简单的步骤，它们可以让你的网站运行得更快。

## 请求的性质

一个网页会发出很多请求。第一个是你正在浏览的网页的 HTML。由此，您的浏览器将请求更多的资源来显示页面。一个请求有两个阶段:你的浏览器请求一个文件——无论是图像、CSS 文件还是 JavaScript 文件——然后等待回音；然后它下载浏览器发送的内容。因此，可以进行两种优化:通过减少请求的数量，可以减少浏览器等待服务器回应的时间；通过限制被请求对象的文件大小，您的浏览器可以下载更少的信息来显示页面。

## ![](../Images/2b68c20dc553b2a3ef4fc718eef31c4e.png "Safari  developer tab has a great request profiler")

假设您有一个包含两个样式表、一个 jQuery 库文件、另一个包含您的脚本的 JavaScript 文件和四个图像的 web 页面。这是显示内容的八个请求(除了 HTML 之外)。你可能会认为你的浏览器已经足够快，可以让你不用担心这个问题。

不对。

这里有两个因素。首先，有**并发**。您的浏览器一次只能发出有限数量的请求，因此在一个空闲位置打开之前，下载队列中所有剩余的对象都必须等待。Internet Explorer 和 Firefox 有两到六个并发连接(取决于 IE 的网络速度和 Firefox 的浏览器版本)，Safari、Chrome 和 Opera 有四个并发连接。

其次，还有**延迟**。不幸的是，这是杀手。延迟时间为两三百毫秒(三分之一到半秒或更长，取决于服务器)的情况并不少见，在这种情况下，服务器会在开始下载任何东西之前等待。

我们能为此做些什么？嗯，有几件事我们可以试试:

## 减少请求

通过减少要下载的项目数量，浏览器能够更快地呈现页面，因此页面更快地呈现给最终用户。大量请求的最大原因是多个 CSS 文件、JavaScript 文件和图像。幸运的是，有方法和技术可以处理这三个问题。

### 连接 CSS 和 JavaScript

通过减少 CSS 和 JavaScript 文件的数量，我们可以做出巨大的改进。最简单的方法是将它们连接起来，也就是说，将它们放入尽可能少的文件中。

CSS 通常更容易整合到一两个文件中，因为它通常和你的网站在同一个位置。通过将内容移动到单个文件中，可以节省大量的等待时间。

JavaScript 通常是几个文件(假设你使用一个库框架和一些脚本)。通过在有意义的地方连接文件，可以提高页面速度。(就我个人而言，我认为有一个或两个库文件，一个文件用于我的代码就可以了。)提供广告，使用谷歌地图工具和一些 JavaScript 工具会增加额外的请求，由于 JavaScript 文件通常不会从您的服务器提供，您无法对它们做什么。我觉得接受小速度的打击来换取文件带来的好处，比如显示广告或者地图，是可以的。

### 图像精灵

图像精灵是从早期的电脑游戏发展而来的，在早期的电脑游戏中，文件大小和内存都是有限的。本质上，精灵是多个图像组合成一个单一的图像。

在 Web 上，CSS 控制 sprite 中的哪个图像将被显示(背景 CSS 样式)。这是一种广泛使用的技术，一些较大的网站(雅虎、亚马逊、谷歌)不遗余力地从中榨取每一毫秒的性能。

在你的网站上有几个精灵是很平常的事，因为不是每张图片都应该分组在一起；背景可能需要不同的精灵布局(垂直重复的图像应该放在一起，水平重复的图像也是一样)，而当图标都排列在一起时，往往最容易管理。

## 结论

在接下来的几篇文章中，我将深入探讨一些技巧，告诉你如何在优化的前提下使用代码进行规划和工作。这些步骤也有助于使已建立的网站运行得更快，所以值得你去看看。

## 分享这篇文章