# 未来:HTML 还是 XHTML

> 原文：<https://www.sitepoint.com/future-html-xhtml/>

**关于 [XHTML 对 HTML](http://www.jeroenmulder.com/weblog/2005/02/xhtml_vs_html_the_discussion_continues.php) 的讨论又出现了，直到现在我都在努力克制自己的冲动。嗯，我不会再坐在一边，而[同样的论点](http://stijlstek.nl/greek2me/2005/04/there-we-go-again-xhtml-hot-or-not/)被一次又一次地重复，这不会让我们有任何进展。在这篇我最初发表在我的博客上的文章中，我将尝试回答这个问题:互联网的未来是属于 HTML 还是 XHTML？**

首先，我要设定一些基本规则。这不会是 XHTML 的另一个版本*因为* `text/html` *被认为是有害的*或*使用 XHTML* 或*没有真正的好处一篇 XHTML 甚至不支持*一类的文章。我将直接进入事实，所以开始…

##### 超文本标记语言

HTML 已经奄奄一息。自从网景和 IE 的早期版本以来，它就一直被打败。自从 IE5/Mac 扔给它一根叫做 DOCTYPE sniffing 的救命稻草以来，它就一直在*的生命支持系统*上，靠着一根线(尽管是一根特别结实的*但也非常磨损的*线)支撑着。然而，没有任何恢复它的尝试已经或永远不会成功地延长它的寿命超过其使用日期的几年，现在几乎是让它安息的时候了。

我知道你们都在想什么。我不是疯了就是愚人节迟到了。有争议的是，网络历史上最成功的文档格式，以及一般的计算，怎么会被如此不可修复地破坏到如此接近死亡的地步？

我暂时精神错乱的答案和原因，导致了这些相当令人震惊和完全令人愤慨但难以置信的准确的说法，都归结为这样一个问题:与我们今天都知道和喜爱的*精神麻木畸形的*表示相比，HTML 应该是什么样子的*，以及它如何能够和*不能在未来得到改进。**

##### HTML 应该是什么？

最初，它是一种小型、轻量级、非专有、易于使用的文档格式，旨在用于科学文档的出版和分发(由被恰当地称为万维网发明者的策划者创建，我们都知道他是[蒂姆·伯纳斯·李](https://www.w3.org/People/Berners-Lee/)),它与国际标准 ISO:8879“标准通用标记语言(SGML)”非常相似。

虽然 HTML 最初不是基于 SGML 的，但语法上的相似性和 HTML 缺乏正式的解析规则导致了解决差异和将 HTML 2.0 正式化为 SGML 的应用的决定。这最终由 IETF 在 1995 年 11 月以 RFC 1866 的名称发布。Martin Bryan 提供了一个相对简短的关于 HTML 如何开始的摘要，以及将它转换成 SGML 应用程序的过程。

##### 现在的 HTML 是什么？

可悲的是，当 HTML 被正式确定为 SGML 的一个应用时，对这种语言不可挽回的损害(这最终导致由[丹·康诺利](https://www.w3.org/People/Connolly/)创造了术语[标签汤](http://www.is-thought.co.uk/book/sgml-1.htm#HTML))已经发生了。在 HTML 2.0 之前实现的 HTML 浏览器都没有包含符合标准的 SGML 解析器，从那以后很少有人这样做，也没有主流浏览器会这样做。

因此，浏览器不会读取 dtd。相反，他们将所有已知的元素、属性及其内容模型都硬编码，并且基本上忽略了任何他们从未听说过的元素。由于这个原因，人们普遍认为 dtd 除了验证器之外没有任何用途，而 DOCTYPEs 除了在现代浏览器中触发标准模式之外没有任何用途。

现有的 HTML 解析器中有许多故意破坏的特性，它们直接违反了 HTML 推荐标准和 SGML 标准，这些特性永远不会被修复。原因很简单，这样做会破坏数百万个遗留文档，最终只会影响用户访问它们的能力。请参见 [HTML 4.01 附录 B](https://www.w3.org/TR/html401/appendix/notes.html) 了解不支持的 SGML 特性的简要但非常不完整的总结。

##### HTML 怎么改进？

简单的回答就是一点都不多。HTML 进步和改进的能力受到前面提到的不一致的解析器和数百万遗留文档的严重限制，如果要进行任何重大的改进，这些文档就会崩溃。正如 *Hixie* 所说的:对于 HTML 解析器，我们最多只能添加新元素。

许多现有元素的元素内容模型不能改变太多。(例如，不能更新 p 元素以允许嵌套列表、表格或块引用，不能更新`title`元素以包含任何语义内联标记，等等。)任何未来的实现都必须继承现有浏览器表现出的许多古怪的不一致行为。事实上，这种行为正被伊恩·希克森和“什么”工作组追溯性地标准化。

甚至有人猜测 HTML 是否应该保留 SGML 应用程序的伪装。除了用 SGML DTDs 进行验证的好处，以及用 SGML DOCTYPE 触发标准模式之外，没有什么理由这样做。然而，在“什么”工作组草案中表达的广泛的一致性标准根本不能在 DTD 中表达，这将使验证(作为质量保证或一致性工具)受到限制。

不仅如此，任何保持与现有浏览器向后兼容的严肃尝试都需要一个广泛的黑客库(像爱德华院长的 IE7 一样)来使现有的浏览器在新的扩展中做任何有用的事情。如果没有这个 hacks 库，甚至样式表也不会对新元素产生任何影响，因为新元素基本上会被忽略。

问题是:*我们真的想要比我们需要的时间更长地掌握一种垂死的语言吗*，任何和所有的进步和增强都是如此极其有限；或者，我们真的应该开始推动转向一个更灵活、更有益的替代方案吗？

##### 可扩展的超文本标记语言

尽管之前所有关于 XHTML 的声明都没有任何好处，但当涉及到用新元素、属性和内容模型扩展该语言时，好处远远超过了坏处。事实上，所有关于 XHTML 没有 HTML 优势的说法只适用于 XHTML 1.0，因为两种文档格式的语义是相同的。

##### XHTML 应该是什么？

XHTML 应该是 XML 的一个应用，有非常严格的解析规则。我真的需要继续吗？我假设我们都知道什么是 XML 和 XHTML，所以我没有必要重复。对于不知道的人来说，这就是搜索引擎的作用。:-)

##### 现在的 XHTML 是什么？

不幸的是，web 上的大多数 XHTML 只不过是标签汤，或者至少不是格式良好的，充当`text/html`。正如之前的调查所显示的，大多数声称是 XHTML 的网站甚至没有验证，如果使用了正确的 MIME 类型，大多数网站最终会被浏览器阻塞。

其他一些问题是:XHTML 不是由 IE 实现的，Gecko 中的 XHTML 的增量呈现还不能工作，为 tag-soup 编写的脚本通常不能在真正的 XHTML 中工作，样式表需要修正，等等。伊恩·希克森的文档[将 XHTML 作为`text/html`发送被认为是有害的](http://www.hixie.ch/advocacy/xhtml)(我相信现在每个人都已经读过了)和网络上的其他地方讨论了这些东西。

然而，XHTML 相对于 HTML 的主要好处是我们已经有了(大部分)非常严格符合 XML 的解析器。虽然这些仍然有一些错误，但它们可以被修复，而不会对遗留内容产生任何不利影响。仅这一点就比 HTML 有更大的改进空间。

##### XHTML 如何改进？

有了对如何使用 XML 和 XHTML 的正确理解，XHTML 的进步就没有任何限制了。我们不会被极端的浏览器错误和限制所阻碍；未来的实现不需要复制不一致的行为，元素内容模型可以针对现有元素进行更改，并且可以非常容易地添加和支持新元素。至少有了完整的样式表支持，它们不会在现有的 XHTML UAs 中变得完全无用(就像在没有 hacks 库的 HTML 中一样)。

毫无疑问，如果不使用任何纯 XML 特性，比如混合名称空间文档(例如 XHTML+MathML)，使用 XHTML 1.0 几乎没有任何好处。然而，使用 XHTML 2.0 或 WHAT 工作组的(X)HTML 应用程序都会有好处，包括 Web Forms 2.0、Web Apps 1.0 和 Web Controls 1.0，我认为它们应该统称为 HAppy 1.0(针对**H**TML**App**lications)，而不是(X)HTML 5.0。

通过使用 HAppy 1.0 的 XHTML 变体(如果它被称为 HAppy 1.0 的话，无论有没有大写字母 A，请告诉我您的想法)，与现有 XHTML UAs 的向后兼容将变得更加容易，因为至少样式表可以工作，新元素将简单地表现为 div 和 spans。不过，向后兼容 IE 和其他遗留 UAs 需要做更多的工作:你需要安排将你的 XHTML 文档转换成 HTML，因为将严格禁止使用这个新版本的 XHTML 作为`text/html`。

## 分享这篇文章