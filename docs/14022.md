# 处理自动化的表单垃圾邮件

> 原文:[https://www . site point . com/dealing-with-automated-form-spamming/](https://www.sitepoint.com/dealing-with-automated-form-spamming/)

任何开发或维护博客软件的人都可能非常熟悉垃圾评论的问题。

我最近成了通过“联系”表单发送垃圾邮件的受害者。联系表的结果会通过电子邮件私下发送给网站成员，不会显示在网站上。然而，这似乎并没有阻止垃圾邮件发送者——他们使用自动机器人发送数百封垃圾邮件。

[验证码](https://www.sitepoint.com/blog/)是一种防止自动发送垃圾邮件的方法，它要求用户完成一项计算机难以完成的任务——通常是识别图像中的字母或形状。然而，验证码不仅有一些相对[明显的缺陷](https://www.sitepoint.com/blog/)，而且它阻碍了可用性和可访问性，这将减少你得到的回复数量。验证码的另一个缺陷是，它暗示你可以信任人类用户，而不能信任计算机——这是一个有缺陷的假设，因为与清理垃圾邮件的人数相比，有大量时间的人类用户数量更多。它打破了[不信任任何用户输入](http://theflangynews.editthispage.com/stories/storyReader$681)的原则。

就像针对电子邮件的[贝叶斯垃圾邮件过滤](http://www.paulgraham.com/spam.html)一样，基于内容的过滤是更直接的解决方案。它处理的是实际问题——内容是垃圾邮件的事实——不会导致最终用户的可访问性或可用性问题。

为了解决我自己的评论垃圾邮件问题，我实现了一个非常简单的过滤解决方案，比贝叶斯垃圾邮件过滤系统更简单(也不像它那么智能)，在贝叶斯垃圾邮件过滤系统中，每个单词都有一个分数和排名。特别影响我的垃圾邮件都与在线赌博有关，所以我草拟了一系列可以触发过滤器的词:

 `$badwords = array(
'poker', 'online-poker', 'onlinepoker', 'holdem', 'casinos',
'online-casinos', 'casino', 'online-casino', 'baccarat', 'craps',
'blackjack', 'slots', 'roulette', 'keno', 'wsop'
);`

如果任何人向我的联系表单提交这些词，他们的评论将不会被任何人阅读(尽管我进行了几周的测试来寻找假阳性)。

这种自动化的垃圾邮件形式(目前)很容易被阻止——因为它是自动化的，并且都是由一个机器人发送的，所以它不会有太大的变化。然而，随着自动化表单垃圾邮件问题的增长，越来越多的人开始设置脚本来垃圾邮件我的表单，我预见这个解决方案将开始崩溃。我不得不开始屏蔽越来越多的单词，以至于会有太多的误报。

贝叶斯过滤基于一种算法来计算某些内容的垃圾邮件概率，该算法为每个单词分配垃圾邮件概率和该单词的重要性等级。它在阻止垃圾邮件方面非常有效，尽管它比最初推出时效果稍差(垃圾邮件发送者正在学习改变他们的单词拼写并添加无用的单词)。

这篇关于在 WordPress 中处理评论垃圾的文章提出了一些阻止评论垃圾的方法。例如，他们提倡基于规则的过滤，例如查看内容中超链接的数量，“垃圾邮件”，就像我实施的解决方案一样，基于 IP 地址的过滤，以及许多其他黑客行为。它很好地总结了防止评论垃圾邮件的不同方法，从而实现了表单垃圾邮件的自动化。

越来越多的人因为不得不处理大量的垃圾邮件而感到沮丧，关闭了评论提交或其他功能。

评论垃圾邮件和其他形式的垃圾邮件(包括引用通告垃圾邮件和联系形式垃圾邮件)越来越受欢迎，这是否只是指出了我们自己一开始就让公众发布评论和反馈的幼稚？允许你的访问者联系某人或提交评论增加了网站的交流和社区，代价是增加了向你发送垃圾邮件的机会。这是一个悖论，我们希望这个功能出现在我们的网站上，*即使*我们知道我们不能信任所有的用户。我们将不得不更加关注如何处理那些破坏我们信任的垃圾邮件，同时继续允许有贡献的用户能够使用我们的表单。

## 分享这篇文章