# 12 CSS3 供应商前缀危机神话

> 原文：<https://www.sitepoint.com/12-css3-vendor-prefix-crisis-myths/>

自 2012 年初以来，在 SitePoint 上已经详细讨论了 CSS3 厂商前缀和即将到来的启示:

*   [即将到来的 CSS 厂商前缀灾难](https://www.sitepoint.com/w3c-css-webkit-prefix-crisis/)
*   [CSS3 厂商前缀危机的 7 种解决方案](https://www.sitepoint.com/css3-vendor-prefix-crisis-solutions/)
*   [审判日到来:Opera 实现 CSS3 Webkit 前缀](https://www.sitepoint.com/opera-css3-webkit-prefix/)
*   [解决 CSS3 厂商前缀危机的两项新提案](https://www.sitepoint.com/css3-vendor-prefix-crisis-solutions-2/)

这些问题被广泛误解——这就是为什么我们发现自己处于这种混乱之中。希望这篇文章将打破几个供应商前缀危机的神话…

## 1.W3C 发明了标准…

不管你是在发明一个 CSS3 属性、一个无线网络协议、一个电源插座还是一个公司的人力资源政策:**在实施之前，没有什么是标准的**。

有一种普遍的误解，认为 W3C 是由 HTML5 统治者组成的，他们制定规则让所有人遵守。W3C 不是也从来不是网络技术的革新者。浏览器厂商负责发明新的 CSS3 属性；这些仅在以下情况下成为标准:

1.  该属性被提交给 W3C(所有供应商都有属于该组织的代表)
2.  人们普遍认为这是一个很好的发展方向
3.  至少还有一家供应商实现了相同的功能。

## 2.…供供应商遵循

如果你决定从头开始创建一个浏览器，建议你遵循 W3C 规范。这并不是强制的，但是这些文档定义了今天其他浏览器的工作方式。甚至有文档描述了浏览器应该如何呈现无效的 HTML。

规范记录了已经完成的工作，而不是供应商必须做的事情。一旦你有了一个可以工作的浏览器，你就可以随意添加任何你喜欢的特性，并提交给 W3C 考虑。

## 3.W3C 批准过程耗时太长

需要多久就多久。

供应商通常急于寻求 W3C 的批准，否则他们的努力就白费了。我们都从事软件产品的工作，知道不同意见有多么令人沮丧，所以想想五个主要竞争对手评估和认可彼此的想法有多困难。

但是，请记住，最终的“W3C 推荐标准”意味着一个特性已经在两个或更多浏览器中实现到相同的水平，并且没有人提出合理的反对意见。该物业在此之前几年可能已经可以使用。

## 4.CSS3 属性在成为标准之前是不可用的

一些开发人员提出了这样一个概念，即属性应该被禁用或只出现在夜间浏览器版本中，直到它们被标准化。既然一个属性在成为标准之前必须实现，*你怎么能在实现一个属性之前等待标准呢？*

供应商前缀的作用是评估特性的实现。如果该特性以某种方式隐藏起来，它将不会受到多少关注，评估将会花费更长的时间，并且在您有生之年也不会成为 W3C 推荐标准。

你可以等待一个属性成为标准，但是…

*   你将会错过一些很棒的特性。`border-radius`已经可以在所有没有前缀的浏览器中使用一段时间了，然而 [CSS 背景和边框模块 3 级](https://www.w3.org/TR/css3-background/)还没有达到最终的 W3C 推荐阶段。你最好回去做图像切片。
*   一旦一个属性成为标准，就不能保证它在任何地方都可用。大多数浏览器还没有实现所有的 CSS2.1 特性——他们已经花了 13 年的时间来实现它。

## 5.供应商前缀==测试版软件

他们普遍认为厂商前缀可以与测试版软件相媲美。由此得出结论，不建议在生产中使用带前缀的属性。这是不对的。

测试版软件是出于测试目的发布的，以确定功能是否按预期工作。供应商前缀用于评估新功能的实现。这种差别很微妙，但理解这一点很重要:

*   虽然带有供应商前缀的属性是预标准的，但是当它出现在您的浏览器中时，它已经被设计、记录、共享、编码和测试过了。不能保证它会保持不变或者被其他供应商实现，但是一个属性很少会彻底改变或者消失。最坏的情况是该属性只能在一个浏览器中使用。
*   一个厂商前缀属性已经过 beta 测试，特性本身应该不会有问题。如果使用属性导致可怕的浏览器崩溃，那将是软件问题，而不是属性规范的问题。
*   供应商不使用无前缀属性名的唯一原因是为了避免在供应商协议的早期阶段出现实现冲突。如果 Florian Rivoal 的提议被接受，这种情况可能会改变。

## 6.前缀不是必需的

根除前缀并不能解决厂商前缀危机。属性差异很少，但确实存在。在这种情况下，如果您不能区分两种浏览器实现，属性将变得不可用。

可能有更好的选择，但是前缀解决了一个特定的问题。

## 7.JavaScript 没有前缀问题

JavaScript 或 ECMAScript 是国际公认的标准。这种语言自诞生以来几乎没有什么变化，尽管更彻底的变化即将到来，但不同的 JavaScript 引擎是相同的。甚至已知的错误也会被复制。

然而，JavaScript 不是问题所在。当开发人员抱怨客户端编码时，通常是浏览器 API 造成了痛苦。这些 API 由 JavaScript 代码调用，但它们是浏览器中预定义的对象——它们不是语言本身的一部分。

请注意，厂商前缀的 JavaScript APIs 如[全屏](https://www.sitepoint.com/html5-full-screen-api/)已经存在，更多的将会出现。然而，这不是一个问题，因为您可以检测对象并相应地进行分叉。这在 CSS 中是不可能的。

## 8.萨斯/SCSS/LESS/另一个 CSS 工具可以修复一切

有几种 CSS 脚本/宏语言可以将规则预编译成有效的样式表。大多数处理前缀；您可以定义单个标准特性，并自动添加适当的供应商前缀。这是一个很好的解决方案，但是:

*   不是每个人都可以安装 CSS 预编译器，因为您需要特定的服务器端语言或框架。
*   一个 CSS 预编译器只有在最后一次更新时才是好的。每当新的浏览器发布时，厂商前缀都会改变——软件必须跟上步伐，否则就没用了。
*   这是需要学习的另一种语法；许多开发人员乐于编写原始 CSS 代码。
*   CSS 预编译器引入了他们自己的一系列问题。任何生成代码的系统都可能出错，使调试更加困难。

如果你喜欢使用 CSS 工具包，那很好。但是它们并不适合所有人，只是隐藏了供应商前缀的问题。他们不解决这个问题。

## 9.Webkit 引领潮流…

Webkit 是最活跃的开发团队之一，并且是第一个实现 CSS3 一些更好的效果的团队。但他们并不总是领路:

*   CSS3 calc()函数刚刚出现在 [Chrome 19](https://www.sitepoint.com/chrome-19-whats-new/) 中，但在 Firefox 中可用，在 IE9 中已经有一年多了，没有前缀。
*   Webkit 的背景渐变实现是可怕的。W3C 成员最终决定采用 Mozilla 的 cleaner 提议。
*   Webkit 不支持`background-repeat` round 和 space 属性；他们已经在 IE9 和 Opera 呆了好几个月了。
*   Webkit 的 SVG 解析器功能较少，通常比其他引擎慢。

其他供应商贡献了他们的公平份额。记住 webkit 用在 Safari 和 Chrome 中；苹果和谷歌——世界上最大的 IT 和网络公司——定期公布新的发展。我们陷入这种混乱的主要原因是因为一些开发人员认为 webkit 是唯一重要的引擎。

## 10.…所以一个渲染引擎就能解决所有问题

单一的渲染引擎将使 web 开发人员的生活更加轻松。许多人认为某种合法的浏览器垄断是个好主意。如果你同意，请记住你的愿望在十年前已经实现了。有一个占主导地位的浏览器；编码很容易，几乎不需要担心 W3C 标准。IE6 是标准。我们应该忽略这个历史教训吗？

单一的浏览器引擎扼杀了竞争和进化。该提案没有承认几个关键问题:

*   在全球范围内，法律上和实践上都不可能强制执行。
*   浏览器厂商是竞争对手。两个开发人员会对一个单独的特性提议有不同意见；五家相互竞争的公司会在一个代码库上和谐地工作吗？微软、Mozilla 和 Opera 会放弃几十年的努力来采用 Webkit 吗？
*   供应商有不同的要求和时间表。假设苹果需要一个新的 iPhone 特有的属性。他们会等待谷歌、微软、Mozilla 和 Opera 的批准吗？或者他们会不顾一切地分叉引擎并实现它吗？不知不觉中，我们又有了五个独立的引擎。
*   许多人认为供应商仍然可以在“功能”上竞争。然而，浏览器*就是*引擎。供应商一直在积极剔除多余的臃肿，以创建更快，更光滑的应用程序。供应商会在哪些特性上展开竞争？
*   一个引擎不代表一个版本。即使在今天，Chrome 更快的发布时间表导致它拥有比 Safari 更新的 webkit 版本。

尽管有五个主要的应用程序，开发比以往任何时候都更容易。浏览器市场再次活跃、繁荣和令人兴奋。我希望我们永远不会失去它。

## 11.这要归咎于供应商

厂商对开发者有义务吗？或者他们最关心的应该是数百万的最终用户？

已经有过供应商将前缀属性提升为 HTML5 标准的例子，但是他们并没有故意让我们的生活变得困难。前缀解决的问题比引发的问题多。我们现在有危机的唯一原因是因为一部分 web 开发人员未能使用-webkit、-moz、-ms、-o 和无前缀的 CSS3 属性。是时候停止抱怨并修复我们代码中的问题了。

## 12.前缀是个愚蠢的想法

供应商前缀并不完美。它们是一种解决方案，可以防止两个供应商以不同的方式实现相同的属性并使其不可用。也许他们有点天真，但是事后诸葛亮很容易发现缺点。

更好的解决方案将不可避免地出现，但是，在此之前，我们会被前缀所困扰，这取决于我们如何恰当地使用它们。

## 分享这篇文章