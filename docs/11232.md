# SitePoint 搜索现在由谷歌提供支持。你也应该使用它们吗？

> 原文:[https://www.sitepoint.com/sitepoint-search/](https://www.sitepoint.com/sitepoint-search/)

经常访问 SitePoint 的人可能已经注意到，有一段时间，我们的搜索功能还没有达到标准。好消息各位！那些日子已经过去了。

以前的系统是在推出自己的搜索是 SitePoint 这样的网站非常有限的选项之一的时候建立的(事实上，对于许多用例略有不同的组织来说，这仍然是正确的)。我不想贬低我在 SitePoint 的前任开发人员的努力——他们使用 [Apache Solr](http://lucene.apache.org/solr/) 将各种 SitePoint 属性缝合在一起，做得非常好。不幸的是，当搜索功能停滞不前时，我们代码库的其余部分却在前进。

是时候更新了。

有一个无可争议的搜索之王——谷歌。与其创建我们自己的搜索引擎——并实现基于关键词的内容排序算法，不如索引所有的内容(有很多内容！)和提供搜索结果，我们与谷歌合作，通过[谷歌网站搜索](http://www.google.com/sitesearch/)提供搜索结果。

Google Site Search 是一个工具，它允许你创建你自己的 Google 驱动的和 Google 托管的搜索引擎(充满了改进和提升),并把结果作为 XML 文档下载到你自己的站点。然后，您可以对结果进行样式化，或者以各种有趣的方式操纵它们(我们将结果下拉主要是为了对它们进行样式化，但是如果您愿意的话，您也可以做一些非常简洁的表示方法)。

如果你不想以任何特殊的方式设计结果，你也可以使用[谷歌定制搜索引擎](http://google.com/cse/)，这个引擎支持谷歌网站搜索。然而，与 CSE 相比，网站搜索有一些限制(并失去了一些其他的限制)。这两种产品之间的差异相当模糊——我还没有找到两者之间的详细比较。我发现的关键点是:

**谷歌搜索引擎**

*   对于希望更好地控制搜索结果生成和显示方式的企业
*   附有价格标签(每年 250-2000 美元以上，取决于您的需求)
*   不需要展示谷歌品牌或广告
*   按需索引
*   没有托管您自己的上下文文件的选项(见下文)

**谷歌定制搜索引擎**

*   适用于小型企业、非营利组织和希望以低成本或零成本获得优质搜索的爱好者
*   完全免费(在合理的范围内)
*   必须有谷歌品牌和广告
*   谷歌心血来潮的索引
*   您可以托管自己的上下文文件(见下文)

当我在做 SitePoint 搜索的时候，有两个大问题困扰着我，它们是密切相关的。

首先，谷歌关于 CSE 和网站搜索的文档是不完整的。非常粗糙。据我所知，有些特性和限制只在文档中某篇文章的某一行中提到过。其他部分似乎只在自定义搜索[博客](http://googlecustomsearch.blogspot.com/)上有所解释。我甚至可以说，关于这些产品的一些文档非常糟糕。谷歌，请清理文档！

由于文档中少了一行，我没有意识到谷歌不允许网站搜索用户拥有自己的上下文文件。这些 XML 文件指定了搜索引擎要搜索的内容、该内容的子部分的标签以及这些部分的权重(以及其他有用的选项)。

例如，在典型的搜索中，我们想让我们的文章比我们的博客稍微靠前一点。如果我们有能力托管自己的上下文文件，这将非常简单。唉！

另一种方法是我们生成一个上下文文件，并让一个 cron 作业将它发送到控制面板。虽然有些笨拙，但测试表明它是有效的。不幸的是，我们遇到了其他一些奇怪的特例，我们希望以特殊的方式推广一些结果，这与谷歌的标准模式相冲突，整个计划失败了。

相反，我们选择在搜索结果到达我们自己的服务器时对它们进行一些(非常轻微的)解析，以强调一些结果优于其他结果(这是非常轻微的影响，并且只对一些任意的搜索词，但它确实存在)。

我还发现——主要是通过反复试验——更多:和更少:关键词。我在任何地方都找不到太多关于这些的文档(在自定义搜索引擎文档中有一处提到“更多:”而没有提到“更少”:)。我在我自己的博客上写了一点关于它的内容[，但是它的要点是——如果你在你的网站的特定部分有细化标签，你可以使用‘less:<refinement name>只返回选定细化的结果。这就是我们选择文章、博客、产品等的方式。工作。据我所知，它有效地将 BOOST +1.0 或 BOOST -1.0 BackgroundLabel 应用于给定的结果子集。](http://arcwhite.org)

总的来说，我强烈推荐谷歌的搜索引擎产品给任何需要为他们自己的网站实现搜索的人——警告文档在某些地方会让你困惑，所以你可能需要问一些问题来让事情按照你想要的方式工作。谷歌的搜索功能非常强大，也非常复杂——我自己还没有完全掌握它。然而，就你所得到的而言，它非常强大，快如闪电，而且便宜得惊人。

最后，我们还添加了 [OpenSearch](http://www.opensearch.org/) 链接到 sitepoint.com 的大部分地区；如果你的浏览器支持 OpenSearch(比如像 Firefox 和 IE！)您应该能够将 SitePoint 添加为一个插件搜索引擎，只需点击几下鼠标，即可快速轻松地搜索我们的内容。(感谢出版部门的路易斯对这一点的建议！)

我希望你喜欢 SitePoint 的新搜索功能。我们自己的测试表明，现在在 sitepoint.com 上找到有用和相关的信息要容易得多，我希望听到来自社区的反馈。我们将在未来再次访问搜索并添加一些新功能——如果您有任何建议，我也很乐意听取！

## 分享这篇文章