# 2Mb 网页:谁的责任？

> 原文：<https://www.sitepoint.com/2mb-web-pages-whos-blame/>

我希望这只是暂时的。我希望 2015 年是表现年。我错了。平均网页重量在五个月内[飙升了 7.5%](https://www.sitepoint.com/average-page-weight-increases-15-2014/)超过 2Mb。那是三张 3.5 英寸双密度软盘——数据价值*(问你的祖父母吧！)*。

根据[2015 年 5 月 15 日 HTTP 存档报告](http://httparchive.org/interesting.php?a=All&l=May%2015%202015&s=All)，从近 50 万个网页收集的统计数据如下:

| 技术 | 2014 年底 | 2015 年 5 月 | 提高 |
| 超文本标记语言 | 59Kb | 56Kb | -5% |
| 半铸钢ˌ钢性铸铁(Cast Semi-Steel) | 57Kb | 63Kb | +11% |
| Java Script 语言 | 295Kb | 329Kb | +12% |
| 形象 | 1243 千字节 | 1310 千字节 | +5% |
| 闪光 | 76Kb | 90Kb | +18% |
| 其他的 | 223Kb | 251Kb | +13% |
| 总数 | 1953 千字节 | 2,099Kb | +7.5% |

涨幅最大的是 CSS、JavaScript、其他文件(主要是字体)和令人惊讶的 Flash。每页的平均请求数:

*   总共 100 个文件(高于 95 个)
*   7 个样式表文件(比 6 个多)
*   20 个 JavaScript 文件(之前为 18 个)
*   3 个字体文件(2 个以上)

图像仍然是最大的问题，占 56 个请求和总页面权重的 62%。

最后，记住这些数字是平均值。许多网站会有相当大的权重。

## 我们正在扼杀网络！

有点矫情，但是有人认为 2Mb 可以接受吗？这些是面向公众的网站，而不是动作游戏或重型应用。有些网站可能会使用客户端框架来使“单一”页面看起来更大，但是这些网站应该是少数。

对于使用移动设备的三分之一用户来说，情况更糟。具有讽刺意味的是，一个 2Mb 的响应站点在一个速度较慢、移动连接有限(而且可能很昂贵)的设备上永远不会被认为是有响应的。

我曾经[指责过开发者](https://www.sitepoint.com/average-page-weight-increases-15-2014/)，几乎没有不降低页面权重的技术借口。今天，我将注意力转向客户:*他们让网络变得太复杂了*。

许多客户都想成为软件设计师，并将开发人员视为其愿景的实现者。他们有一个突破性的想法，一旦他们所有的 1001 个“基本”特征都被编码，这个想法将会赚大钱。不管项目有多大，客户总是想要更多。他们:

1.  错误地认为更多的功能会吸引更多的顾客
2.  认为他们从开发商那里获得了更高的性价比
3.  不知道更好。

基于特性的策略，如“尽早发布，经常发布”会被误解或完全拒绝。

结果呢？2Mb 的页面充满了不相关的广告、大量的广告、引人注目的社交媒体插件、劣质的原生界面实现和在较小的屏幕上无法关闭的弹出窗口。

但是我们屈服于客户的要求。

即使你不这样做，大多数开发者也会这样做——这伤害了所有人。

我们继续将功能置于性能之上。添加东西很容易，这让客户很开心。但是用户讨厌网络体验；他们渴望本地移动应用和 Facebook 即时文章。更有甚者，开发者明知不对: [*Web vs Native:让我们认输*](http://www.quirksmode.org/blog/archives/2015/05/web_vs_native_l.html) 。

## 苹果对微软的主张

很难反驳一个客户提出为另一套无足轻重的功能付费。客户更关注他们自己的需求，而不是他们用户的需求。页面上的广告越多，收入就越多。显示干扰性的弹出窗口会导致更多的注册。展示二十个产品胜过十个。这些技巧在一定程度上起作用，但是一旦你超越了可接受的界限，用户就会放弃这个网站。当收入下降时，客户会本能地做什么？*他们添加更多的东西。*

创建一个更好的用户体验和更高的性能总是在优先级列表中处于较低的位置。也许你可以通过讨论下面两个 UX 方法的例子来突出它…

历史上，微软通过委员会设计软件。许多人对许多特性提出了许多意见。优点:微软软件提供了所有能想到的功能，并且非常易于配置。负面影响:人们使用这种能力的一小部分，它可能会变得过于复杂——例如，Vista 中的 17 个关闭选项，或者难以理解的互联网选项对话框。

苹果的做法更像是一种独裁，决策者相对较少。界面是流线型和极简主义的，只有那些功能被认为是绝对必要的。优点:苹果软件可以简单而优雅。负面影响:祝你好运说服苹果添加你想要的特定功能。

这两种方法都不一定是错的，但哪家公司近年来更成功呢？大多数用户想要简单的体验:应用程序应该为他们服务，而不是相反。简单取胜。

问问你的客户他们更喜欢哪家公司。然后建议他们的项目可以通过关注重要的用户需求、削减很少使用的功能和优先考虑性能来改进。

## 2015 年可能是表现之年

网络太神奇了。应用程序是跨平台的，可以在世界任何地方工作，不需要安装，自动备份数据，并允许即时协作。然而，这些页面的有效负载已经变得比它们原本要取代的原生应用程序安装程序更大、更麻烦。2Mb 网页超出了可接受的范围。

如果我们不做点什么，肥胖危机将会持续不减。追求简单并不容易:减肥总是比增加体重更难。现在忍受一点痛苦，你会有一个更健康的未来:

*   使用工具来鼓励缓存，减少 HTTP 请求，缩小有效负载并删除不必要的组件——参见[减轻页面重量的完整指南](https://www.sitepoint.com/complete-guide-reducing-page-weight/)
*   考虑一下克里斯·鲁佩尔的想法[节流周四](http://fourword.fourkitchens.com/article/throttled-thursdays)限制你的带宽，像你的用户一样体验你的网站/应用。

是时候优先考虑性能了。

## 分享这篇文章