# 采访 Xaraya 的 John Cox

> 原文:[https://www.sitepoint.com/interview-john-cox-xaraya/](https://www.sitepoint.com/interview-john-cox-xaraya/)

约翰·考克斯是 [Xaraya](http://www.xaraya.org) 项目管理委员会的成员，这是一个先进的内容管理系统，目前正由旧 [PostNuke](http://www.postnuke.com) 团队的成员开发。最近，我问了他一些关于他的角色和 Xaraya 系统的问题。

首先，John，你能告诉我们一些关于你自己以及你在 Xaraya 开发团队中的参与情况吗？

Xaraya 组织基于 Apache 开源开发模型。我是 Xaraya 项目管理委员会的四名成员之一。我主要监督发布时间表，并尽最大努力在开发团队和整个社区中传达项目的目标。

马塞尔·范德博姆和保罗·罗萨尼亚是赛拉亚的 PMC 的另一部分。他们关注项目的设计和底层架构问题。Gregor Rothfuss 通过监督管理领域和一般研究与开发来完善 PMC 团队。

不过，PMC 只是让我们去的很小一部分。团队合作和友情是我们发展的力量，因为我们每个人都参与到魅力项目和平凡任务中。我们每个人都通过支持、沟通、营销、设计、开发、指导和文档在项目中发挥作用。

在 PostNuke 中，我们尝试了基于角色的管理和开发，但是我们发现它只是创造了新的复杂层次，这让我们在大计划中获益甚少。

Xaraya 是一个先进的站点管理系统，很像 PostNuke 系统。与目前可用的其他系统相比，它有什么优势和特性？

虽然比较是不可避免的，但我相信从核武器风格的门户系统到 Xaraya 可以有更多的对比。

*Nukes(老实说，实在太多了，无法一一列举)，从一个有点简单的设计中获得流行，该设计允许社区插入模块系统并添加功能。

然而，当前的系统有一个基本的缺陷，为了扩展功能，你必须有一些 PHP 的知识。您希望获得的可扩展性越强，您在升级时给自己带来的痛苦就越多，因为您可能已经创建了一个粗略的依赖关系，或者更糟的是，更改了一个将被覆盖的核心文件。这样做的结果可能是任何事情，从引起相当多的挫折，到造成彻头彻尾的痛苦。

Xaraya 在这方面是不同的。

我们想让系统对普通用户来说更具可扩展性，给模块和主题开发者更多的权力。我们已经用很多方法做到了这一点。

首先，对于网站管理员，我们已经建立了一个系统，允许您在几分钟内创建新的出版物类型。如果您没有 PHP 知识，这可以减轻您等待有类似需求的人突发奇想的需要。

对于开发人员来说，我们已经创建了一个非常容易使用的 API，经过一点点研究，它使模块的开发变得非常容易和非常快。此外，Frank Besler 和 Marco 创建了 events 系统，该系统允许模块开发人员直接插入核心事件，因此无需更改升级时会被覆盖的文件。

最后，我们给了设计者创造一个不依赖于模块内部硬编码设计技术的外观和感觉所需的能力，因为所有输出都是一个模板，并且可以从一个主题到另一个主题被覆盖。

相对于核武器的另一个优势是我们的特权和基于角色的系统，由马克·吕托尔夫设计。它很容易使用，也非常灵活，这让我们在这一点上比核系统多了一点优势。Marc 重新设计了群组/用户系统，采用了一种保持后核武器时代灵活性的方法，但需要一种更简单的方法，并且对新手用户来说不那么可怕。

当你第一次开始这个项目时，你的目标是什么？是什么让你决定开始开发这个新系统？

这一切都始于完成我们的“更好的捕鼠器”的愿望

Xaraya 本身的开始是因为在我们在 PostNuke 工作期间，捕鼠器应该是什么样子的根本分歧。当你把热情的人放在一起足够长的时间，好的和坏的事情可能会发生。去年后核武器发展就是如此。与 PostNuke 一起工作的人都是非常有能力的专业人士；然而，为了实现我们最初的愿景，需要进行变革。

发展的原因今天仍然和将近两年前格雷格·艾伦、肖恩·芬克、哈里·辛克和我开始 PostNuke 时一样。我们需要一个可扩展的内容管理系统，在 Internet 和 intranet 应用程序上执行各种不同的功能。我们想要的东西只提供最基本的必需品，并允许插件完成功能的工作。Xaraya 1.0.0 是这一愿景的完成。

你为什么决定将形式、功能、内容和设计这四个要素分开？这有什么好处呢？

将处理从表示中分离出来，不仅在输出端，而且在处理端都有很大的灵活性。我们并不局限于显示查询或函数的严格输出，而是享受更大的灵活性来操纵和按摩处理过程，以达到一些期望的效果。

最初的系统是由 Jim McDonald 在我们在 PostNuke 工作期间设计的，但后来被 Xaraya 内部的多个来源(Paul、Marco Canini、Flavio Botelho、Michel Dalle 等)扩展到一个新的水平。

重用来自多个输入源的查询比使用内联源来做同样的工作要容易得多。例如，这里有一个非分离输出的工作流程示例:

用户在表单中输入信息。该信息被发送到一个函数，该函数首先检查和清理输入，(希望)查找所需的信息，然后显示结果。对于其他每个表单或动作，重复此过程。很难分离出这个输出并以多种方式处理它，也很难重用该查询来执行类似的操作(尽管并非不可能)。这是一个难以扩展的线性过程。

使用 Xaraya，工作流程会有所不同，因为几个不同的流程会共同产生一个或多个所需的效果。表单或动作仍然由最终用户完成，输入仍然是有效的，但是从那里它可以根据用户的偏好进入系统的多个部分。

查询是以非线性方式执行的，这提供了重用代码的能力，并在整个网站中创建了真正的一致性。一个查询可以被 50 个函数重用。此外，一个模块可以被许多其他模块调用(取决于偏好)，这大大加快了开发速度。

没有理由多次重写评论系统。相反，您可以通过一个钩子调用要显示的注释，或者您可以对注释进行直接的 API 调用，以获得对最终用户看到的输出的更好的控制。

为什么网站管理员想要在他/她的网站上使用 Xaraya？

我最初对内容管理感兴趣有几个原因。更常见的是，我需要动态生成项目，这样我就不会一遍又一遍地创建静态站点。坦白地说，我很懒，我想专注于我的内容和设计，而不是不断地担心手动上传和更新 html 页面。Xaraya 让网站管理员能够利用他们的设计和内容技能，不再担心维护网站的琐碎职责。

这些都是使用内容管理系统的一般原因，并且已经被大多数网站管理员所接受。CMS 现在多如牛毛，所以，要想脱颖而出，就需要在理解实际上可以做些什么来使网站管理员的工作更容易方面进行范式转换。

文章系统与动态数据系统(都是由 Michel 编写的)相结合，意味着网站管理员不再需要等待开发人员设计新的模块。网站管理员所要做的就是想出他们想要显示的内容，然后在系统中添加两个模板，并创建一个新的出版物类型来收集数据。

这是我们邮件列表中一位一直在玩 Xaraya 的人最近的一段话:

<q>*“你们知道自己在这里取得了什么成就吗？我知道这是个愚蠢的问题。你给了我一个 CMS，它能够以我想要的任何方式显示几乎任何东西。这一直是其他 CMS 的梦想。我们不必再等待有人修改留言簿，也不必再等待有人开发食谱模块。不再等待有人将类别添加到评论模块等等……*</q>

*你给了普通用户成为自给自足的网站管理员的力量……*–克雷格·哈姆林 2003 年 5 月 28 日

Xaraya 仍在开发中。沿线有多远？你有一个估计的 1.0.0 发布日期吗？

可惜我无法估计最终的稳定发布。我可以说，我期望在测试过程中发现设计的基本缺陷，我很高兴地说，还没有任何报告。因此，设计在很大程度上是稳定的，但“关注细节”的项目仍然存在。小的改变和修正需要大量的时间才能完全正确。此外，我们在显示和代码方面都要考虑代码的一致性，以便给人一种每个人都渴望的完美感觉。

也就是说，即使在开发过程中，我们也花时间和精力来确保我们做出质量上的改变。大量的工作被转移到在代码基础上完成单元测试。这已经在我们的 XML 解析例程中得到了充分的开发，并且产生了比开源 CMS 系统中有时发现的代码质量更高的预期效果。这并不是对那些利用空闲时间开发工具供他人使用的人的轻视，这更表明我们致力于做好这个项目。

最流行的系统 PostNuke 和 phpNuke 为定制风格提供了广泛的支持。Xaraya 也有这种支持，但是是什么让它值得使用呢？造型系统的可定制性如何？

Xaraya 显示的每个输出都来自一个模板。Nuke 风格的系统允许自定义主题(PHP-Nuke 和 PostNuke 都有一些高级版本),这为用户提供了对输出的一些控制。这两个系统都有一些对输出的样式表控制，但是在很多情况下，在模块内部(甚至是主题本身)是不一致的。所有这些对 Xaraya 来说都没有意义。

我们引入了一个模板系统，允许设计师完全控制整个输出，如果他们想要的话。每个输出模板都可以在一个主题中被覆盖，这样每个主题就可以产生一个完全不同风格的站点。更进一步，模板系统中有各种其他的覆盖控件，允许设计者创建一致的 UI 来管理站点，同时向访问者呈现完全先进的设计。

此外，真正有价值的是分解输出，以便它可以以各种格式显示(仅受您的想象力限制)。需要打印一些东西，但不想在页面视图上加载额外的 CSS？你可以用一个主题来实现。想用 RSS 格式显示一些东西？这也可以作为一个主题。你想让你的网站只生成 PDF 文档吗？可以被构建成一个主题。想变得很酷，用你的 XUL 知识让你的朋友大吃一惊吗？你猜怎么着？这就像建立一个 XUL 主题一样简单(我们已经有了一个概念设计的工作证明)。

此外，Marty Vance(以及其他许多人)在 Xaraya 的 CSS 标准上花费了大量时间。他的工作提供了更大的控制，允许非设计师快速改变他们的主题格式，而不需要在 Xaraya 的表示层进行大量的工作。我们没有花太多时间在展示主题上来展示功能，但是当我们结束开发并且有时间的时候，我们会展示功能。与此同时，我们正在回答问题，并希望该技术的一些早期采用者能够首先让我们惊叹。

关于模块/块系统，你能告诉我们些什么？

模块/块系统是 Xaraya 功能的插入点。Xaraya 本身并没有做很多事情。它管理用户，并提供后端，以便功能可以从一个站点到另一个站点定制。这些模块提供了您在访问任何用 Xaraya 构建的站点时所看到的功能。它们处理信息，然后将信息发送回屏幕显示。

这些积木非常相似，只是我把它们看作是“助手”。此时，我们可以在模块实例上进行处理(计划转移到更多的页面类型显示)，但是您可以引入块来帮助实现功能。积木的名字来源于核武器，但是除了它们的名字，它们与需要展示的感觉没有任何关系。

例如，我们使用块来处理元信息。通过这样做，我们创建了一个 header 块，显示在页面的`<head>`到`</head>`部分，并添加到该页面的动态处理中。任何模块都可以将其内容发送到元块，元块可以生成动态元关键字。

通常，任何网页都有相似的设计元素。你有一些导航，可能是一个广告，可能是一个小的提醒或提示，最后你有内容。Xaraya 使得动态生成这些独立的设计元素成为可能。如果我们以上面的例子为例，模块将处理内容，而块处理其余的内容。

关于这个站点管理工具，您未来有什么计划？以及最初发布后会如何发展？

Marcel 和 Paul 一直致力于 2.0.0 发布周期的愿景文档。我们将在 1.0.0 发布时为 PMC 进行另一次选举，我们将从那里开始。我们将使 1.0.0 版本成为衡量其他人的基准(考虑到市场，这很难，但每个人都需要目标！)，同时拆除我们的“更好的捕鼠器”并创造一个更好的。

至于完工后会是什么样子，我不能说。我的计划是退出 PMC，在 1.0.0 之后的代码上花更多的时间，让其他人享受指导我们的乐趣。

除了现在我们将有一个稳定的发行版来支持之外，我们很有可能会遵循我们开始时所走的路。增量发布和基准测试很有趣，但它们往往会减慢开发，因为我们需要在发布后立即冻结功能和支持问题。希望，我们将有一个稳定的树，同时并行开发与开发树一起发生。它减轻了每天盯着同样的代码的厌烦。

你已经花费了无尽的时间来免费编码和支持客户。你这样做的动机是什么？你打算从这个项目中赚钱吗？

我喜欢有一个爱好。如果我不做 CMS，我会收集邮票，建造模型飞机，或者其他人的无数爱好中的一个。对我来说，这只是好玩。有时对付偶尔出现的巨魔会很乏味，但总的来说，我不会用任何东西来交换这种体验。

至于钱，我和其他人一样，喜欢把所有的时间花在我觉得最有趣的事情上。我可能会尝试去咨询，或者在其他人运作之后寻找其他机会，但现在我很满足，把我花的时间当作一次学习经历。我交了很多新朋友，但这是金钱买不到的。

Xaraya 项目目前的版本是 0.9.0.4，因此几乎已经完成。你可以下载这个系统并在你自己的网站上安装。许多用户已经这样做了。你可以在这里看到他们的网站。

SitePoint 感谢 John 的宝贵时间！

## 分享这篇文章