# HTML5 常见问题

> 原文:[https://www.sitepoint.com/an-html5-faq/](https://www.sitepoint.com/an-html5-faq/)

在快速介绍完 HTML5 标记之后，您可能会有一大堆问题在脑子里打转。以下是一些可能的答案。

### 为什么这些改变在老版本的浏览器中仍然有效？

为了理解为什么这不是一个问题，我们可以将 HTML5 与 CSS3 中添加的一些新特性进行比较，我们将在后面的章节中讨论。

在 CSS 中，当添加一个新特性时(例如，给元素添加圆角的`border-radius`属性)，该特性也必须被添加到浏览器的渲染引擎中，因此旧的浏览器将无法识别它。如果用户在不支持`border-radius`的浏览器上查看页面，圆角将显示为方形。发生这种情况是因为默认情况下是方角，浏览器会忽略`border-radius`声明。其他 CSS3 功能的行为类似，导致体验在某种程度上有所下降。

许多开发人员预计 HTML5 将以类似的方式工作。虽然这对于我们将在本书后面考虑的一些高级特性和 API 来说可能是正确的，但对于我们到目前为止所讨论的变化来说却不是这样；即更简单的语法、更少的多余属性和新的 doctype。

HTML5 的语法或多或少是在仔细研究了旧浏览器能处理什么和不能处理什么之后定义的。例如，构成 HTML5 中 doctype 声明的 15 个字符是使每个浏览器以标准模式显示页面所需的最少字符。

同样，虽然 XHTML 需要一个更长的字符编码声明和一个额外的属性用于验证，但浏览器实际上从来不需要它们来正确显示页面。我们再次仔细检查了旧浏览器的行为，确定可以简化字符编码并删除`xmlns`属性——浏览器仍然会以同样的方式看到页面。

与对 CSS3 和 JavaScript 的修改不同，后者只在浏览器开发者实际实现它们时才支持添加内容，在使用 HTML5 的标记语法之前，不需要等待新的浏览器版本发布。当谈到使用新的语义元素时，只需要一小段 JavaScript 就可以让任何真正的旧浏览器保持一致。

### 注意:标准模式与怪癖模式

当基于标准的 web 设计还处于起步阶段时，浏览器制造商面临着一个问题:在许多情况下，支持新兴标准会破坏与现有 web 页面的向后兼容性，这些页面是为旧的、非标准的浏览器实现而设计的。浏览器开发者需要一个信号来表明一个给定的页面是按照标准来呈现的。他们在 doctype 中发现了这样一个信号:新的符合标准的页面包含格式正确的 doctype，而旧的非标准页面通常没有。使用 doctype 作为信号，浏览器可以在标准模式(在这种模式下，它们试图在呈现元素的方式上严格遵循标准)和古怪模式(在这种模式下，它们试图模仿旧浏览器的“古怪”呈现功能，以确保页面按照预期的方式呈现)之间切换。

可以肯定地说，在当前的开发环境中，几乎每个网页都有一个合适的 doctype，因此会以标准模式呈现；因此，您不太可能需要处理以古怪模式呈现的页面。当然，如果用户使用非常旧的浏览器(如 IE4)查看网页，页面将使用该浏览器的呈现模式呈现。这就是 quirks 模式所模仿的，不管使用什么样的 doctype，它都会这样做。

尽管 XHTML 和旧的 HTML 文档类型包含了它们所引用的规范的确切版本的信息，但是浏览器从来没有真正利用过这些信息。只要存在看似正确的 doctype，他们就会以标准模式呈现页面。因此，HTML5 的 doctype 已经被精简到在任何浏览器中触发标准模式所需的最低限度。更多的信息，以及一张概述了什么会导致不同浏览器以古怪模式呈现的图表，可以在[维基百科上找到。](http://en.wikipedia.org/wiki/Quirks_mode/)你也可以在 [SitePoint 的 CSS 参考上阅读标准和怪癖模式的概述。](https://reference.sitepoint.com/css/doctypesniffing/)

### 不是所有标签都应该关闭吗？

在 XHTML 中，所有的元素都必须是封闭的——要么使用相应的结束标记(比如`html`),要么在 void 元素的情况下，在标记的末尾加上一个正斜杠。Void 元素是 *不能* 包含子元素的元素(如`input`、`img`或`link`)。

您仍然可以在 HTML5 中使用这种风格的语法——出于一致性和可维护性的原因，您可能更喜欢它——但是不再需要在 void 元素上添加尾部斜杠来进行验证。继续“减少脂肪”的主题，HTML5 允许您从这些元素中省略尾随斜杠，可以说让您的标记更干净、更整洁。

值得注意的是，在 HTML5 中， *可以* 包含嵌套元素的大多数元素——只是碰巧为空——仍然需要与相应的结束标签配对。这个规则也有例外(比如`p`标签和`li`标签)，但是假设它是通用的就更简单了。

### 其他基于 XHTML 的语法习惯呢？

当我们谈到这个主题时，省略结束斜杠只是基于 HTML5 的语法不同于 XHTML 的一个方面。事实上，HTML5 验证器完全忽略了语法样式问题，它只会对可能以某种方式破坏文档的代码错误抛出错误。

这意味着从验证者的角度来看，以下五行标记是相同的:

```
<link rel="stylesheet" href="css/styles.css" />
<link rel="stylesheet" href="css/styles.css">
<LINK REL="stylesheet" HREF="css/styles.css">
<Link Rel="stylesheet" Href="css/styles.css">
<link rel=stylesheet href=css/styles.css>
```

在 HTML5 中，您可以使用小写、大写或大小写混合的标记名或属性，以及带引号或不带引号的属性值(只要这些值不包含空格或其他保留字符)，它都可以很好地验证。

在 XHTML 中，所有属性都需要有值，即使这些值是多余的。例如，在 XHTML 中，您经常会看到这样的标记:

```
<input type="text" disabled="disabled" />
```

在 HTML5 中,“开”或“关”的属性(称为布尔属性)可以简单地指定为不带值。因此，前面提到的`input`元素可以写成如下形式:

```
<input type="text" disabled>
```

因此，HTML5 对验证的要求非常宽松，至少就语法而言是这样。这是否意味着您应该发疯，在任何给定的元素上使用您想要的任何语法？不，我们当然不建议这样做。

我们鼓励开发人员选择一种语法风格并坚持使用——特别是如果您在一个团队环境中工作，代码维护和可读性是至关重要的。我们还建议(尽管这是可选的)在保持一致性的同时，选择一种极简的编码风格。

以下是您可以考虑使用的一些准则:

*   像在 XHTML 中一样，对所有元素和属性使用小写。

*   尽管有些元素不需要结束标签，我们建议所有包含内容的元素都要结束(如`<p>Text</p>`)。

*   虽然您可以让属性值不加引号，但是很可能会有需要引号的属性(例如，当声明多个由空格分隔的类时，或者当将查询字符串值追加到 URL 时)。因此，为了保持一致，我们建议您始终使用引号。

*   省略 void 元素的尾部斜杠(如`meta`或`input`)。

*   避免为布尔属性提供多余的值(例如，使用`<input type="checkbox" checked>`而不是`<input type="checkbox" checked="checked">`)。

同样，这些建议并没有被普遍接受；然而，我们相信它们是实现干净、易读、可维护的标记的合理语法建议。

如果你的代码风格有些混乱，包括太多不必要的东西，你只是在毫无理由地增加额外的字节。您还可能使您的代码更难维护，特别是如果您与其他开发人员在相同的代码基础上工作。

![htmlcss2thumb](../Images/d1b531ecd770df998ea32dbc2cf0f23c.png)

以下是我们的书的摘录，由 Alexis Goldstein、Louis Lazaris 和 Estelle Weyl 撰写的《真实世界的 CSS3，第二版。世界各地的商店都有出售，或者你可以在这里买到电子书。

## 分享这篇文章