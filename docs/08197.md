# 提高编码质量的 10 个技巧

> 原文:[https://www.sitepoint.com/10-tips-for-better-coding/](https://www.sitepoint.com/10-tips-for-better-coding/)

编写代码有时可能是任何软件开发过程中最困难的部分。如果你没有从一开始就组织好一切——特别是对于大项目——编码过程和之后的代码管理可能不仅耗时，而且令人头疼。

好的代码是可维护的、可重用的和可测试的。下面的技巧介绍了您和/或您的开发团队如何处理各种编码任务，以及如何尽可能保持一切整洁。我将向您介绍一些“最佳实践”,它们将帮助您编写更好的代码，并让您和您的团队快乐而高效。

## 1.使用编码标准

编写糟糕的、无组织的代码很容易，但是维护这样的代码很难。好的代码通常遵循一些命名约定、格式等标准。这样的标准很好，因为它们让那些后来阅读你的代码的人，包括你自己，对事情有了确定性。

您可以创建自己的编码标准，但是最好坚持一个被广泛接受的标准。公开维护的标准，如 Zend 框架编码标准或即将成为 T2 的 PSR-1 编码风格指南，对其他人来说更容易适应。

## 2.写有用的评论

评论至关重要。你不会欣赏它们，除非你离开你的千行脚本几天，然后回去试着理解它。有用的注释让你和你之后那些必须维护你的代码的人的生活变得更容易。

为模糊的行写有意义的单行注释；为函数和方法编写完整的参数和功能描述；对于复杂的逻辑块，如果必要的话，在它之前用文字描述逻辑。别忘了，永远保持你的评论是最新的！

## 3.重构

代码重构是高效开发人员的第八个习惯。信不信由你，你应该每天重构你的代码，否则你的代码就不健康！重构让你的代码保持健康，但是你应该重构什么，如何重构？

你应该重构一切，从你的架构到你的方法和函数，变量名，一个方法接收的参数数量，等等。

如何重构与其说是一门科学，不如说是一门艺术，但是有一些经验法则可以给我们一些启示:

*   如果你的函数或方法超过 20-25 行，很可能你在里面包含了太多的逻辑，你可以把它分成两个或更多的小函数/方法。
*   如果您的方法/函数名称超过 20 个字符，您应该重新考虑名称，或者通过回顾第一条规则重新考虑整个函数/方法。
*   如果你有很多嵌套循环，那么你可能正在做一些资源密集型的处理而没有意识到。一般来说，如果你嵌套了 2 个以上的循环，你应该重新考虑逻辑。三个嵌套循环太可怕了！
*   考虑您的代码是否可以遵循任何适用的设计模式。你不应该仅仅为了使用模式而使用模式，但是模式提供了可靠的现成的解决方案。

## 4.避免全局代码

全局变量和循环是一团乱麻，当你的应用程序增长到数百万行代码时(大多数都是这样！).它们可能会影响其他地方难以识别的代码，或者导致嘈杂的命名冲突。在用变量、函数、循环等污染全局命名空间之前，请三思。

在理想情况下，不应该有全局定义的块。那就是。所有 switch 语句、try-catch、foreach、while-loops 等。应该写在方法或函数中。方法应该写在类定义中，类和函数定义应该在命名空间中。

## 5.使用有意义的名称

永远不要给你的变量使用像`$k`、`$m`和`$test`这样的名字。如何期望在未来阅读这样的代码？好的代码应该在变量名、函数/方法名和类名方面有意义。一些有意义的名字的好例子有:`$request`、`$dbResult`和`$tempFile`(根据您的编码风格指南，这些名字可能使用下划线、驼峰字符或帕斯卡字符)。

## 6.使用有意义的结构

构建您的应用程序非常重要；不要使用复杂的结构，始终坚持简单。命名目录和文件时，请使用您与团队达成一致的命名约定，或者使用与您的编码标准相关的命名约定。始终将任何典型 PHP 应用程序的四个部分彼此分开——CSS、HTML 模板/布局、JavaScript、PHP 代码——并且每次都尝试将库与业务逻辑分开。让您的目录层次尽可能浅也是一个好主意，这样更容易导航和找到您正在寻找的代码。

## 7.使用版本控制软件

在过去，优秀的开发团队依赖 CVS 和 diff 补丁进行版本控制。然而现在，我们有各种各样的解决方案。管理变更和修订应该简单而有效，所以选择最适合开发团队工作流程的版本控制软件。我更喜欢使用像 Git 或 Mercurial 这样的分布式版本控制工具；两者都是自由软件/开源，非常强大。

如果你不知道什么是版本控制软件，我推荐你读一下 Sean Hudgston 的 Git 系列[介绍。](https://www.sitepoint.com/introduction-to-git-1/)

## 8.使用自动化构建工具

尝试使用 Ant 或 Phing 之类的工具来准备、压缩和部署您的源代码。用一个命令构建整个应用程序是防止在执行重复任务时固有的错误和遗漏的一个极好的方法，并且通常是自动化测试策略的核心先决条件。我推荐使用 Phing，这是一个为模仿 Ant 而编写的、得到良好支持的 PHP 构建工具；如果你不熟悉它，可以看看 Shammer C 的文章[使用 Phing](https://www.sitepoint.com/using-phing/) ，PHP 构建工具和 Vito Tardia 的文章[用 Phing](https://www.sitepoint.com/deploy-and-release-your-applications-with-phing/) 部署和发布你的应用。

## 9.使用代码文档

对于跨越多个类和名称空间的大型应用程序，您应该已经自动生成了 API 文档。这非常有用，可以让开发团队知道“什么是什么”如果您同时在几个项目上工作，您会发现这样的文档是一种福气，因为您可能会忘记在项目之间来回切换的结构。您可能会考虑使用的一个文档管理器是 [DocBlox](http://mwop.net/blog/265-Using-DocBlox.html) 。

## 10.使用测试框架

有很多工具是我非常欣赏的，但是到目前为止，我最欣赏的是帮助自动化测试过程的框架。测试(尤其是系统测试)对你价值百万美元的应用程序的每一部分都至关重要。好的测试工具是用于对 PHP 类进行单元测试的 [PHPUnit](https://www.sitepoint.com/getting-started-with-phpunit/) 和 [SimpleTest](http://www.simpletest.org/) 。对于 GUI 测试，我推荐 [SeleniumHQ 工具](http://seleniumhq.org/)。

## 摘要

在本文中，您看到了编写更好代码的一些最佳实践的概述，包括使用编码标准来统一整个团队的代码格式，重构的重要性以及如何接受重构，以及使用测试框架、代码文档管理器和版本控制等专业工具来帮助管理您的代码库。如果你还没有遵循这些建议，那么努力采纳它们并让你的团队走上正轨是值得的。

<small>图片 via[DJ Taylor](http://www.shutterstock.com/gallery-749095p1.html)/[Shutterstock](http://www.shutterstock.com)T5】</small>

## 分享这篇文章