# Shell 脚本配方

> 原文：<https://www.sitepoint.com/shell-scripting-recipes/>

对于许多人来说，命令行意味着许多事情。一些用户害怕运行，更喜欢使用 GUI 进行点击式管理。其他的只能在 Bash Shell 的温暖环境中工作。

我生活在两个世界中，在开源世界中发现了奇妙的系统管理解决方案，我最喜欢的是 [Webmin](http://www.webmin.com) 。然而，对于我的许多任务和脚本需求，我不断地返回命令 shell。在我使用 Mac OS X 作为我的操作系统的情况下，这变得更加方便，具有世界一流的 GUI 和底层 BSD Unix 工具的好处。

一段时间以来，我认为自己非常擅长命令行。直到克里斯·约翰森的 Shell 脚本程序出现在我的桌子上。Johnson 是在 1990 年接触到 Unix 和 shell 的，这比我有幸成为大师早了 5 年。

退一步说——我们许多管理服务器的人会使用 shell 进行 SFTP 或 SSH 会话，管理 MySQL、邮件服务器、web 服务器等应用程序。此外，我们经常会为一些练习编写一些有用的脚本，例如备份数据、复制到其他服务器、检查日志以及清理缓存和队列。

Johnson 将 shell 提升到了一个新的层次，提供了一个跨实用程序和功能的扩展视图，这些实用程序和功能能够处理非常复杂的问题，甚至能够构建在命令行上运行的应用程序，无论它们是用于系统管理，还是用于我们的一些更高级的用户或拥有管理自己的域的技术人员的客户。

Johnson 恰当地从 POSIX shell 中可用的核心功能和实用程序的介绍开始。这使得他的书的读者可以在今天的普通 shell 中利用这些知识，这是 POSIX shell 的一种或另一种派生形式。我确实认为第一章更像是一个概述，而不是直接进入 Unix 功能的概要——这可能是全新 shell 用户的绊脚石。尽管任何有一些命令行经验的人都应该可以很好地适应这些内容。

除了介绍之外，shell 脚本编写方法也变得严肃起来，按功能分解 Shell 功能——查看文本文件的操作、处理字符串、数学函数、处理日期等等。

我发现有几章对我处理的问题非常有益。首先是使用 PATH(第 7 章)，这是我们大多数人在 Linux 系统上构建应用程序时遇到的问题。Johnson 的提供了三个有用的脚本(checkpath、addpath 和 rmpath ),允许管理员处理用户路径。这对于那些在你的服务器上运行定制应用的客户来说很方便。

停留在最终用户主题上——我很高兴被介绍给 pop3-funcs(第 10 章)。这在许多级别上引入了对 pop 邮箱进行故障排除的功能，从简单的邮件和大小计数到将邮件头收集到一个阵列中以便从技术支持的角度进行手动审查或过滤。此外，Johnson 还介绍了 pop3list，它在 shell 中就像一个伪电子邮件客户端。我发现这是一个测试需求的理想工具，也许是在部署一个 web 应用程序(或修补它)时验证消息到客户端邮箱的传递，而不是配置我自己的客户端来测试我不会使用的域。

在第 16 章中，Johnson 用一些我将会用到的有用的工具进入了 HTML 的世界。我可以想到他的 mk-htmlindex 在内部网和外部网上的许多用途，它索引一个没有 index.html 文件的文件目录，并覆盖 Apache 的默认设置。这允许用户在创建目录列表时格式化和控制文件头。不是什么新东西，但我也喜欢 Johnson 的 text2html 脚本，它将文本文件转换成 html。我有很多需要将大量文件转换成简单 html 的例子。与我将文本文件加载到 Dreamweaver 并逐个应用模板的正常过程相比，这可以节省我的时间。

最后——约翰逊写了一本书，从几个角度审视了贝壳:

*   作为命令行用户的强大工具，
*   作为高级用户的应用程序环境，
*   作为系统管理员的深度函数库。

看一下[目录](http://apress.com/ApressCorporate/supplement/1/419/1590594711-2744.pdf) (PDF)就会发现，在 shell 脚本编写方法中可能有适合每种类型的 Shell 用户的东西。

## 分享这篇文章