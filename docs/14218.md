# 是什么让你远离 PHP5？

> 原文:[https://www.sitepoint.com/whats-keeping-you-from-php5/](https://www.sitepoint.com/whats-keeping-you-from-php5/)

首先，作为 SitePoint 的内部 PHP 程序员/茶水男孩，我将代替哈里作为客座博主，在二月苏黎世的降雪中寻找出路。希望我们能很快看到他回来并解冻；-)

是什么让你远离 PHP5？对我来说，这个问题适用于三个方面。它包括我们在 SitePoint 的 PHP 代码库上所做的工作，我们为客户的项目所做的工作以及我在业余时间做的修补工作。

只有在后一种情况下——凌晨 2 点辛苦工作的 PHP 极客们在宣誓仪式上承诺要做的——我才表现出转向 PHP5 的迹象。SitePoint.com 在 PHP4 中根深蒂固，尽管 PHP5 提供了许多我想利用的增强功能。

我怀疑许多，事实上是大多数，使用 PHP 的大型定制网站仍然运行在 PHP4 上，没有计划(至少短期内)进行转换。事实上——也许因为这是我的第一个博客——我不会把毫无根据的主张抛到九霄云外；那么让我们来看看:

http://www.php.net/
X-power-By:PHP/4 . 3 . 3-dev

http://www.vbulletin.com/
X-power-By:PHP/4 . 3 . 11-dev

http://www.friendster.com/
X-power-By:PHP/4 . 3 . 8

Friendster 是一个有趣的例子，考虑到他们的[广为人知的](http://jeremy.zawodny.com/blog/archives/002150.html)——也是相对较新的——从 JSP 转换到 PHP。

当然，如果有时间跳上 PHP5 的高度面向对象和异常处理的潮流，那一定是在从头开始重写的时候。

php.net 仍在运行 PHP 4 的事实确实很能说明问题。还没找到任何关于原因的小道消息，也许有人知道些什么？

我们的体验可能与其他长期运行的 PHP 支持的网站非常相似；我们有一个庞大的代码库，其中大部分被亲切地称为“遗产”。

然而，就其本身而言，这不是问题。PHP5/PHP4 的兼容性近乎完美，直到您碰到一些对象和引用的棘手问题。这些问题也很容易解决，尽管在上线之前几乎不可能找出所有的问题。就像任何新的软件版本一样，不兼容是意料之中的。

当你遇到更深奥的不兼容性时，真正的麻烦就来了；如果没有程序状态的某种组合，就不容易预测或发现。我在试图让 [WordPress 在 PHP5](http://wordpress.org/support/2/12138) 上运行时遇到的一个例子。

"单元测试在哪里？"我听到哈利在想…

这种情况当然不能怪 PHP。bug 就是 bug，依赖“未定义的行为”从来都不是好的做法。但是，随着 PHP 语言的成熟，这些场景在一个大规模的应用程序中几乎是势不可挡的。

我不记得当我们从 PHP3 切换到 PHP4 时有过这样的摩擦。我认为这其中的关键是我们可以在一个 Apache 安装中相对简单地运行 PHP3 和 PHP4。不幸的是，对于 PHP5 来说，绝大多数情况下绝对不是这样。

在一个个人服务器上，我和一些 SitePointers 伙伴分享了我们(也许是天真地)选择使用 PHP5 的信息，并且我正在获取额外的 IP 地址，这样我就可以为 PHP4 运行一个完全独立的 Apache 进程。

PHP5 有很多我想要的东西；这是目前最好的啤酒，但是我还不能做出改变。

那么是什么阻止了你呢？有哪些大型网站**正在使用 PHP5？**

## 分享这篇文章