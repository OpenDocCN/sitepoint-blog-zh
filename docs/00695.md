# Sentry.io 错误跟踪入门

> 原文:[https://www . site point . com/getting-started-with-sentry-io-error-tracking/](https://www.sitepoint.com/getting-started-with-sentry-io-error-tracking/)

*本文是与[哨兵](https://synd.co/2PfA4TE)合作创作的。感谢您对使 SitePoint 成为可能的合作伙伴的支持。*

写代码可能很有趣。测试它是另一回事。当然，SitePoint 阅读器总是能产生无错误的应用程序，但是错误仍然会溜进最好的产品代码中。您如何发现这些问题？…

## 试验

编写软件来测试软件是一种选择。可以采用单元测试和集成测试来验证相应的功能和接口。不幸的是:

1.  当产品需求不断发展时，编写测试可能会很困难。
2.  你确定你的测试涵盖了每一个选项和途径吗？
3.  谁在测试你的测试？

测试是有帮助的，但是这个行业仍然发布有缺陷的软件，因为最终不可能覆盖所有的缺陷。在一天中的特定时间，某个浏览器、特定操作系统中是否会出现 bug？

此外，众所周知，浏览器测试非常复杂，原因在于:

*   **多种设备和应用**。在台式电脑、平板电脑、智能手机、电视、游戏机、智能手表、物联网设备等设备上，有一条长长的旧的、新的和模糊的浏览器尾巴。不可能测试所有的东西。
*   **用户控制**。任何用户都可以选择是否下载、阻止或修改应用程序的任何部分。例如，当追踪功能被禁用时，Firefox 会屏蔽 Google Analytics 记录分析事件可能会导致整个应用程序失败。
*   **网络故障**。即使用户允许你扔给他们的每一个文件，也不能保证他们会收到所有的图片、CSS、JavaScript 和其他资产。旅行或使用不稳定的酒店 wi-fi 加剧了这个问题。

## 用户反馈

你有没有看过别人用你的软件？他们总是做一些你意想不到的事情。每次看到有人在 Google.com 搜索框中输入网址，我都会退缩。

人类善于根据以往的经验找到自己完成任务的方法。这些过程可能有效，也可能无效，但是它们很少符合你的期望，因为你的经历是不同的。一个 bug 的出现可能是因为一系列任务的处理方式在你看来不合逻辑。

此外，大多数用户永远不会报告错误。他们不知道是你的应用程序、浏览器还是操作系统出了问题。许多人可能会责怪自己，不知道该联系谁，或者干脆转向竞争产品。

报告问题的用户很少能够描述问题，除非他们有软件工程的专业知识。面对几十张*“ProductX 不工作”*的出票，很沮丧。

最终，我们应该依靠客户来报告问题吗？

## 记录

记录错误是可能的，但是:

1.  如何记录完全出乎意料的错误？
2.  如果应用程序失败，日志记录代码还会运行吗？
3.  如何在您无法控制的环境中记录错误，比如浏览器？
4.  部署后，一个错误可能会被记录成千上万次。在已知问题中识别关键缺陷可能很困难。

幸运的是， [Sentry.io](https://synd.co/2PfA4TE) 提供了一个可以捕捉最模糊问题的解决方案。

## Sentry.io 快速入门

[Sentry.io](https://synd.co/2PfA4TE) 是一个开源的全栈错误跟踪系统，支持广泛的服务器、浏览器、桌面和原生移动语言和框架，包括 PHP、Node.js、Python、Ruby、C#、Java、Go、React、Angular、Vue、JavaScript 等。Dropbox、AirBnB、PayPal、优步、reddit、Mozilla、MailChimp 和微软都使用该系统来监控成千上万的应用程序。

[Sentry.io 开发者账户是免费的](https://sentry.io/pricing/),为大型团队提供商业选项，在多个项目中生成数以千计的事件。你可以使用 GitHub、Azure DevOps 或 Sentry.io 账户[快速注册](https://sentry.io/signup/)。

登录后，系统会提示您输入新项目的名称并选择一种技术来启动该项目:

![Sentry.io project settings](../Images/666fbdb02c2bd1fe8e59264a3012e283.png)

然后，您将获得插入到您的应用程序中的代码。客户端 JavaScript 的一个典型示例需要几行新代码:

![Sentry.io integration settings](../Images/539c17a5e5e78116ff0580dcda2b4ff4.png)

您可能需要设置多个监视器来同时检测应用程序的浏览器 UI、移动应用程序和后端服务器中的问题。

整个过程需要几分钟。一旦部署了您的应用程序，用户遇到的任何错误—*无论他们是否意识到这些错误(*)都会在 Sentry.io 问题流中被实时自动捕获和跟踪:

![Sentry.io issue stream](../Images/a9e888fa68cf0b5561975a9d410ee57c.png)

相同的问题显示为单个条目，其中报告了问题被触发的次数以及受影响的用户数量。可以检查进一步的详细信息，以确定产品版本、问题严重性、操作系统、浏览器、IP 地址、日期、调用堆栈等:

![enter image description here](../Images/364ebd3bd3b1a7dce4450eef7d2339f6.png)

除基本功能外，Sentry.io 还包括:

*   定义发布版本、代码库、服务器名称、URL 等的配置设置。
*   用户信息、消息、标记和自定义事件
*   记录更多信息的用户反馈部件
*   入站邮件过滤规则
*   分配给团队成员的问题
*   标记、解决、忽略、共享和删除问题
*   活动和问题报告
*   报告操作系统或构建问题的命令行可执行文件
*   一个完整的 API 来提交、检索、更新、删除和管理事件数据
*   内部安装
*   通过可选的双因素身份认证提供强大的安全性
*   与 Slack、HipChat 和其他工具的聊天集成
*   商业和社区支持选项。

[Sentry.io](https://synd.co/2PfA4TE) 每月记录超过 200 亿个错误*(大部分来自我的代码！)*开发者账号免费，每月包含 5000 个错误。[今天](https://sentry.io/signup/)雇佣 Sentry.io 作为你 Q & A 队的最新成员！

## 分享这篇文章