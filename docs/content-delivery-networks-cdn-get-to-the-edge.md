# 内容交付网络(CDN):走向边缘！

> 原文：<https://www.sitepoint.com/content-delivery-networks-cdn-get-to-the-edge/>

“一张照片胜过千言万语”是 20 世纪 20 年代早期创造的短语，直到 2000 年代才开始流行。但是相信我，这个世界真的已经改变了！当今世界是由视频等数字内容定义的。使用 800 万像素摄像头在您的移动设备上记录，上传到试管(任何试管；) )，并分享！数字内容的增长违背了[摩尔定律](http://en.wikipedia.org/wiki/Moore%27s_law)，而且是以非常积极的方式。处理这种天文数据增长的技术正在发展，名字也很贴切:[大数据](http://en.wikipedia.org/wiki/Big_data)！

现在，无论这些数据驻留在哪里，让用户不必等待很长时间就能获得这些数据是非常重要的！这可能是你在网飞上看电影的情况，或者通过在零售商的网站上查看高清图片和视频来试图在线购买你的下一双鞋，你会希望它很快很快。你一定会说，这已经足够快了，我从来没有遇到过任何问题！你猜怎么着？他们已经在网络的边缘，离你更近，简而言之，他们使用的是**内容交付网络(CDN** )。

# CDN 是如何运作的？

至少，CDN 是一个跨地理区域拥有大型分布式服务器的系统。CDN 可以更快地向最终用户提供内容，并确保其高度可用。让我们通过一个基本场景来更好地理解没有和有 CDN 的情况。在一个没有 CDN 的世界里，你将在一个点上托管你所有的内容。所有流量都将指向同一台服务器，这可能会导致单点故障。举个例子，你的服务器托管在美国，来自澳大利亚的用户会往返于美国服务器来获取内容。几千名用户请求相同的内容将意味着数千次往返，导致更高的带宽消耗、最终用户的更低速度以及流和媒体加载中的缓慢页面加载/抖动。

```

*Image courtesy:Wikipedia*
```

欢迎来到 CDN:您的服务器分布在世界各地。内容根据需要或基于特定逻辑跨服务器复制。当用户请求文件时，智能算法会找出离用户最近的服务器，并将文件传送重定向到该服务器。此外，离你更近的服务器可能会因为很多请求而缓存一个流行的文件，它会更快地提供给你！这就是 CDN 的承诺。在前面的例子中，我们考虑过，如果一个澳大利亚用户请求一个视频，而该视频当前在澳大利亚的服务器上不可用，那么澳大利亚的边缘服务器将按需从美国的服务器获取一个拷贝。对同一文件的所有后续请求都将由澳大利亚的边缘服务器提供服务，对用户来说会更流畅。

```
*![](img/7a9e0cc484a8deb4c7dc49ec12d30ef9.png)*
*Image courtesy:Wikipedia*
```

# CDN 中使用的技术

Web 缓存经常用于在特定时间段内缓存内容。这非常有用的一个场景是文件被不同的用户重复查询。想想新产品的发布，或者像病毒一样传播的视频！服务器负载平衡是服务器或 web 缓存中经常使用的另一种技术。这增加了可扩展性，还通过消除单点故障的风险提高了可靠性。负载平衡本身就是一个大话题，最好分开处理。除此之外，在确定从哪个服务器传送文件时，使用了多种算法。算法根据各种因素确定服务器选择文件，如服务器过去的可用性、文件检索所需的网络跳数等。随着时间的推移，算法已经发展到收集交通流量和拥堵数据，并主动报告这些事件。最重要的是，已知的拥塞点可以用来更好地路由流量。

# CDN 考虑事项

在评估为您的网站/内容选择 CDN 时，需要考虑某些因素:

*   **地理位置**:您希望为您当前和未来的用户群提供哪些地理位置的服务。CDN 提供商在所有这些地区都有服务器来满足您的所有用户需求吗？如果没有，近期有什么计划。
*   **成本或性能**:实施 CDN 的动机可以是提高性能，也可以是降低现有带宽的成本。虽然这两个目标在这种情况下趋于一致，但可能会有这样的情况，你必须权衡其中一个。就成本而言，您可能希望考虑各种选项，如在一定期限内以固定价格购买固定配额，或者完全按月订购 CDN 即服务。
*   **复制**:您的应用程序需要什么样的复制，您对预算内的给定服务提供商是否满意？

# CDN 的优势

最终用户是最大的受益者:页面加载速度更快，媒体内容等大文件的加载没有“抖动”！通过在不同的数据中心制作多个数据副本并分布到世界各地，可以防止单点故障，同时在过程中备份您的数据。即使其中一台服务器由于某种原因关闭，流量也可以路由到附近的其他服务器，而不会影响最终用户。使用 CDN 的一个重要但不容易发现的好处是节省带宽。通过将请求重定向到离用户更近的服务器，源服务器上的流量减少，从而显著降低了总体流量和带宽成本。

# CDN 提供商

Akamai 是最大和历史最悠久的 CDN 提供商之一。亚马逊提供 CDN 服务- [亚马逊 CloudFront](https://aws.amazon.com/cloudfront/) ，Rackspace 提供[云文件](http://www.rackspace.com/cloud/public/files/)，并使用 Akamai 的服务。对于初学者来说，一些 CDN 提供商对某些数据限制提供免费服务，如 [CloudFlare](https://www.cloudflare.com/) 或 [Incapsula](http://www.incapsula.com/) 。电信提供商也进入了这个领域，如美国的 [AT & T](http://att.com/) 或印度的 [Bharti Airtel](http://www.airtel.in/) 。电信运营商的优势之一是他们已经有了最后一英里的连接和基础设施投资。

# 结束语

本质上，内容交付网络是基于[端到端原则](http://en.wikipedia.org/wiki/End-to-end_principle)。一方面，它们改善了最终用户的体验，另一方面，它们提供了高可用性和故障转移机制。当你为全球观众设计下一代媒体中心网站时，一定要记住 CDN！

## 分享这篇文章