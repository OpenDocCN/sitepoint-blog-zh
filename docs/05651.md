# 一个更好的验证码:我们到了吗？

> 原文:[https://www.sitepoint.com/better-captcha/](https://www.sitepoint.com/better-captcha/)

[![Photo: Anna Fischer](../Images/94e4a13a7c11e07da0002a67279e40d4.png) ](http://www.flickr.com/photos/27594459@N04/5926581052/) 图片:安娜·费舍尔 [验证码](http://en.wikipedia.org/wiki/CAPTCHA "Wikipedia: CAPTCHA")(区分计算机和人类的完全自动化的公共图灵测试)是任何可用性专家的噩梦，但如果我们想减少垃圾邮件，我们确实需要它们或其他东西。

虽然有许多验证码的替代品(或不太为人所知的验证码种类)，但你可能会说它们都不够好，不能在网上大量使用。

现有的一些验证码替代方案可以在某些情况下用作验证码替换，但它们一般不会解决问题。这是一个非常现实的问题——验证码会损害用户体验和转化率。

## 完美的反垃圾邮件解决方案

我们都见过各种反垃圾邮件产品的广告，声称它们是最终的反垃圾邮件解决方案。

然而，你不需要成为一个天才来阅读市场行话，就能发现一个特定的解决方案要么很容易规避(因此不可靠)，要么需要太多的努力(即不便于用户使用)，要么产生太多的误报/漏报。

一个用户在一个旧的帖子中询问了关于验证码替代方案的问题，并且列出了这些替代方案应该满足的要求:

1.  它必须是可访问的。

2.  它必须无中断并且对最终用户透明。

3.  它不能分散或偏离网页的主要目的。

4.  它必须是自动化的，或者在大规模上只需要很少的调节。

5.  它不能是第三方服务。

虽然我认为我们大多数人可以接受最后一个要求(即第三方服务，前提是它是可靠的和用户友好的)，但基本上用户列出的要求是足够好的反垃圾邮件解决方案的特征。

除此之外，我想再补充两点:

1.  它不应该给服务器/浏览器带来巨大的压力。

2.  它必须有一个低百分比的假阳性和假阴性。

虽然这 7 个要求听起来不太多，但事实证明它们仍然是一个不可能的梦想，因为目前没有比验证码更好的反垃圾邮件技术。

因此，让我们讨论一下主要的验证码种类和替代品，这样你就可以自己看到，不幸的是，在所有情况相同的情况下，(文本)验证码是较小的邪恶。

## 验证码种类和其他反垃圾邮件的替代品

### reCAPTCHA

当我们说验证码时，我们基本上是这样想的:

![reCAPTCHA](../Images/e4b2f86009ff7203c3f65521e98d902e.png)

这种验证码被称为 [reCAPTCHA](http://www.google.com/recaptcha/whyrecaptcha) ，它现在是谷歌的一部分。reCAPTCHA 显示“字母代码”,它通常不会形成一个要求用户输入的单词(以防止字典攻击)。

这个字母代码在视觉上被扭曲以阻止 [OCR](http://en.wikipedia.org/wiki/Optical_character_recognition "Wikipedia: OCR") 机器人。当然，机器人越难阅读，用户也越难阅读。

#### reCAPTCHA 优点:

reCAPTCHA 提供了两个提高可用性的选项:如果当前字母组难以辨认，可以选择请求新的字母组；如果字母拼写错误，可以选择播放音频。

#### reCAPTCHA 缺点:

通常，无论你刷新多少次，你得到的都是一组同样难以辨认的新字母。这就是我们都知道的 reCAPTCHA 的烦恼。那是压扁的 L 还是压扁的 1？

第二个反复出现的问题是音频回退选项可能对许多用户没有太大帮助。

例如，如果用户的听力受损，或者如果他或她只是不理解所拼写的字母的名称，国际用户可能就是这种情况。也许他们能读懂你的英文内容(也许在谷歌翻译的帮助下)，但是声音..也..五只…杰伊…蜜蜂…em 对他们来说毫无意义。

对于使用旧设备和/或图书馆个人电脑和网吧的用户来说，即使仅仅需要一个工作声卡也是一个问题。

reCAPTCHA 是最常见的类型，但不是唯一的类型。在许多情况下，一些较少使用的品种可能是更好的选择。

以下是一些验证码的种类及其优缺点。

### 纯音频验证码

顾名思义，音频验证码使用声音而不是文本来过滤机器人。reCAPTCHA 本身有一个音频选项，所以如果你想尝试这个概念，你不必再看了。

至于缺点，我们在上一节已经讨论过了——对听力受损和/或国际用户的障碍。

总而言之，音频验证码通常比普通的 reCAPTCHA 好不了多少。

### 图像验证码

图像验证码比音频验证码更能替代标准文本验证码。使用图片验证码，你可以显示图片而不是文本，并询问用户他或她在图片中看到了什么。

![Click the flower](../Images/a97ca1d2217431b743be37750c5192e8.png)

#### 图像验证码的优点:

它把验证码过程变成了一个游戏。

#### 图像验证码的缺点:

这种方法有几个问题。

首先，你需要一大堆不断变化的图像来显示。如果你只有，比如说，100 张图片，人类检查和训练一个简单的机器人输入什么并不困难。

其次，这些图像必须清晰易懂。它们必须是简单的物体——一个苹果、一只猫、一辆汽车等。这是每个人都清楚的。如果你放一些花哨的东西，你永远不知道你的用户将如何解码图像，以及他们将不得不重新提交验证码多少次。

第三，语言障碍再次成为一个问题。对于一个以英语为母语的人来说，一个简单的对象可能很容易写，但是有些国际用户甚至不一定知道基本的英语单词。

### 视频验证码

视频验证码是另一种验证码。它们是最不受欢迎的，因为最难提供合理数量的视频，这些视频需要存储空间，而且，不是每个人都能观看和理解它们。

### 简单的数学/问题验证码

![Math question](../Images/a7fb7eb89d0703f58c4336d8256fa8ee.png)

我怀疑，在文字验证码之后，这是第二种最受欢迎的验证码。

原理是这样的:你输入一个简单的数学题或问题，比如“2+2=？”或者“一年中哪个月最短？”并且用户必须输入答案。

由于数学是通用的，国际用户没有语言障碍，但验证码问题却不是这样。这就是为什么，如果你想选择基于问题的选项，你最好只选择数学问题。

### 3d 验证码

基本上，3D 验证码比 reCAPTCHA 本身更令人恼火，但是如果你想试验一下你的用户是否会更喜欢它们，你可以这样做。3D 验证码看起来不那么简单，但它们甚至更难阅读。你可以尝试一下，但我的感觉是你的用户不会觉得它们更有吸引力。

## 验证码替代方案

除了验证码种类之外，还有许多不基于验证码的替代品。我不想听起来有偏见，但这些替代方法中的大多数甚至没有接近验证码的效率。阅读这些选择，自己判断我们是否会被验证码困扰多年。

### 复选框

![Checkbox: Tick this if you are not a bot.](../Images/82a2e3ba5390b562229a638c51d49912.png)

字段旁边的复选框，如“如果您是人类/不是机器人，请检查此处。”是最好的验证码替代品之一。复选框是使用基于客户端的 JavaScript 生成的，理论上它们对机器人是不可见的。它们不像验证码那样烦人，但是用户很容易错过。

复选框不是 100%防僵尸的，也不是所有用户都启用了 JavaScript，但是如果你绝对讨厌验证码，你可以试试复选框。

最重要的是，如果这种方法获得了很大的市场份额，编写一个利用它的机器人将是微不足道的。

### 蜜罐

蜜罐使用相反的方法，本质上是要求机器人识别自己。

一个表单将包含一个对人类不可见的字段，只有对机器人可见。这些机器人被设计得又快又简单。当他们看到一个领域需要被填充，他们就会去做，从而暴露自己。

在所有验证码的替代品中，蜜罐看起来最有希望。它们通常通过 CSS 实现，所以没有客户端赌博。

然而，它们也有缺点。

首先，您需要添加一个警告，提醒使用屏幕阅读器的用户不要填写该字段。其次，隐藏的文本可能会被搜索引擎怀疑，这可能对 SEO 不利。

### 基于规则的过滤

很可能你已经在使用基于规则的过滤，但你甚至不知道。一个很好的例子就是 [Akismet](http://akismet.com/ "Website: Akismet spam prevention") 。您设置了使评论/帖子成为垃圾邮件的规则，当帖子/垃圾邮件符合标准时，就会被标记。

[![Akismet spam filtering service](../Images/5ca83110410c40345dc7ca362acdf395.png)T2】](http://akismet.com/)

基于规则的过滤可以产生良好的结果，尤其是如果您将它与手动管理结合起来。大多数情况下，创建规则是为了搜索给定的关键字。如果它们出现在帖子中，该帖子将被标记为垃圾邮件。

### IP 白名单和黑名单

IP 白名单和黑名单很少有用，因为它们很容易被欺骗，并且有很高的误报和漏报率。通过 IP 白名单和黑名单，您可以创建允许的(“白”)IP 和禁止的(即“黑”)IP 的列表。

如果你认为一个黑名单上的 IP 可以在代理的帮助下很容易地被绕过，或者简单地从不同的位置发帖，那你就对了。事实上，一个简单的浏览器扩展就可以绕过这种防御。

更有甚者，一个合法用户经常会被列入黑名单，因为他或她的 IP 地址过去曾被垃圾邮件发送者使用过。仅此一点就使得白名单/黑名单成为一个特别笨拙的解决方案。

事实上，这种方法很可能会产生更多的问题，但如果你没有其他方法，作为最后的手段，你可以尝试一下。

### 电话/电子邮件确认

有可能包括多一种类型的用户验证-让他或她通过电子邮件或电话确认他或她不是机器人。电话验证在电子商务中可能很有用——你可以打电话给用户，确保这是一个活生生的人，然后你才能发货，但在许多其他情况下，这只是一种过度的做法。

### 其他服务

一个好的反垃圾邮件解决方案的要求之一是它不使用第三方服务，但因为我相信这不是一个交易破坏者，让我们也包括它。毕竟，reCAPTCHA 本身是一个第三方服务，因为输入的符号是在他们的服务器上验证的，而不是在你的服务器上。

如果你只允许在网站注册的用户发帖，比如 [OpenID](http://openid.net/ "Website: Openid.net") 、 [Disqus](http://disqus.com/) 、[脸书](https://www.facebook.com/ "Facebook")或 [G+](https://plus.google.com/ "Google Plus") ，你就可以减少垃圾邮件。但是，机器人也可以拥有这些服务的帐户，并伪装成人类。

隐私问题是这种方法的一个明显问题。

鉴于网络的公共性质，以及一旦你发布了某个东西，它就永远留在那里的事实，不是每个人都愿意一直用自己的名字发布。

### 基于用户评级的权限

基于用户评级的特权是论坛和社区的一种替代方案。以下是一些建议:

#### 自动批准来自受信任用户的帖子

新用户的帖子和评论在发布之前会被检查，而可信用户的帖子和评论会自动发布(稍后会随机检查，以防万一)。

#### 受信任用户的审核/标记权限

用户特权甚至可以更进一步。例如，您可以授权非常可信的用户来审核或至少标记帖子/评论。然而，这可能是非常偏颇的，因为如果用户不同意一个帖子，他或她可以很容易地标记它，即使它不是垃圾邮件。

#### 用户可以发布链接之前的帖子数量

原则很简单:如果你有至少 10、20、50、100 或任何数量的帖子，并且/或者你已经成为会员一个月、三个月或任何一段时间，你就可以发布一个链接。这可以阻止僵尸程序，但对普通用户来说并不方便。当然，这种方法也可能被滥用(例如，发布所需数量的干净帖子，然后开始发送垃圾邮件)，但你需要为此付出大量努力。

## 两种或多种方法的组合

完美的反垃圾邮件解决方案可以完成所有工作，但不幸的是，这样的解决方案不会很快出现——也许永远不会。

但是，您可以将两种或多种方法结合起来。

例如，您可以使用 Akismet 或 reCAPTCHA 对垃圾邮件进行粗略过滤，然后让管理员对 Akismet 或 reCAPTCHA 遗漏的内容进行审核。对于一个大型网站的管理员来说，仅仅因为大量的帖子和评论，审核是有点痛苦的。

不幸的是，无论技术变得多么先进，100%自动化都不是一个好的选择，因为它会导致相对较高水平的假阳性和假阴性。

目前，没有办法将人类排除在反垃圾邮件过程之外，所以即使你得到了一个似乎完美的解决方案，你也将始终需要检查它的选择。

## 我们到了吗？

如您所见，这并不是说 reCAPTCHA 没有其他选择。有十几种基于验证码和非验证码的方法。不幸的是，它们都有严重的缺点，使它们在大多数情况下无法使用。

目前，我们不能比验证码做得更好，但我们可以设计出更好的验证码，这确实有所不同。

首先，您可以做的一个巨大改进是总是保存用户在表单中输入的数据。

仅仅因为你认为一个歪歪扭扭的“h”是一个歪歪扭扭的“n ”,就眼睁睁地看着你辛辛苦苦在表格中输入的所有数据蒸发到太空中，还有比这更残酷的事情吗？

你可以采取的另一个步骤是微调验证码的复杂性。许多验证码系统允许你调整字符失真的程度。尝试不同级别的难度，看看在什么级别的难度下可以获得最佳的垃圾邮件与可用性比率。

显然，验证码越简单，垃圾邮件级别越高，反之亦然。你可能会尝试使用最难的验证码，但这是可用性最差的。

我们需要找到平衡点。你可能永远不会 100%没有垃圾邮件——这是乌托邦——你会达到可接受的水平，所以只需测试垃圾邮件水平在什么难度水平上是或多或少可接受的，不要超过它。

## 分享这篇文章