# 你的 HTML 源代码顺序应该和你的布局相匹配吗？

> 原文:[https://www . site point . com/should-html-DOM-order-match-visual-layout/](https://www.sitepoint.com/should-html-dom-order-match-visual-layout/)

回到过去糟糕的 web 开发时代，基于表格的布局占据了主导地位。虽然它们相对容易理解，但复杂的设计需要遵循视觉布局的令人讨厌的深度嵌套的表格结构。如果首席执行官或网页设计师后来认为右边的导航条很酷，可怜的网页开发人员就必须改变每一页的 HTML 结构。

当 CSS 第一次出现时，布局独立性被认为是一个重要的优势。换句话说，HTML 内容源的顺序并不重要——CSS 可以用来创建任何视觉设计。可以通过改变一个文件中的一些样式属性来重新排列元素。理论上。

事实上，我们知道设计的改变要困难得多，而且经常需要改变 HTML 源代码。正如 Andrew 在[中雄辩地指出的，在 CSS 布局中给浮动一个轻击](https://www.sitepoint.com/give-floats-the-flick-in-css-layouts/):

> 纯 CSS 布局纯属虚构。当前所有的 CSS 布局方法都在一定程度上依赖于文档流。CSS 缺乏一种方法来描述一个完全独立于标记顺序的布局，尽管它可能在不久的将来得到一个。

此外，Web 内容可访问性指南建议[您的 DOM 顺序与视觉顺序](https://www.w3.org/TR/WCAG20-TECHS/C27.html)相匹配。主要原因:

1.  如果盲人使用遵循源顺序的屏幕阅读器与按视觉顺序阅读页面的视力正常的用户一起工作，当他们遇到不同顺序的信息时，他们可能会混淆。
2.  如果源顺序与视觉布局不匹配，视觉受损的键盘用户可能难以预测 tab 键焦点。此外，设置 tabindex 属性会导致顺序不同于 DOM 中的顺序，这可能会导致某些辅助技术出现问题。
3.  也可能存在这样的情况，视觉呈现的顺序对于页面的整体理解是必要的。

Andrew 还指出，HTML5 语义元素有效地使源顺序变得无关紧要。`article`元素包含主体内容，`nav`包含导航，`aside`包含补充内容。因此，解析应用程序可以在语义标记中找到内容，而不是根据其在源中的位置做出任意决定。

这听起来很合理。那为什么我会觉得有点不舒服呢？

让我们暂时忘记网络技术。创建文档时，按照元素的相对重要性对它们进行排序是有意义的。主标题后面是正文内容、次要内容、相关资源的链接(导航)和页脚。最终的布局很少重要——它应该在你的脑海中，但没有必要有意识地考虑它。

这就是我处理 HTML 的方式。

我应该指出，我不一定会应用严格的约束。例如，我很乐意将导航放在标题中，尤其是如果只有几个链接的话。但是，总的来说，我喜欢我的 HTML 是逻辑有序的。

重要的是要考虑到一个盲人用户坐在他们有视力的助手旁边，但是实际上，这种情况出现的频率有多高？当它出现时，如果屏幕阅读器在左侧导航菜单之前阅读主体内容，会造成多大的混乱？“跳转到内容”链接是否更可取？

关于 tabindex 设置，WCA 指南强调了主要问题:tabindex 是在 HTML 中指定的，而视觉顺序是在 CSS 中定义的。如果用户应用了替代样式表，tabindex 的顺序不一定正确。

但是如果你的 HTML 是逻辑有序的，还有什么理由定义 tabindexes 呢？在我看来，如果用户能够在遇到几十个导航项目之前浏览主要内容链接会更好。也许这引起了一些最初的困惑，但是，这不仅仅是几秒钟的迷惑吗？

然后我们来到 HTML5。虽然我预见到这项技术的光明前景，但我们还没有到那一步。很少有系统能够区分放置在`article`标签中的内容和放置在`header`标签中的内容——甚至浏览器也不在乎。

您还应该注意到，一个页面可以有多个`article`、`header`和`footer`标签。例如，让我们考虑一个包含完整博客文章和一些相关文章的摘录/链接的页面。所有这些项目都可以出现在它们自己的`<article>`标签中。如果视觉布局将摘录放在主要内容的左边，那么它们在 HTML5 源代码中排在主要内容之上是否合理？

HTML5 提供了语义标签，但这并不是创建无序文档的理由。

我们还应该考虑维护问题。设计和布局不断发展。假设一个变化可以单独用 CSS 来处理，那么 web 开发人员应该修改 HTML 源代码来反映可视化更新吗？这是额外的开发和测试，几乎没有真正的好处。

最后，有一个压倒一切的原因，为什么内容作者不一定要根据视觉布局来排列 HTML:搜索引擎优化。谷歌、必应和其他搜索引擎更重视文档顶部的内容。即使当他们完全了解 HTML5，我也看不到这种变化。

我没有所有的答案，我也不会说你不应该这样做，但对我来说，根据视觉布局来排序 HTML 源代码似乎是一种倒退。潜在的缺点超过了相对较小且相当模糊的可访问性优点。

也许常识是最好的全方位解决方案。设计应该受到内容的影响，而不是相反。保持你的 HTML 逻辑有序，当有选择的时候，遵从物理布局。

我很想听听你的意见。

## 分享这篇文章