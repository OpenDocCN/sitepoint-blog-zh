# HTML5 Apps 有哪些安全隐患？

> 原文:[https://www.sitepoint.com/security-risks-html5-apps/](https://www.sitepoint.com/security-risks-html5-apps/)

HTML5 和 JavaScript 的结合已经成为开发者构建应用和网站的流行解决方案。在过去的几年里，这种结合提高了速度和可靠性。

虽然 [W3C 在 2014 年 10 月才批准 HTML5 作为标准](https://www.w3.org/blog/news/archives/4167)，但它的采用在很多年前就已经开始了。目前，几乎 30%的财富 500 强公司[都在使用它，其中包括像谷歌、脸书、网飞和微软这样的科技巨头。](http://www.incore.com/Fortune500HTML5/#infographic)

一份 Gartner [报告](http://www.gartner.com/newsroom/id/2324917)发现，到 2016 年，超过 50%的移动应用可能基于 HTML5。它受欢迎的一个原因是 HTML5 很大程度上是跨平台的。它允许开发人员为各种平台创建应用程序，包括 iOS、Android、Windows、Mac 和 web 应用程序。

JavaScript 越来越流行，是 HTML5 的完美补充。总之，它们正迅速成为设计移动应用程序的主导技术。

这种技术组合并不是没有它的敌人，问题和疑问。其中一个问题是…

## HTML5 应用对开发者和企业构成任何安全威胁吗？

不幸的是，答案是*是的*。用 HTML5 构建的应用程序就像任何基于网络的应用程序一样。开发人员应采取适当的安全措施来防范网络攻击，以保护任何存储的数据和通信。不幸的是，许多公司在保护自己和用户免受这些威胁方面做得很少。

让我们考虑一下 HTML5 移动应用面临哪些威胁。

### 来自恶意代码的威胁

据锡拉丘兹大学的研究人员称，HTML5 应用程序最有可能通过开发人员的错误增加安全风险。例如，执行通过蓝牙、Wi-Fi 或短信自动发送的恶意代码。

这种恶意代码可以捕获敏感信息，并将受害者的移动设备暴露给攻击者。更糟糕的是，恶意代码可能会传播并导致应用程序执行不需要的任务，如发送 SMS 文本消息。随着这个平台的使用越来越多，它的安全弱点正在成为一个更大的问题。

通过使用不正确的 API，开发人员使应用程序易受攻击，因此他们可以向 JavaScript 引擎发送恶意代码以供执行。选择正确的 API 对于避免这种安全漏洞至关重要。

开发人员通常将数据和代码混合在一起，当用户生成的数据来自不可靠的来源时，应用程序可能会容易受到恶意代码的攻击。这个问题不仅限于 HTML5 应用程序，但移动设备可能会受到更多渠道的感染，这与 web 浏览器不同。

除了开发人员的错误，恶意代码还可以通过图像和音乐文件(作为元数据)、二维码、蓝牙传输和通过 WiFi 传输的 SSID 字段注入应用程序。该应用程序显示的短信也可能包含恶意代码。

## 中间件是一个主要问题

HTML5 应用程序通常需要一个跨平台的中间件框架。这个中间件是 JavaScript 可以用其本地语言调用操作系统的方式之一。这种中间件容易受到被称为 *XSS* (跨站点脚本)的恶意代码注入攻击，因为中间件接受数据和代码，并自动执行后者。

由于我们给予应用程序的权限，如访问联系人列表、位置数据和摄像头，移动设备上的风险更大。锡拉丘兹大学的研究人员特别提到了 PhoneGap，一种流行的中间件。使用插件，PhoneGap 可以访问移动设备的各种元素。研究人员发现，总共 186 个 PhoneGap 插件中有 77 个是可利用的。这意味着这些插件可以从外部通道接受数据+代码并执行它们。

谷歌 Play 商店有近 764 个免费应用在使用 PhoneGap，研究人员可以对其中的 2 个应用成功实施[代码注入攻击](http://mostconf.org/2014/papers/s3p5.pdf)。考虑到有超过 12，000 个免费的 Android 应用程序，这是一个很小的百分比。研究人员没有提到潜在的解决方案，并承诺在未来的论文中更加具体。

不仅仅是基于 HTML5 的应用程序让用户面临安全问题，而是一个普遍影响应用程序的问题。移动应用程序风险管理供应商 Appthority 在其 2014 年冬季应用程序信誉报告中分析了 400 个应用程序，其中包括前 100 个付费和前 100 个免费的 iOS 和 Android 应用程序。该报告发现这些应用程序中有许多危险的做法，大多数都与用户的隐私有关。

该报告发现，几乎 70%的应用程序允许位置跟踪，56%可以识别 UDID，31%可以访问用户的通讯录。其中 53%的应用与第三方分析和广告网络共享数据，69%使用单点登录，51%允许应用内购买。

总之，由于所收集数据的类型，“应用内购买”的风险尤其大。它通常会收集敏感信息，如您的电子邮件地址、电话号码、地址以及可能的银行详细信息。这些信息可能会与广告网络和/或分析公司等第三方共享，并承担被滥用的风险。

Appthority 的总裁兼联合创始人多明戈·格拉(Domingo Guerra)表示，对于应用程序来说，越来越多的趋势是通过应用内购买来赚钱。他举了一个最受追捧和下载量最大的免费应用的例子，比如《糖果粉碎传奇》也是“最卖座的应用之一”。

这些有风险的做法不仅限于免费应用。该报告提到，几乎 80%的顶级 Android 和 iOS 应用程序也展示了冒险行为的例子。

## 解决方案

锡拉丘兹大学的研究人员没有给出任何具体的解决方案。他们认为，解决方案在于解决 XSS 问题的三种方法之一。这些是:

*   [净化](http://www.cs.berkeley.edu/~dawnsong/papers/2011%20systematic%20analysis%20xss)，过滤混有数据的代码。
*   缓解或限制不受信任代码的权限。
*   污染或标记来自任何不可靠来源的输入，并且不允许它们运行。

考虑从 [HTML5 安全备忘单](http://html5sec.org/)中借用的以下示例:

显示 HTML5 表单和表单动作具有从表单外部劫持表单的能力。

```
<form id="test"><button form="test" formaction="javascript:alert(1)">X</button></form>
```

这个表单使用一个带有自动聚焦的输入元素来调用它自己的焦点事件处理程序，不需要用户交互。

```
<input onfocus=write(1) autofocus/>
```

在第一个例子中，用户不应该被允许提交任何包含像`form`或`formaction`这样的属性的标记，甚至不应该将它们转换成假属性。表单和提交按钮应该避免使用`id`属性。

在第二个例子中，开发人员需要记住，用户提交的标记不应该包含`autofocus`属性。

最好的建议是从内容中删除不相关或危险的字符。正确的设计策略应该不包含或包含最少的数据缓存，并尽量减少客户端的逻辑，将密码、令牌、安全配置文件和凭据保留在服务器上。重点应该是 UI 与服务器的交互。通过在缓存中不留下任何数据，开发安全的 HTML5 应用是可能的。

开发者需要了解最强大的移动安全威胁，并保护应用程序免受威胁。另一个有用的资源是 PCI SSC(支付卡行业安全标准委员会)的安全移动开发详细指南。

您的移动技术必须提供身份认证框架和强大的安全功能，包括:

*   设备上加密
*   安全客户端/服务器通信
*   访问控制
*   离线身份验证

跨平台应用是移动应用开发的圣杯之一，但永远不要在安全问题和用户体验上妥协。实现这一点的一种方法是关注应用程序、其特定于云平台的功能和远程认证服务之间的集成，并将它们与适用于 web 开发的安全最佳实践相结合。

在保护基于 HTML 的应用程序方面，你有什么经验和建议？

## 分享这篇文章