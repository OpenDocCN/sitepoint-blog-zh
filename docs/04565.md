# BEM 和 SMACSS:来自经验丰富的开发人员的建议

> 原文:[https://www . site point . com/BEM-smacss-advice-from-developers/](https://www.sitepoint.com/bem-smacss-advice-from-developers/)

CSS 方法可能令人难以置信的混乱和难以决定。让我们考虑两个最著名的选项: [BEM](https://bem.info/) 和 [SMACSS](https://smacss.com/) 。

你应该为你的下一个项目选择其中之一吗？他们最适合做什么？什么可能会出错？如果你已经在用一个了，你打算用它吗？最大限度地发挥潜力？你怎么知道你做得对不对？我想我应该问问那些已经在自己的项目中经历过这些问题的人，并从他们的经历中学习。

我向使用过 BEM 和/或 SMACSS 的开发人员询问了他们的成功故事、恐怖故事、建议和警告。我给了一些开发人员一个完整的问题列表，其他人只是自由地向我表达他们的想法。我已经把结果编辑成了我希望对那些考虑优化 CSS 的人有价值的读物。

对于那些不熟悉 BEM 和 SMACSS 的人，我将首先从很高的层次概述 BEM 和 SMACSS 是什么。

## BEM 是什么？

BEM 代表*块元素修饰符*，起源于 Yandex。它提供了一种相当严格的方法来将 CSS 类安排到独立的模块中。这个想法有几个变体，但最常见的是这样的:

```
.block {}
.block__element {}
.block--modifier {}
.block__element--modifier {}
```

一个**块**代表你网站中的一个对象。例如:

*   一个人
*   登录表单
*   菜单
*   搜索表单

**元素**是块中执行特定功能的组件。它应该只在其块的上下文中有意义。例如:

*   手
*   登录按钮
*   菜单项
*   搜索输入字段

一个**修饰符**是我们如何表示一个块的变化。例如:

*   高/矮的人
*   精简的登录表单(例如，我们在一个版本中隐藏了标签)
*   修改后的菜单在页脚或网站地图上看起来不同
*   具有特定按钮样式的搜索输入字段

在我们的菜单示例中，类名可能如下所示:

```
.menu {}
.menu__item {}
.menu__item--featured {}
.menu--footer {}
```

在 [bem.info](http://www.bem.info) 网站上有 bem 的其他架构原则和工具，然而，当开发人员讨论 BEM 时，他们通常主要关注上面的命名约定，下面的大部分讨论也是如此。

## 什么是 SMACSS？

SMACSS 是由 Jonathan Snook 开发的 CSS 框架。在 SMACSS 网站上，他说这更像是一个“风格指南”，而不是一个僵化的 CSS 框架。它的规则集中在五个类别上:

**基数**用于`html`、`body`、`a`、`a:hover`等默认设置。这包括您的 CSS 重置，通常位于它自己的基本 CSS 文件中或主 CSS 的开头。

**布局**将页面分成包含页眉、页脚和文章等元素的部分。开发人员通常通过在类前加上`l-`来显示布局元素。

**模块**是设计中可重复使用的模块化元素。SMACSS 文档将模块视为大多数元素，因此不要求您为它们添加前缀，但是如果您愿意，您可以这样做。

**状态**用于每个元素的可能变化(如活动、非活动、扩展、隐藏)。这些以`is-`为前缀，例如`is-active`、`is-inactive`、`is-expanded`、`is-hidden`，或者通过伪类，例如`:hover`、`:focus`或媒体查询。

主题与状态相似，但是定义了模块和布局的外观。它更适用于具有不同外观的共享元素的大型站点。您可以在每页或每节的基础上添加主题变化。

SMACSS 中的子元素(就像 BEM 中的“元素”与“块”的关系一样)的父元素前面有一个破折号。例如`menu`和`menu-item`。

SMACSS 声明这完全取决于开发者的偏好，不像 BEM 那样具有规定性。SMACSS 只是提供了基本的指导方针。对每个类别使用您自己的命名约定，并以您喜欢的方式排列它们，只要您记录您的方法，以便其他开发人员可以遵循。

## 来自使用过 BEM 的人的指导

### 它适用于所有项目，无论大小

来自英国加的夫的前端开发人员 Hamish Taplin 认为，边界元法适用于大大小小的项目，它提供了许多优势:

“BEM 被吹捧为适合大型项目，但我一点也不相信。如果你喜欢编写干净的、可维护的、没有特殊性问题的代码，那么 BEM 适合你。有些人说它产生的 HTML 是丑陋的或多余的，但我认为它是美丽的。我可以阅读一些 HTML，了解到底发生了什么，以及元素之间是如何关联的。太棒了。”

### 它避免筑巢

澳大利亚悉尼的前端开发人员 Alec Raeside 发现 BEM 是避免过多嵌套选择器的好方法:

“BEM 是构建 UI 的好方法。描述性的，有时很长的类名有助于直接理解这个类/选择器在 UI 架构中的位置。这也意味着您很少需要嵌套选择器，这是 Sass 代码库的常见缺点。通常，当我使用 BEM 嵌套时，我希望通过 HTML 标记名来定位元素，或者在组件样式重叠时赢得特殊性之战。”

### 它帮助你重新发现类的力量

Hamish Taplin 对 BEM 和面向对象原则大加赞赏。他对“语义”标记的概念提出了有趣的想法:

“边界元法的优势立即显现出来。在采用 BEM 和 OOCSS 原则之前，我一直是(不正确地)被称为“语义”标记的倡导者。我认为许多开发人员(包括我在内)很大程度上误解了这实际上意味着什么，并且在类不够“语义化”的幌子下忽视了类的力量。搜索引擎和屏幕阅读器并不关心你使用的类或网格使用的额外 div。Twitter 工程师尼古拉斯·加拉格尔在他的博客文章[“关于 HTML 语义和前端架构”](http://nicolasgallagher.com/about-html-semantics-front-end-architecture/)中完全抓住了这一点，他说:“……并不是所有的语义都需要从内容中派生出来。类名不能是“无意义的”。不管用什么名字:它们有意义，有目的。类名语义可以不同于 HTML 元素的语义。"

### 使在大型网站上工作变得更加容易

许多开发人员提到的 BEM 的一个巨大优势是它能够以一种更简洁的方式处理大型模块化项目的开发和实现。虽然 BEM 不仅适用于大型网站，但它在这个领域确实有很大的优势。哈米什讨论了他的经历，甚至还写了一整篇博文:

“我涉足了几个小项目，并开始认真对待它——起初很难，因为这与我多年来的工作方式相反，但好处越来越明显。然后，我们开始了一个相当大的项目，本质上是非常模块化的——我的健康技能。这是我和另一个开发人员(Paul Goodfield，他也在使用 BEM)合作的第一个 Bluegg 项目——我做前端，Paul 做后端。好处是显而易见的，Paul 可以准确地理解我的标记在做什么，并围绕它编写他的 Laravel 模板。如果他需要填补一些空白，那么 BEM 的可预测性意味着他可以像我一样编写 HTML，并且整个过程变得更加流畅。我在博客文章[“建立我的健康技能”](http://www.bluegg.co.uk/building-my-health-skills-part-3/)中写了这个。

Alec Raeside 还发现了 BEM 命名的模块化特性对大型项目的好处。他说:

“边界元法非常适合大型项目。CSS 是复杂的，大型项目可能会失败，因为不具体的选择器可能会在其他地方导致意想不到的后果。例如，在编写代码时，将所有的`<ul>`放在像`.container ul {}`这样的选择器下可能有效，但是一旦许多其他组件嵌套在一个`.container`组件中，`ul`样式可能就不合适了。BEM 方法的核心是封装和特定性，这有助于防止组件和非特定选择器之间的命名冲突，避免意外地对页面的某些部分进行样式化。

### BEM 方法封装了你的代码以供重用

Harry Roberts 是一名来自英国的顾问前端架构师、设计师和开发人员，他在 BEM 和创作干净的 CSS 领域做出了巨大的贡献，他指出 BEM 方法通过其封装使跨网站重用组件变得更加容易:

“BEM 方法非常适合那些需要将组件从一个代码库转移到另一个代码库的项目；它们需要被完全封装，这样你就可以把 HTML、CSS、JS 的一部分转移到另一个项目中，而不需要带走任何依赖。让我们假设你为一家拥有五个不同站点的公司工作，它们都需要在主页上有相同的轮播。你可以用边界元方法学来写这个旋转木马，这样你就可以完整地拿起它，然后四处移动。”

### 适用于基于组件的框架

来自悉尼的前端开发人员 Josh Hunt 发现它可以很好地与具有类似组件焦点的其他框架配合使用:

“BEM 非常适合有很多独立部件或组件的网站，比如 web 应用。推广 HTML 组件(Angular、React、Polymer/Web 组件)的框架也使得应用 BEM 方法变得更加容易。”

### 交付原型的快速方法

来自荷兰鹿特丹的前端开发人员 Bob Donderwinkel 做了一个关于[“BEM CSS 的好处”](http://www.slideshare.net/BobDonderwinkel/bem-presentation-40907446)的精彩演讲。他指出了他发现的与 BEM 合作的最大优势:

“我使用 BEM 已经有半年了，并在两个项目中使用过它:一个是为 www.viewbook.com 设计的新的滚动图库页面，另一个是将一个旧的 Flash 网站改造成 HTML 版本。这些项目的设计被很好的定义了，我认为使用 BEM 最大的成功是快速的交付了一个原型。这主要是因为在块、元素和修饰符中“破译”你的设计给了你一个很好的开端来编写一些 CSS。”

### 让你三思

乔希·亨特发现，命名惯例有助于你在把事情变得太复杂之前三思而行:

“我发现，由于它有点难看，当你打算写很长的类名时，它会迫使你三思而行。”

### 一定要计划好！

Hamish Taplin 还为那些开始新项目的人提供了以下建议:

“当你开始一个项目时，要有一定程度的计划。我倾向于浏览模型，寻找可以抽象成 BEM 模块的模式。一开始这可能很难，但是你会越做越好，直到你开始重用旧的模式。重用代码是开发的天堂，当生产成本下降时，你的老板会感谢你，因为你更有效率！”

### 不要对它要求太严格

Josh 警告说，当你打算使用 BEM 时，你的项目会受到太多的限制:

“不要觉得受到 BEM 的限制，也不要觉得自己被迫遵循某种奇怪的模式。我被哈里·罗伯茨的两条推文吸引了:

> 这并不是说模块化、DRY、SRP 等。不是什么好主意——它们是！—但要明白，它们是方法，而不是成就。
> 
> —哈利·罗伯茨(@ CSS wizardry)[2014 年 12 月 2 日](https://twitter.com/csswizardry/status/539726989159301121)