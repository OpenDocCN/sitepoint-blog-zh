# PHP 和 I，第 2 部分

> 原文：<https://www.sitepoint.com/php-and-the-i-2/>

[在最后一部分](https://www.sitepoint.com/php-and-the-i-1/ "PHP and the i, Part 1"),我们看了为什么 IBM i (AS/400，System i，I)不是一台老古董，而是一台非常强大的机器，它既可以作为独立的大型机运行，也可以作为非常经济高效且可扩展的服务器运行。只要记住如果你不相信会发生什么；我会找到你，在酒吧里和你决斗。正如 Cacciaguida 曾经说过的，预先警告是预先准备好的。

我们也谈到了这与你这个吓坏了的 web 程序员有什么关系:I 世界中的许多人没有时间学习 PHP(以及 HTML、CSS、JavaScript 和 jQuery 等)。)因此，这是一个真正的机会，您可以向希望开发 PHP 的面向 RPG 的 IBM i 商店推销您的技能(每个人都想做些什么来克服 IBM 未能为 I 提供除 Java 之外的原生 GUI 接口的事实)。

在这一集里，我们将看看你需要什么才能在 I 上进行开发工作。I 世界里的许多人都认为 PHP 是 I 的原生语言，但我不认为这是真的。对我来说，native 意味着它只是运行，没有问题或疑问，没有什么特别的需要做，就像当你看到一个人穿过拥挤的房间，知道她/他是“那个人”一样。这不是 PHP 和 I 的工作方式。

## IBM 和 Zend

RPG 是 I 上的一种本地语言，但是 PHP 已经被添加进来，有了适当的桥，你可以像 RPG 一样容易地(或多或少地)运行 PHP。RPG 的工具是 RPG 编译器，由 IBM 提供(当然是收费项目)。让 PHP 在 I 上运行的桥梁是 Zend 提供的 Zend 包(server/studio/framework)。

是的，这些人或多或少已经成为 PHP 公司的代言人，他们与 IBM 建立了非同寻常的密切关系。他们和汤姆·沃森一起去度假，或者去阿蒙克的 IBM 圣地朝拜。作为回报，IBM 给了他们 I 的 PHP 密钥。如果你想在 I 上使用 PHP，Zend 几乎是唯一的供应商。我说几乎是因为 Aura 也有一个 PHP 堆栈，你可以购买，但毫无疑问，Zend 的实现是猫的喵，蜜蜂的膝盖，等等。Zend 实现的优势不在于 PHP，而在于他们编写的额外的东西，这些东西帮助 PHP 更流畅、更自然地与 I 接口。比如异步 I 接口，它允许您创建 PHP 程序，这些程序不仅可以像在 web 上一样在线运行，还可以在批处理模式下运行，因为它们可能需要在真正的大型机中运行。

底线是:如果你想在 I 上做 PHP，重要的 PHP，你需要在 I 上使用 Zend 包。这意味着当你接近 I 商店时，他们需要在他们的机器上安装 Zend 包。事实是，没有一个合理的替代 Zend 的 I。

一些商店可能已经安装了 Zend，但大多数可能没有。他们可能会告诉你，他们没有预算批准购买额外的软件(所以他们可能希望你只能从网上，这是不可能的，所以忘记这一点)。幸运的是，Zend 与 IBM 达成了一项协议，所有处于维护期的 I 用户(几乎是所有的 I 用户，你不会想与任何不处于维护期的用户混淆)都可以获得 Zend 产品的免费版本。

Zend 产品本身由三个组件组成。第一个是 Zend Server，它提供了在 I(PHP 语言、Apache 服务器的一个实例和 SQL 数据库)上运行 PHP 所需的栈。Zend Server 还包括任何为简化 I 而编写的附加模块。该协议提供了一个版本的 Zend Server，特别是 Zend Server Community Edition，可以免费下载到 I。当然，这不是高级版本，但是它缺少的大部分东西都与部署大规模 PHP 应用程序有关，并且在您将 PHP 应用程序发展到需要面向企业的版本时才需要。等到商店被吸引住，不得不购买一个版本时，它已经有了一个稳固的投资回报。

第二个组件是 Zend Studio。这不是在个人电脑上运行，而是在连接到它的个人电脑上运行。它基本上是开发 PHP 脚本的 IDE，而不是文本编辑器。它包括一个文本编辑器，当然，还包括一个调试器和测试软件。

Zend Server 的社区版在任何使用 Zend 提供其堆栈的平台上都是可用的，但是 Zend Studio 的版本是特定于 I 的，Zend 与 IBM 的协议也是如此。作为 I 用户，你可以免费下载 Zend Studio，但需要注意的是，一旦你下载了它，你就不能下载任何更新或新版本。在你决定花钱购买新版本之前，你一直停留在那个版本上。

第三个组件是 Zend 框架，它提供了其他框架所提供的功能。这个也可以用 Zend Studio 下载。

## 在 I 上发展

您可能会遇到的一个问题是将您开发的脚本放在哪里。如果你正在处理 RPG 程序，它们在特殊的文件中，像`QRPGLESRC`、`QCLSRC`等。这取决于您正在开发的程序的类型。这些都保存在 I 本身的数据库中。但是 PHP 脚本保存在其他地方。

在每一个 I 中都有一个叫做如果的东西。很多 I 人不太了解，但它基本上是一个面向 windows 的区域，你可以在这里建立文件夹(I 使用库，而不是文件夹)和存储文档。这是你的 PHP 脚本将被存储的地方；在`/htdocs/*`里。

还有一件事我们应该谈谈。也就是说，你不仅要开发一个 PHP/JavaScript/CSS web 应用程序，还要开发一个 RPG 应用程序。也就是像我上一篇文章说的，RPG 不是死语言。它实际上是一种非常优秀的编写商业应用程序的语言。它在处理业务逻辑方面做得很好，并且有一种比 SQL 更简单的内置数据库语言(尽管您可以将 SQL 与 RPG 一起使用)。以前对 RPG 的批评是，它本质上是位置性的，因此很奇怪(RPG 的最新版本消除了这一点，提供了更像英语的语言语法。)为了有意义，任何应用程序都必须是 RPG 和 PHP 的组合，每种类型都有模块。

在 RPG 中做 MVC 的 C 和 M 部分，在 PHP 中做 V 部分是有意义的。我为什么要说这个？我本质上是一个大型机程序员(首先是 Cobol，因为它是上帝用来创造世界的语言，其次是 RPG，因为自 1810 年以来发生的一切都是用 RPG 完成的)。

RPG 人员习惯于创建一个单一的 RPG 程序，将这三者结合成一个简单的整体，一旦最初的程序员离开，这个程序几乎肯定是不可维护的。因此，你要做的第一件事就是让 I 人员从 MVC 类型的设计开始。直到大约十年前，这在 RPG 环境中是非常困难的事情，但是现在有了 ILE 和 RPG/Free，这是可以做到的事情。

## 结论

大概就是这样。至少一开始是这样。我们系列的最后一篇马上就要到了，我们将讨论如何开发好的商业屏幕。同时，祝你好运！

<small>图片 via[Fotolia](http://us.fotolia.com/?utm_source=sitepoint&utm_medium=website_link&utm=campaign=sitepoint "Royalty Free Stock Photos at Fotolia.com")</small>

## 分享这篇文章