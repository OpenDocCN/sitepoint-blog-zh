# 应该允许用户禁用 JavaScript 吗？

> 原文：<https://www.sitepoint.com/disable-javascript-option/>

![Get off my lawn! Should Users be Permitted to Disable JavaScript in 2017?](img/e0da8aad2cdb57d44dc886c9e4751247.png)

我上次提出这个问题是在 2013 年，当时 Mozilla 决定从 Firefox 23 的选项对话框中删除“禁用 JavaScript”设置。主要理由是:

*   没有 JavaScript，许多现代网络会崩溃。
*   它将用户从自身中拯救出来。很少有人知道 JavaScript 是什么，更少有人需要禁用它。
*   如果他们真的需要，他们可以在其他地方找到隐藏的选项。

对于那些知道内情的人来说，禁用 JavaScript 仍然是一个选项。

> 这篇广受欢迎的文章自 2013 年首次发表以来，已经进行了更新，以应对 JavaScript 领域的巨大变化。

## 禁用 JavaScript 对用户有好处吗？

可能:参考 *[我关了整整一周的 JavaScript，很光荣](https://www.wired.com/2015/11/i-turned-off-javascript-for-a-whole-week-and-it-was-glorious/)* 。没有 JavaScript，一个神奇的网络出现了，没有膨胀，广告，弹出窗口，cookie 警告，滚动劫持和[我们今天经历的许多其他黑暗模式](https://www.sitepoint.com/annoying-web-dark-patterns/)。

也有一些有感知问题的人出于需要禁用 JavaScript。很少有网站考虑可访问性指南，所以它仍然是最简单的方法来减少可能导致迷失方向和恶心的移动和动画效果。

文章内容通常是可见的，但缺点是许多 web 应用程序没有 JavaScript 会失败。有些提供降级体验，但它可能会破坏商店、地图、游戏和社交网站。由现代的仅客户端应用程序框架支持的内容站点可能只显示一个空白页面。

## 你能阻止用户禁用 JavaScript 吗？

**不！**

网站所有者或开发者不可能强迫用户下载并运行 JavaScript。浏览器从你的服务器“拉”文件；用户可以通过浏览器设置、代理方法、插件或一系列其他拦截选项来阻止这种情况发生。

您的脚本也可以被修改或禁用特定的功能。永远记住用户处于控制中:这是他们的设备和连接。他们选择访问你的网站，可以忽略任何他们不想要的东西。

## 可以支持那些没有 JavaScript 的吗？

很少有人主动禁用脚本。人们很容易认为这些用户应该得到他们(没有)得到的一切，但现实问题更多。JavaScript 是脆弱的；您的脚本可能会因为以下原因而中断:

*   HTTP 请求失败
*   请求没有完成
*   防火墙阻止了响应
*   服务提供商阻止或修改了脚本
*   浏览器插件拦截或修改了脚本
*   浏览器不支持您需要的代码或工具
*   另一个脚本引发错误，停止所有脚本的执行

这些问题在移动世界中尤其普遍，用户可能正在旅行，使用功能较弱的设备，通过慢速网络连接，使用不稳定的机场 wifi 等。

解决方案继续是[渐进增强](https://www.sitepoint.com/javascript-dependency-backlash-myth-busting-progressive-enhancement/)。您创建最简单的纯 HTML 体验，然后在成功下载和执行这些文件时，使用图像、字体、CSS 和 JavaScript 来增强它。您的 JavaScript 可以检测 APIs 工具何时可用于:

*   避免运行会导致错误的代码，或者
*   加载实现相同功能的聚合填充。

用户可以获得不同的体验。那些在台式机上使用最新 Chrome 的用户可能会获得最高水平的功能。那些在两年前的手机上运行 Opera Mini 的用户可能会收到一个基本样式的页面。重要的是，每个人都收到了*一些东西*，网站/应用仍然可供每个人使用。

## 渐进增强值得努力吗？

这是您和您正在构建的应用程序的决定。

渐进式改进对于需要接触尽可能多的受众的内容网站和在线商店很有意义。如果实现得好，它会产生很少的开发开销，并且可以节省时间。你知道所有的浏览器都将继续呈现你的站点，不管它们在过去、现在还是将来收到了什么更新。

简单的应用程序也可能受益。一个向社交网络发布消息的应用程序只需要一个 HTML5 表单和一些后端处理。渐进式增强然后通过取消页面刷新、添加样式、实现输入验证、提供字符计数、处理错误、使其离线工作等来改善体验。

对于具有丰富用户界面的应用程序，如办公软件、绘图、图像编辑和游戏，渐进式增强变得不太可行。仅使用 HTML 和 CSS 的解决方案可能过于繁琐而不实用。也就是说，你应该展示一些东西，即使只是*“对不起，你需要 JavaScript”*。

## 2017 年及以后的 JavaScript 阻止

问题*“用户是否应该禁用 JavaScript”*几乎没有关系。无论供应商如何显示或隐藏高级设置，用户总是能够阻止 JavaScript 运行——*,但很少有人会理会*。

只有微软 Edge 很难禁用 JavaScript。也许这是因为 JavaScript 已经成为 Windows 10 不可或缺的一部分，而不是 Edge 的一个疏漏？如果不喜欢，可以安装其他任何浏览器或者使用代理删除`.js`文件。

基于 Blink 的浏览器更进一步，允许用户逐个站点地启用或禁用 JavaScript。这是一个很好的选择，尽管很少有人会维护 URL 黑名单和白名单。

供应商不断寻求提高性能。尽管谷歌依赖广告，但即使是 Chrome 也将很快获得内置广告拦截器。下一步:*供应商能在表现不佳的网站上屏蔽 JavaScript 吗？*这是一个简单的胜利:他们只需要提供自己的 JavaScript 禁用黑名单，就像他们对恶意网站和广告拦截系统所做的那样。

如果发生这种情况，用户不必手动禁用 JavaScript——浏览器将从其他人访问网站时收集的性能指标中学习。最终，无论我们喜欢与否，我们都可能被迫使用负责任的脚本技术。

## 如何禁用 JavaScript

以下是如何在大多数现代浏览器中禁用 JavaScript 的方法。

### 谷歌浏览器

Chrome 59 提供了一组更简洁的选项，你可以逐个站点地禁用 JavaScript:

1.  访问任何网站，然后点击地址栏左侧的“网站信息”图标。
2.  该菜单允许您允许或阻止该站点上的 JavaScript。

您可以通过单击该菜单中的“站点设置”或在主设置中全局禁用它:

1.  从三点菜单图标中选择**设置**。
2.  滚动到底部，点击**高级**。
3.  点击**隐私与安全**部分的**内容设置**。
4.  点击 **JavaScript** 。
5.  点击**允许(推荐)**改为**封锁**。

您还可以添加 URL 或正则表达式来阻止和允许特定站点上的 JavaScript。

### 谷歌浏览器移动版(安卓)

Chrome 手机版也提供了类似的流程:

1.  从三点菜单图标中选择**设置**。
2.  点击**站点设置**。
3.  点击 **JavaScript**
4.  点击**允许网站运行 JavaScript(推荐)**将其更改为**阻止**。

一旦被阻止，您可以添加 URL 例外。

### Mozilla Firefox

Firefox 中没有简单的选项。要禁用 JavaScript:

1.  在地址栏中键入 **about:config** 并接受任何警告。
2.  在搜索框中键入 **javascript** 。
3.  双击 **javascript.enabled** 将值改为 **false** 。
4.  关闭选项卡并重新启动浏览器。

### Safari (Mac OS)

若要在 Mac OS 上的 Safari 中停用 JavaScript:

1.  运行浏览器，点击屏幕顶部菜单中的 **Safari** 。
2.  选择**首选项**。
3.  点击**安全**标签。
4.  取消选中**网页内容**部分的**启用 JavaScript** 选项。

### Safari (iOS iPhone 和 iPad)

若要在 iPhone 或 iPad 版 Safari 上停用 JavaScript:

1.  从主屏幕打开**设置**。
2.  向下滚动并点击 **Safari** 。
3.  点击屏幕底部的**高级**。
4.  点击 **JavaScript** 切换按钮启用或禁用。

### 微软 Edge (Windows 10)

最新版本的 Windows 10 不允许你禁用 JavaScript。

一些早期版本允许你在**本地组策略编辑器**中更改设置:用户配置>管理模板> Windows 组件>微软 Edge，然后更改**允许你运行脚本，像 JavaScript** 到**禁用**。

## Microsoft Internet Explorer

通过从 Windows 控制面板或 IE 菜单访问的**互联网选项**对话框启用或禁用 JavaScript。

1.  选择**安全**标签。
2.  点击**自定义等级…** 按钮。
3.  向下滚动到底部的**脚本**部分。
4.  在**活动脚本**中选择**禁用**。
5.  再次点击**确定**然后**确定**。

### 歌剧

要在 Opera 中禁用 JavaScript:

1.  从 Opera 图标菜单中选择**设置**。
2.  点击左侧菜单中的**网站**，或者在搜索设置框中输入 **javascript** 。
3.  选择**不允许任何站点运行 JavaScript** 。

点击**管理例外…** 输入 URL 或正则表达式，可以设置为自动允许或阻止 JavaScript。

### Vivaldi

Vivaldi 运行 Chrome 和 Opera 使用的相同的 Blink 引擎，但你不会在标准设置面板中找到 JavaScript。要禁用脚本:

1.  访问任何网站，然后点击地址栏左侧的“网站信息”图标。
2.  该菜单允许您允许或阻止该站点上的 JavaScript。

您还可以在全局基础上配置 JavaScript:

1.  选择“站点信息”菜单底部的**站点设置**进入闪烁设置。
2.  选择**不允许任何站点运行 JavaScript** 。

点击**管理例外…** 输入 URL 或正则表达式，可以设置为自动允许或阻止 JavaScript。

### 勇敢的

要在 Brave 中禁用 JavaScript:

1.  点击右上角的勇敢标志。
2.  对于单个站点，将**块脚本**设置为 on。

对于全局设置:

1.  点击弹出的**编辑默认屏蔽设置…** 。
2.  切换到**偏好设置**选项卡。
3.  设置**阻止脚本(将破坏许多站点)**开启。

### 替代选项

搜索你的浏览器插件商店——有许多扩展可以以不同的方式启用、禁用、重写或修改 JavaScript。

大多数开发者工具(除了 Edge？)允许您禁用 JavaScript，但它通常仅适用于活动选项卡和会话。

## 结论

如上所述，问题*“用户是否应该能够禁用 JavaScript”*在 2017 年几乎没有相关性。无论供应商如何显示或隐藏高级设置，用户总是能够阻止 JavaScript 运行——*,但很少有人会理会*。我们是否应该迎合那些没有 JavaScript 的用户，很大程度上取决于你正在构建的应用。然而常识告诉我们:你的内容越容易理解，你就能吸引越多的观众。

但是你怎么看？我很乐意在下面的评论中听到你的意见。

*这篇文章由[克里斯·佩里](https://www.sitepoint.com/author/cperry/)、[莱斯利·卢托姆斯基](https://www.sitepoint.com/author/llutomski)和[马特·伯内特](https://www.sitepoint.com/author/mburnett/)进行了同行评审。感谢 SitePoint 的所有同行评审员使 SitePoint 的内容尽可能做到最好！*

## 分享这篇文章