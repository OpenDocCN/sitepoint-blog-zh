# 智能合同安全:最佳实践和设计模式

> 原文:[https://www . site point . com/smart-contract-safety-best-practices-design-patterns/](https://www.sitepoint.com/smart-contract-safety-best-practices-design-patterns/)

区块链技术仍然是一项实验性很强的技术。事情发展得很快，随着新的漏洞和安全风险的发现以及新的最佳实践的开发，您应该预料到安全领域的不断变化。遵循本文中描述的安全实践将帮助您更好地理解如何设计完美的以太坊智能合约。

带着安全的心态进行开发是极其重要的，因为失败的代价可能很高，改变可能很困难。因此，针对已知漏洞的基本防御机制是不够的。建议使用安全的设计模式，如利率限制器、退出策略或断路器，以保护您的合同免受意外事件的影响。

## 为失败做准备

任何非平凡的契约都会有错误。因此，您的代码必须能够优雅地响应错误和漏洞。编写代码时，请记住以下安全设计模式。

### 检查-效果-交互模式

这是编写任何智能合约时的一般准则，因为它描述了如何构建函数。首先验证所有的参数，当参数不符合预期的输入时抛出适当的错误。接下来，您可以更改智能合约的状态，并最终与其他智能合约进行交互。

与其他合同的交互应该始终是你的职能中的最后一步，因为这主要包括将控制权移交给另一个合同。因此，当我们移交控制权时，关键是当前合同已经完成其功能，并且不依赖于其他合同的执行。这里有一个来自拍卖合同的例子，使用一个布尔值来设置拍卖的结束。