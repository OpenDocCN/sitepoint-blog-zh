# SitePoint 播客#174: Drupal 与罗尼·泰勒

> 原文:[https://www . sitepoint . com/sitepoint-podcast-174-Drupal-with-Ronnie-Taylor/](https://www.sitepoint.com/sitepoint-podcast-174-drupal-with-ronnie-taylor/)

SitePoint 播客第 174 集现已推出！本周凯文·迪斯([@凯文·迪斯](http://twitter.com/kevindees))采访了罗尼·泰勒( [@rontec76](http://twitter.com/rontec76) )关于 Drupal 的世界以及如何充分利用它所提供的一切。

## 下载这一集

你可以下载这一集作为独立的 MP3 文件。以下是链接:

*   SitePoint 播客#174: Drupal 和罗尼·泰勒

## 剧集摘要

Kevin 和 Ronnie 讲述了 Drupal 是如何构建的，以及它如何适应不同类型的项目，以及 Drupal 新手如何第一次使用它。然后，他们将介绍一些可以在 Drupal 中使用的更高级的工具，以及这些工具如何改进工作流。

在[http://delicious.com/sitepointpodcast/174](http://delicious.com/sitepointpodcast/174)浏览展览中引用的链接的完整列表。

## 采访记录

凯文:好的。我现在和罗尼·泰勒一起在科沃格林维尔，今天我们来谈谈这个叫做 Drupal 的神秘系统。但是在我们进入 Drupal 之前，我想向您介绍一下 Ronnie。Ronnie 是我在 CoWork Greenville 的一个朋友，我们一直在谈论代码。我当时想，“为什么我们不在 SitePoint 播客上讨论这些代码呢？”所以我们在这里。罗尼，告诉我一点关于你自己的事情，你是如何进入这个网络世界的。

罗尼:这是一个常见的故事。我开始做其他的事情，然后逐渐变成全职做网络工作。我有 IT 和工程背景，然后在报业工作了一段时间。我开始自己学习网络知识，并从那里开始发展，开始接受客户，最终进入自由职业者的世界。我做这个已经有一段时间了。我从 2004 年开始全职工作，经历了几次创业。所以，我就是这么开始的。

凯文:你做过一段时间的自由职业者，对吗？现在，你正在迁移到不同的领域？

罗尼:是的，实际上我刚刚在一个客户那里找到了一份全职工作。我为他们做了很多 Drupal 的东西，但也扩展了一些 Rails 和其他东西。但是，是的，我做自由职业已经很长时间了。

凯文:非常酷。那么是什么让你选择 Drupal 作为平台呢？请告诉我们，为什么我们应该将它视为一个可行的解决方案，而不是像 WordPress 这样非常受欢迎、有很多插件的东西。在那里，有很多很多的理由使用 WordPress，我认为 Drupal 被忽视了，但是你选择了 Drupal，我认为，有一些很好的理由。我喜欢在特定的项目上使用 Drupal。那么你使用 Drupal 的原因是什么呢？是什么吸引了你？

**Ronnie:** 我想说的是——我们稍后也会谈到其中的一些内容——但是它的模块化，允许高度定制，甚至深入到 Drupal 的核心部分。因此，它允许它非常灵活，几乎可以作为一个框架来运行，而我使用的其他一些系统，它们本质上只是面向特定的事物和特定类型的网站。所以，简而言之就是灵活性

凯文:对。

Ronnie: 然后是社区。有大量的模块，有一个非常友好并且愿意帮助我们的社区。

凯文:你提到了这个在线社区，这也是你选择 Drupal 的部分原因。你在 Drupal 4 的最开始选择了 Drupal？

Ronnie: 是的，我开始和 Drupal 一起工作时是 4.5。那是在我第一次在社区网站上工作并构建我的第一个模块的时候。

凯文:那很酷。所以您对使用 Drupal 只有一点点经验？

罗尼:我用过几次。

凯文:那么，一个人怎样才能参与到你所说的社区中去并学习 Drupal 呢？因为，在某些时候，你必须钻研和学习——我不想老是提到 WordPress——但是这是真的，WordPress 对于，比如说，刚开始的人来说是相当容易学习的，而 Drupal 是一个庞大的系统。
那么，有人需要做些什么来打破 Drupal 整体学习曲线的障碍，真正进入一个强大到足以运行像 web 应用程序这样高级的平台呢？

Ronnie: 我认为在每一次新的尝试中，从最基础的开始是一个非常好的方法。所以，从 drupal.org 的[开始，他们有一本很棒的手册，并且随着时间的推移，它变得更加强大。所以，如果你刚刚开始使用新的 Drupal 7 之类的东西。有很多关于如何开始，如何安装，主题是什么样子的，诸如此类的非常好的基本信息。Drupal.org 的论坛是一个很棒的地方。所以，如果你只是一头扎进去，比如说，下载它并开始安装，遇到问题和类似的事情，那些论坛是一个奇妙的地方。然后，你可以变得更书呆子一点。总有 IRC 频道。在 IRC 频道有大量的参与，我发现人们非常友好，愿意回答问题，诸如此类的事情。](http://drupal.org/)

凯文:你知道有哪些视频播客或播客会让你印象深刻吗？我知道一个，对我来说，是 Mustardseed 播客。除了学习 Drupal，还有没有其他人可以帮助你学习一些模块？因为 Drupal 的一部分是发现对你有帮助的模块，所以模块发现也是这样。

罗尼:是的，我不确定哪些还在。我是个有点古怪的人。我其实不喜欢视频播客。

凯文:还好这是音频。

罗尼:是的。

凯文:你可能不想上这个节目。

罗尼:不，这很有趣。我不怎么听。有一个“得到 Drupal？”我想是其中之一。有点像“德鲁巴疗法”。

凯文:是啊，那真是个好主意。

Ronnie: 有一些很棒的帖子。我已经有一段时间没有看这些了，但是谷歌总是一个很好的工具。找到这些东西很容易。

凯文:你是说谷歌一下，对吗？

**罗尼:**没错。

凯文:但是，是的，你提到了一个非常好的问题，“有 Drupal 吗？”。那真是一部很好的电视连续剧。再说一次，Mustardseed 播客真的很好。这些真的可以帮助他们摆脱。我知道当我开始的时候他们帮助了我。问题是你这么早就开始了，对吗？

罗尼:是的，我实际上比视频播客还早。

凯文:对。所以这并不像你会去查这些东西来学习一些东西。但是如果你需要学习的话，这些东西就在那里，这很好。所以我真的想谈谈 Drupal 的一些高级部分，以及让它在其他系统中脱颖而出的底层东西。
部分原因是你之前提到的 Drupal 对模块化的关注。这个想法在 Drupal 中有多深？也许能告诉我们一点关于模块化系统对 Drupal 意味着什么？

Drupal 中的模块化概念渗透到了它的核心。这是它建造的基础，它的力量也是我选择它的主要原因之一。所以，“钩子”是一个术语。随着您越来越多地接触 Drupal，您将会听到“钩子”这个术语，这是一个不为人知的概念。

凯文:对。

Ronnie: 从某种意义上来说，这就是模块之所以成为模块的原因。钩子是核心功能的一部分，比如，与用户相关的动作，或者创建内容。

凯文:是的。

Ronnie: 所以它允许你进入系统内部工作的一个非常低的层次，并改变它的工作方式。这就是它的要点。

凯文:对。

**Ronnie:** 我可以挂钩到一个用户注册过程，我可以挂钩到一个内容创建过程，我可以做非常定制的事情，适合我的特定用例和需求。而在许多其他系统中，功能就是功能。有些人会想尽各种办法来强迫改变这种功能。但是这是一种非常不自然的感觉，并且经常导致难以维护代码库之类的事情。

凯文:对。那么，请告诉我更多关于 Drupal 中挂钩机制的信息，以及它与日常流程的关系。比如，我想在哪里用钩子？或者，如果我正在制作一个模块——因为，就像你说的，这些钩子是模块的核心部分——也许，在工作流中它们是如何互操作的？

Ronnie: 我给你举一个最常见的例子。几乎我现在做的每一个 Drupal 站点，我最终都会为它编写一个定制模块，比如定制表单这样的基本工作。所以，我在 Drupal 站点上做的一件常见的事情，比如说，一些与社区相关的站点，我将拥有一个用户配置文件，然后我将拥有与该配置文件相关联的自定义字段。

凯文:对。

Ronnie: 然后我们可能想在登记表上按一定的顺序显示它们，诸如此类。例如，在这种过程的某些部分中，字段的措辞不是拖放式的。

凯文:对。

Ronnie: 或者，比方说我可能想改变某些字段的标签之类的东西，那么我可以使用 hook form alter，这是非常非常常见的一种。这是一个钩子，让我可以改变在 Drupal 中生成表单的过程。

凯文:对。所以你可以用一个函数，一组参数和一个数组，你可以说，“我想要这个标签。我想要这个身份证。我想要这个类，“所有这种类型的输入字段或者 Drupal 给你的实际输出中的任何东西，对吗？

罗尼:没错。

凯文:所以，我认为这是 Drupal 中几乎所有东西都具备的非常强大的功能。

罗尼:是的，没错。

凯文:所以我认为 Drupal 与 WordPress 的区别在于 WordPress 有很多挂钩。它有，基本上我称之为 WordPress 中的动作和过滤器，里面有很多东西。但是有些事情并没有明确的答案。然而，Drupal 完全基于这个想法，对吗？

罗尼:对。

凯文:如果你同意我的观点，我会说，这里面有更多的控制和功能丰富性？

罗尼:是的。

凯文:多告诉我一点关于模块的基本知识。不仅找到它们，而且安装它们的过程是什么样的？也许有些你日常使用的模块是你离不开的，你必须在一个项目中拥有，有人听了会说，“好的，你提到了这个。我要去谷歌一下，然后从那里学习"？

Ronnie: 有几个 word 课程模块。回到 Drupal 7 之前，我有一个标准的模块列表，这在 Drupal 7 中有点改变，因为有些东西非常受欢迎，Lewis 决定将其中一些功能引入核心 Drupal。所以 CCK 一直是一个…

凯文:对。这能提供什么？

Ronnie: 它代表内容构建工具包。因此它允许您轻松地创建自定义内容类型。举例来说，你可能正在建立一个网站，在那里你想要发布许多不同类型的内容，所以可能是博客帖子或视频帖子，这些帖子附有视频文件和其他东西。这些是一些例子。
所以，CCK 可以让你构建这些内容类型，让你选择你想要的字段，并对这些内容设置约束，它还可以生成你用来创建它们的表单。因此，大部分功能都被整合到核心 Drupal 中。

凯文:从 6 点到 7 点？

罗尼:所以，从 6 到 7，没错。但是即使在 7.1 中，另一个强大的工作模块是视图。这是一个你会用到的模块——比如说，一旦你有了一堆内容类型，你的网站上有了一堆内容，你就想创建各种显示这些信息的方式。因此，视图是一种图形化的方式，可以将数据显示在一起。

凯文:对。

Ronnie: 所以，如果我想在我的网站上有一个博客帖子的首页，我可以说，“给我看看所有的博客帖子。按照这种顺序，这种方式对它们进行排序。”

凯文:对。

Ronnie: 这是一种非常友好的方式，可以在原本复杂的流程基础上构建复杂的流程。

凯文:对。因此，不用在数据库中进行 MySQL 搜索来获得行数组…

Ronnie: 没错，在页面中手动编写 PHP 代码来显示帖子之类的东西，这种方式会把所有这些都去掉。

凯文:对。

**罗尼:**……疯狂并将其简化。

凯文:所以我认为随之而来的事情之一是缺乏对标记的控制，这是事实。那么人们可以用什么工具来解决这个问题呢？我知道 Views 有自己的模板系统。但是除非你想为一个高级网站创建 20 个模板文件，否则这并不理想。有什么模块可以帮助你控制标记吗？

罗尼:是的。语义视图是其中一个的名字。实际上，这可能是任何 Drupal 站点都不能缺少的模块之一。语义视图模块，他们做了大量的工作，使真正清理的过程标准化。所以默认情况下，当你在视图中“生成一个内容列表”时，默认情况下会有很多额外的 div、包装器和标记，很多人都不喜欢。
所以语义视图就像一个过滤器，把所有的东西都过滤掉。但是它仍然允许你为你能想到的每一个显示部分定制模板。所以它很强大，很有颗粒感。

凯文:非常酷。这是关于模块的一点内容。我不敢相信我忘了把这个放在问题里，但是你有这些模块帮助你增加功能。但是你的网站还有另外一面，那就是网站的实际展示，同样，浏览也有帮助，但是更多的是沿着主题的路线。
那么，你能想到有什么特定的工具来帮助主题化吗？我知道 WordPress 有一些。有像创世纪，框架这样的母题。还有一些其他的。我一时想不出 WordPress 有什么类似的东西，但是 Drupal 有没有类似的东西可以帮助加快网站的开发？

罗尼:是的，绝对是。他们有很多人。我想说几个更受欢迎的，是禅宗，它已经存在很长时间了。它本质上就像一个基本框架，所以你可以快速下载并安装它。然后，甚至有一个向导模块，你可以创建一个子主题。它的作用是为你创建主题的整个结构，所有的 CSS 文件。最常用的基本和必需的模板文件之类的东西。
所以禅是一体的。一个更新的非常受欢迎的是 Omega theme，它是内置于其中的响应技术，HTML5，很多更新的东西，它是建立在 Drupal 7 上的。所以，这是几个非常受欢迎的，给你很多现成的东西。您谈到了刚刚学习 Drupal 的人可以快速上手的方法。这绝对是一个非常非常好的方法，因为这些主题给了你很多额外的东西，你必须手动完成，否则如果你从头开始构建一个主题之类的事情。

凯文:是的，绝对是。我认为我学习 WordPress 的一个主要方法是——我不是以同样的方式学习 Drupal 的，我首先学习 WordPress——我完全同意你所说的。因为当我第一次开始使用 WordPress 的时候，我唯一能够真正思考的事情，比如 WordPress 中的循环，只是事物的查询和如何获得菜单，是我总是在寻找 WordPress 的 2010 年主题。比如“这个功能在哪里？这是做什么的？”
所以在 Drupal 中有这样的东西可用，虽然我一开始不会完全控制我的标记，我的第一个项目中不会有那张王牌，但是随着我的继续，我可以朝那个方向构建。我觉得那真的很厉害。
我们已经谈了一点 Drupal 是什么，你为什么选择它，模块方面，粒度，主题化，但是你有所有这些工具。你真的想用 Drupal 做什么网站？因为你有其他更容易使用的系统，比如 WordPress。WordPress 实际上比 Drupal 好用得多。
所以，你有像 CodeIgniter 和 Zend 框架，CakePHP，和所有这些其他类型的 MVC 其他框架。你有表达引擎。为什么是 Drupal？什么情况下使用 Drupal 比较好？

Ronnie: 首先，这总是一个棘手的问题，因为这是每个人都会有不同看法的事情之一。我使用 Drupal 可能是为了我不应该做的事情。

凯文:对。

Ronnie: 我知道其他人什么都用 Drupal。我认为你可以用它做任何事情。但我想说的是，社区网站是一个拥有巨大实力和影响力的地方，因为它有很多用户和角色的核心功能。

凯文:是的，绝对是。

Ronnie: 能够创建不同类型的内容，并允许不同的人群访问和创建这些内容。

凯文:请简单介绍一下。我不想给你太多压力。但是稍微谈一下你现在正在谈论的许可的事情。

Ronnie: 嗯，它的核心内置了一个非常强大的系统，因此开箱即可允许不同的用户组使用。这些被称为角色。在内部，您可以创建这些角色并分配权限。所以你可以，比如说，只给编辑角色。在您发布内容的站点中，说“我们将允许这些人创建帖子并编辑帖子”，但他们可能没有发布帖子的权限。也许那必须被委托给发布者角色，诸如此类的事情。
所以，它有一个非常精细的系统来决定。您安装的每个模块通常都有某种与之关联的权限，您可以基于每个用户组类型启用或禁用这些权限。

凯文:对。

罗尼:所以，当你进入一个非常复杂的生态系统时…

凯文:像一个社区网站？

Ronnie:…例如，一个社区网站，再次回到那个例子，它变得非常强大，因为它让你有一大群人以一种合理的方式合作和互动。

凯文:对。

**罗尼:**所以，肯定很厉害。

凯文:对，这是内置在视图中的，对吗？你能控制对内容的访问？

罗尼:是的，绝对是。比方说，在这种情况下，你可以说，创建一个显示…比方说，你需要为站点中的管理员创建某种管理报告或视图。您可以使用视图构建网站数据的报告，然后您可以明确地说，“我只希望这组用户能够查看这些内容。”

凯文:对，这真的很酷。

Ronnie: 这是非常非常强大的，所以它可以让你很快开始做一些非常复杂的事情。

凯文:对。所以你可以创建一个列表，比如说，你可以创建/admin/user 登录日期，对吗？然后，同一站点上的任何人都可以使用视图模块查看用户登录日期。

罗尼:对。

Kevin: 你不需要去找其他模块来帮你。你可以完全控制它。关于 Drupal，我想指出的另一点是，每个用户可以使用多个角色，对吗？

是的，每个用户可以有多个角色。

凯文:比如，有人可以是编辑，也可以是版主，对吗？

罗尼:对，没错。没错。

凯文:非常酷。因此，我跳到了您的社区中，举了一个您想用于 Drupal 的站点的例子。所以你在谈论你如何控制用户，这就是为什么我打断你一下，有点跑题了。

罗尼:没关系，是的。

Kevin: 但是作为一个使用 Drupal 作为首选工具的网站的例子，你能继续沿着这条路走下去吗，除了社区网站的角色和东西之外？

罗尼:是的。我认为目前也有很多相关的例子。很多更大的公司，你会看到这种情况越来越多。举例来说，Twitter、Skype 和易贝以及许多这样的公司，他们有开发者网站和各种特定的客户社区网站，他们希望人们进来发布请求或反馈，诸如此类。所以，你可以看到大公司现在在这方面大量使用 Drupal。

凯文:【WhiteHouse.gov】T2 对吧？

罗尼:是的。WhiteHouse.gov 就是建立在它上面的。是的，所以这是在许可之间——我认为由于 Drupal 社区的性质，它天生就是社会性的。因此，有很多非常稳定、健壮的模块被贡献给各种社交网络类型的东西，所以把你的网站和 Twitter 联系起来。所以，比方说，也许当我在我的网站上发布内容，自动推文，或整合到脸书，以及所有这些各种各样的事情。
因此，除了在核心系统本身中内置大量用户交互功能外，还有大量贡献社区的模块，它们提供了许多非常棒的社交功能。我认为对我来说，这是我在选择实现 Drupal 时考虑的另一个关键问题。在一个社区网站中，你有很多用户在一起互动，通常是以复杂的方式。所以，我认为这是 Drupal 的优势之一。
所以，它不一定只是一个社区网站，但如果你要有一个拥有大量数据的网站，要有一个重要的用户群……当我说“重要”时，也许是如果你要有一个 15 到 20 人的团队，互动和管理内容，并管理一个相当大的网站的各个方面。

凯文:对。

罗尼:所以，有些时候…

凯文:你面对的不是一个只有一个用户每月更新一次的小网站。

**罗尼:**没错。

Ronnie: 这可能会引出不使用 Drupal 的问题。

凯文:对。

Ronnie: 从我的经验来看，我知道如果我在做一个一两页的夫妻网站，他们可能会也可能不会自己编辑内容，这类事情，是时候不用 Drupal 了。坦率地说，有很多时候，它并没有被用来教任何 CMS 真正在这一点上。
但是我认为，当你真的想拥有一个 CMS 时，它仍然是一个非常非常简单的网站，非常小，单一网站的所有者，我认为 Drupal 有时对那些人来说有点多，这取决于是谁在建立它。

凯文:对，没错。

Ronnie: 因为其中一个警告是我有一个非常…

凯文:这个人知道他们在做什么，还是不知道？

Ronnie: 我有一个非常标准化的方法，在管理端设置所有的 Drupal 安装，我对此感觉非常好。但是我接手的一些 Drupal 网站却不是这样。

凯文:是的，无论你使用什么平台，你都不能让另一个开发者的经验来引导你的经验。因为有很多人来找我，他们说，“我就是讨厌 WordPress。太可怕了。它做了所有这些可怕的事情。它不允许你创建自定义字段和自定义文章类型”，而事实上，它允许。

罗尼:是的。

凯文:只是你的经历还没到。

罗尼:对。

凯文:所以，我认为 Drupal 也有部分敌意，对吗？

当然，绝对的。好吧，你会听到的一些负面消息是学习曲线。因此，尽管有大量的资源，Drupal 是建立在一个不同于许多系统的范例之上的，整个钩子系统和它的模块化，并且有一些相当复杂的元素。所以，我认为这可能是一些负面污名的来源。
还有，也有很多人体验过 Drupal 或 WordPress 或任何系统，他们总是触及表面，并没有真正看到社区和超越的发展，努力改进。我想这是我绝对推荐的一件事，那就是真正尝试参与进来，看得更深一点，然后那就是你真正看到力量的时候，它开始变得有意义，我想。

凯文:是啊，非常酷。嗯，我们有足够的时间进去讨论一些真正先进的东西，这让我非常兴奋。这才是真正让我兴奋的话题。但是继续回顾一下，我们已经讨论了 Drupal 对你的意义，你可以用来入门的模块，你可以用来入门的资源，你可以用来入门的主题。
所有这些东西都是基本的，但 Drupal 还有一个完全不同的层面，它只是将 Drupal 从一个 CMS 提升到一个快速开发网站的惊人平台，尽管你可能不这么认为，因为这需要学习曲线。允许 Drupal 成为这样一个平台的工具之一是 Drush，它与 Drush 有很多模块集成。有多个模块使用 Drush。
但在我变得太兴奋之前，或者我们对 Drush 这件事变得太兴奋之前，你能解释一下 Drush 是什么以及它对 Drupal 意味着什么吗？大问题。

**罗尼:**大问题，那么 Drush 是什么？简单的答案是 Drush 是一组命令行工具。

凯文:对，所以你去了终点站……

Ronnie: 你在终端屏幕上输入命令，在 Drupal 网站上执行操作，而不是进入浏览器，点击按钮，等待，浏览，诸如此类。如果你愿意，我会把它描述为 Drupal 工具的瑞士军刀，因为从某种意义上说，它甚至不是一个合适的模块。你不能像安装其他模块一样在控制面板中安装 Drush。你只需要下载它，然后进行一点点配置。这很简单。

凯文:对。有浅显的教程。这意味着谷歌一下，对不对？谷歌安装？

罗尼:是的，总是用谷歌。是的，但是当你开始讨论 Drush 的时候，你会发现 Drupal 的强大之处和这个社区所做的一切，因为一旦你真正了解了 Drush，这是非常技术性的。所以，重点是你可以这样做，而不是去手动下载…比方说，我有五个模块，我想安装和启用。

凯文:对。

罗尼:这有点像“你好，世界！”一旦您真正开始理解 Drush 的强大，并看到我可以在命令行上向 Drush 中键入一系列非常简单的命令，并自动下载这些模块。它将它们放在正确的位置，解包，然后您就可以启用它们，而不是手动的…

凯文:对，去网站。

**罗尼:**……一个一个下载下来，解包，上传。

Kevin: 对，因为 Drupal 不太擅长的是更新和下载模块的 web 界面，这个已经讲过了。特别是在 Drupal 6 中，我知道在我发现 Drush 之前，我会去一个网站，找到模块或者点击它给你的链接。它说，下载它，解压它，做所有这些事情。

罗尼:是的。

凯文:这是一个有点可怕的过程，而 WordPress——我会继续回到 WordPress，因为它是最受欢迎的，或者说是我喜欢的。有了 WordPress，你只需点击一下，对吗？

罗尼:对。

凯文:然而，Drush 有点像——它是一次点击，但它甚至比一次点击更好，因为如果你想的话，你可以把它放入一个实际的服务器端 Cron 作业或其他东西中。

罗尼:是的。在 Drupal 7 之前，通过 Drupal 中的控制面板更新任何模块的能力是不存在的。

凯文:对。

罗尼:所以，他们加入了。那里有一些争论。我一直都比较专业。我做这个已经很长时间了，所以这也是我倾向于 Drupal 的原因之一，尽管这也是一个安全问题。所以，我可以告诉你，从我继承、建立和工作于各种各样的 WordPress 网站的经验来看，举例来说，已经被黑客攻击了。当然，这不仅仅是因为它是 WordPress，还因为它有允许你的网站下载代码和更新等功能。存在一些固有的安全风险。
所以，我认为这些决定在过去主要是出于安全考虑。但是现在，随着技术的发展，人们在这些方面变得越来越好，越来越聪明，Drupal 将这种功能带入了核心。

凯文:对。

Ronnie: 但是除此之外，我不希望因为我们正在谈论的事情而陷入其中。所以 Drush，整个交易是它带来了很多简单。当你达到开发一个相当复杂的 Drupal 站点的水平时，它会成为一个巨大的时间节省器，那么你将从像 Drush 这样的工具中获得巨大的时间节省。

凯文:对。我知道有些 WordPress 的人听了之后会说，“WordPress 有一个命令行工具。WordPress 有命令行工具”，WordPress 也有。

罗尼:是的。

凯文:我不记得它的名字了，因为我没有使用 WordPress 的命令行工具。但我可以向你保证德鲁士会把他们打得落花流水。因为某些——我不只是这么说——因为我们现在要讨论的某些特性，比如 Drush Make files。这是与备份和迁移功能的集成，只是更新了您已经讨论过的内容等等。

罗尼:对。

Kevin: 所以 Drush 是你工作流程中的一个工具。我知道你会使用——如果你想启动一个社区网站，你脑海中已经有了一个模块列表，你会想，“好吧，我要用这些，”无论是有机组或视图，CCK 还是一些 SEO 的东西。所有这些都在你的脑海中，我知道你使用 Drush 在一个命令中快速打开那个网站，这可以通过 Drush Make 文件获得。什么是德鲁士品牌？

Ronnie: 嗯，你可以用 Drush 制作一些不同的文件。因此，描述使用 Drush Make 的最简单方式就是，您可以使用它来创建一个清单，其中包含您希望在站点中使用的所有贡献模块。所以，我认为它有点像一个配置文件。因此，我可以从我已经建立的网站生成它，然后我可以重用它，本质上，就像一个快捷方式来下载大量的东西，并启用它们，这样做一些真正的基本配置安装。
所以，再一次，一旦你开始构建…当我开始使用 Drush 时，我可能一次只下载两三个模块。现在我可以封装一个庞大的模块列表，使用 Make 进行设置，然后让 Drush 自动下载并安装它。在此基础上的进一步发展是使用 Drush 工具套件来创建和安装概要文件。

凯文:好的。这是什么？

Ronnie: 你看，在许多开源项目中，Drupal 有不同的发行版，比如 OpenPublish。我首先想到的就是这个。现在有一大堆了。有一个电子商务 Kickstarter。有各种各样的。因此，除了捕获您想要安装和启用的模块列表之外，您还可以捕获其他配置信息。
或者让我们说你想安装样本数据。您可以将它放入安装配置文件中。所以，这实际上是你在创建你自己的 Drupal 发行版。这在现在很常见。比方说，我建立了大量的社区网站，我知道我一直想要一个博客。我希望所有这些部分都以某种方式设置。因此，我可以在安装配置文件中捕获它，然后运行我自己的安装程序。
下次我想创建类似的网站时，我会完成看起来像正常的 Drupal 安装过程。但是我选择安装我的电子商务网站 Kickstart，它完成了我通常需要手动完成的大量任务。

凯文:对。

Ronnie: 这样你的作品很容易复制。

Kevin: 这样，你最初花在设置上的四个小时就能在几秒钟内搞定。

罗尼:对。

凯文:我认为那真的很棒。网上有很多这样的资料？

罗尼:是的。在 Drupal.org 的[网站上有一整版的发行版。](http://Drupal.org/)

凯文:是的。我要向你扔一个曲线球。埃吉尔是其中的一部分吗，还是埃吉尔或其他什么地方？

罗尼:你知道，我从来不知道该怎么说。

Kevin: 我也不知道怎么说。

罗尼:我很确定它在上面，是的。我相信是的。这是真的。

凯文:这是基于个人资料的…

Ronnie: 是的，这是一个基于安装配置文件的发行版。

凯文:为了不让人们感到困惑，这是我问你的一个私人问题。但是什么是埃吉尔呢？

Ronnie: 它本质上是 Drupal 站点的托管环境。所以您实际上可以设置一个服务器并运行 Drupal 发行版。你基本上可以管理…这只是专门针对托管 Drupal 网站…

凯文:对。

**Ronnie:**…所以部署它们，管理它们。

凯文:对。管理您的超线程访问，设置，所有的东西，缓存，向上和向下的时间。

Ronnie: 所以，如果你是一家咨询公司，你专门从事 Drupal，那么你可以管理一整个 Drupal 网站家族。

**Kevin:**Drupal Acquia 是个人资料吗？

罗尼:嗯。

凯文:是吗？

罗尼:是的。Acquia Drupal 使用安装配置文件。他们现在差不多都这样了。但是，是的，如果你愿意的话，这已经成为使你的发行版易于复制的一种常见方式。以便任何人都可以下载它并通过典型的 Drupal 过程。

凯文:对，所以基本上这个 Drupal Make 就相当于有能力制作你自己的 BuddyPress？

罗尼:嗯，是的。

凯文:或者我认为论坛出版社是另一个…我不是 100%确定是论坛出版社。大部分时间我只是用 BuddyPress。这就是 Drupal 制作文件。对我来说，这真的是——是你让我认识到这一点的。我认为这可能是 Drupal 最神奇的工具之一，就是能够说，“你知道吗？如果我知道我要建立一个博客网站，我可以创建这个个人资料，启动它，我就可以开始了。”对吗？
所以，这可能是 Drupal 的一个真正的痛点，只要使用 Drush 就可以解决。现在，还有其他工具与 Drush 集成，如备份、迁移，我相信功能也与 Drush 集成，对吗？

Ronnie: 是的，所有这些都证明了 Drush 本身的力量。Drush 在概念上遵循了 Drupal 的脚步，它允许任何模块实现命令，使特定的命令对 Drush 可用，因此它有自己的脚本格式。

凯文:所以它没有在你的终端上执行网站上的任何东西？是你的终端和网站的连接？

罗尼:是的。

凯文:所以，这些模块不会在你的服务器上运行并开始写命令，对吗？

Ronnie: 现在，您可以将其设置为在远程站点上实际执行。但是为了保持对话的简单性，备份和迁移是一个非常受欢迎的备份和迁移模块，这就是它的意义所在…

凯文:对。

Ronnie: 这样你就可以用它来设置自动备份之类的东西。这是一个神奇的工具。这是我在几乎每个 Drupal 站点上使用的一个工具。所以他们增加了对 Drush 的支持。例如，当我在终端环境中更新和安装模块以及做类似的事情时，我经常想要制作数据库的快照。

凯文:好的。

**Ronnie:** 您可以在该环境中使用备份迁移。所以我可以告诉 Drush——它有一个快捷命令——我可以说，基本上用 Drush 备份，然后它会将所有数据库转储到指定位置。

Kevin: 你可以将所有这些都放入 Cron 作业中，并按计划备份你的数据库？

罗尼:当然可以。是的，绝对的。非常非常方便。

凯文:那很酷。是的，它是。挺好看的。因此，您有备份和迁移，这就像备份解决方案。然后，我们谈了一点特性，但是特性是一种独立的东西。这几乎就像为在 Drupal 上制作模块制作概要文件一样。

Ronnie: 是的，创建功能模块是为了解决当前的问题。不仅仅是 Drupal 特有的。在 Drupal 站点中，您的设置中有相当多的方面需要配置并存储在数据库中。

凯文:对。

Ronnie: 所以，特性是一种提取通常只存储在数据库中的东西的方式。

**Kevin:** 例如，您可能已经创建了 CCK 字段和视图，但您不能直接移植过来。

**罗尼:**没错。所以我们可以想出很多不同的例子，我做了某件事，设置了一些设置等等，然后只存储在数据库里。如果我想，比方说，在一个可靠的开发环境中，我称之为可靠的环境，我在本地工作，我可能有一个远程开发服务器，暂存服务器，然后我有我的生产服务器。
所以，我有这些不同的环境，我需要，比方说，能够在这些环境之间移动配置。很明显，您不希望每次进行保存在数据库中的配置更改时，当数据发生变化时，您都不得不在所有环境中手动重复这些点击操作。在这样的环境中，你会看到各种各样的移动部件。所以，特性是一种将它包装成代码的方式。

凯文:对。

Ronnie: 这样我就可以部署它，让代码更新它，而不是我必须手动在网站中执行这些点击。

凯文:对。

Ronnie: 描述特征有一个简单的方法，就是这样。

凯文:对。例如，根据您的描述，我可以进入视图，创建包含作者姓名、博文标题和博文正文的博文列表。我可以将视图设置保存到一个特性中，然后在试运行环境中部署该特性。获取该特性并将其安装到生产环境中。
这样我就有了我的博客功能，不用担心点击错误的东西或弄乱显示，而且基本上也能知道这将是一对一的。我不会忘记，比如说，如果我使用我们讨论过的语义观点，我就不会漏掉一个类名什么的，对吗？

罗尼:是的，没错。所以它可以让你很容易地复制这些配置。

凯文:那么，对我来说，这听起来像什么，如果可能的话，这将是非常酷的，如果我有一个 Make 个人资料，其中可以包含一些功能…

罗尼:当然可以。

凯文:…我可以把它放在某个服务器上。因此，如果我正在建立一个网站，并且我已经创建了一个视图来列出用户及其上次登录时间，或者创建一个博客帖子，或者一个视频博客的视频页面列表，我可以将它们创建为功能，然后在我的 Make 配置文件中使用它们作为模块，以自动构建它。这可能吗？

罗尼:嗯，你可以。您可以将特性放入安装配置文件中，甚至在创建特性时也可以这样做。
所以，当你创建特性时你可以指定一个更新服务器。这样做是通过引入一个功能模块到一个网站中，你在某种程度上增加了一点复杂性，你必须保持这个功能。

凯文:对。

Ronnie: 在一个普通的 Drupal 站点中，会返回一个更新状态模块，我会收到更新可用时的通知，就像你可以做的那样，模仿同样的事情。因此，如果您最终包含了您已经构建到安装配置文件中的特性，那么您可以通过这些工具的组合来实现可维护性，这就是我要说的。创建安装后…

凯文:对。一旦你有 20 个网站的权利。

**Ronnie:** 一旦您创建了安装描述文件，随着您的操作，即使只是核心社区模块，它们也会在一段时间后更新，因此安装描述文件只是一个即时快照，所以您会想要更新它。所以现在，如果我去下载电子商务 Kickstarter 并安装它，他们刚刚创建了它，其中一些模块可能已经过时，所以我必须更新这些模块。

凯文:你也可以更新那些来自德鲁士的，对吗？

Ronnie: 你也可以从 Drush 更新那些。

凯文:所以都在一个空间里。

Ronnie: 我的观点是，你可以做到那种复杂程度，这太棒了。只是有些事情你必须知道。

**Kevin:**Drupal 的博客功能真的让我很兴奋，因为你多久创建一个网站，我们就自动想要博客功能，就这样它就在那里，或者这就是客户所说的，当你看到 Drupal 的内置博客功能时，每个人都会删除它，大多数时候都只是浏览一下。
但是当你这么做的时候，你可能会失去按分类法列出文章的能力。你失去了按作者列出东西的能力。因此，要在一个 Drupal 视图中创建多个显示，然后将其打包到一个特性中，这样，任何时候你想要一个博客，你都可以拥有完全相同的核心功能。
所以，你可以创建一些我们没有提到过的东西，我们可以在 Drupal 中创建这些块。因此，我可以创建一个块视图，在这个视图中列出我的所有分类，如果你愿意，我可以通过功能访问它。然后在股票档案中，我可以有一个我喜欢的博客，我已经定制了。我认为这真的非常非常令人兴奋。

罗尼:是的。

凯文:你可以用它做很多其他的事情。

罗尼:我们可能会在这里呆上一整天。

凯文:是的。所以，我们已经没时间了。你有什么想法吗，当我们在谈话的时候，你想到的任何事情，你就像，“伙计，我需要提到这个。”你可以帮助那些正在听的人，也许，增加他们的学习经验，或者帮助他们跳进 Drupal 的游泳池？

罗尼:不。我鼓励人们直接参与进来，把手弄脏。我鼓励人们去看代码，即使你不是超级开发人员或类似的人。我发现去那里真的挖掘，你会学到很多东西和很多评论，很多类似的东西。
我知道说“去读代码”可能听起来有点奇怪，但即使在我成为一名优秀的开发人员之前，我也发现这是一种回到源头并学习一些东西的好方法。

凯文:是的。这在开发领域很常见，如果你想学习 Cake，如果你想学习 WordPress，如果你想学习 Ruby，去看看那个代码库，因为它会向你展示事情是如何完成的。所以，你可能会去看看 Ruby 中的一些东西，并想，“哦，这就是他们如何做这个特定的事情，现在我知道下次我做它时，我应该以类似的方式做它。”因此，它让您了解系统或平台中的某些新技术。

Ronnie: 是的，但除此之外，我要告诉你的最重要的事情是参与。这是开源软件的美妙之处之一，也是我们现在在文化上如此紧密相连的原因之一。所以，到论坛上去，进入更高的种子频道。
有很多面对面的 Drupal 活动。现在有了德鲁巴营地。有 Drupal Cons，一年两次，而且到处都有越来越多的这类事件出现。因此，我认为参与其中并真正看到围绕它建立的社区对任何参与其中的人来说都是巨大的。[听不清 00:42:04]社区本身。

凯文:是的。嗯，在 Drupal 中，我想谈论的东西太多了，比如块和所有其他粒度的东西。也许改天，另一次谈话，但是，罗尼，非常感谢你来节目中谈论这个。我非常喜欢它。人们在哪里能找到你？

罗尼:RonnieTaylor.com 是我现在的网站，我有一个老派的 Twitter 账号， [@rontec76](http://twitter.com/rontec76) ，R-O-N-T-E-C-7-6，在 Twitter 上相当活跃。这些是人们联系的方式。谢谢你邀请我。

凯文:是的。谢谢你参加这个节目。

罗尼:再见。

凯文:再见。
感谢您收听 SitePoint 播客。如果您对今天的节目有任何问题或想法，请随时联系我们。你可以在 Twitter 上找到 SitePoint[@ sitepointdotcom](http://twitter.com/sitepointdotcom)，那是 sitepoint d-o-t-c-o-m。你可以在 Twitter 上找到我 [@kevindees](http://twitter.com/kevindees) ，如果你想对今天的节目发表评论，请在[sitepoint.com/podcast](https://www.sitepoint.com/podcast/)查看播客，你也可以在那里订阅节目。SitePoint 播客的这一集是由 Karn Broad 制作的，我是 Kevin Dees，再见。

[通过 SpeechPad 进行音频转录](http://speechpad.com/)。

迈克·梅拉的主题音乐。

感谢收听！请随时让我们知道我们做得怎么样，或者使用下面的评论栏继续讨论。

## 分享这篇文章