# 托管你自己的短网址

> 原文：<https://www.sitepoint.com/host-your-own-short-urls/>

在过去的一周，web 开发社区收到了一些消息，许多人认为这是不可避免的，但来得比预期的要快得多:一个主要的 URL 缩短服务(在这个例子中， [tr.im](http://tr.im/) )正在关闭。此后，tr.im 宣布了继续经营下去的计划，但即便如此，这也是一个重要的警告。

自从推特鼓励我们用 140 个或更少的字符来表达自己以来，像 tr.im 这样的网址缩写就风靡一时。这些服务采用一个相对较长的 URL(就像你在浏览器中阅读这篇文章时可以在地址栏中看到的那个),并生成一个重定向到它的微小 URL，当你在 Twitter 上提到这个链接时，你可以用它来保存字符。

网址缩短已经成为一个竞争空间，竞争者有 [TinyURL](http://tinyurl.com/) 、 [is.gd](http://is.gd/) 、 [Metamark](http://metamark.net/) 、 [ow.ly](http://ow.ly/) 、 [Su.pr](http://su.pr/) 、 [thurly](http://thurly.net/) 、 [tinyarro.ws](http://tinyarro.ws/) 和 [TweaK](http://tweak.tk/) 。这些服务中的每一个都提供了 URL 长度、第三方 Twitter 客户端中的 API 支持、带统计信息的 URL 访问跟踪以及其他新颖功能的不同组合。

凭借其五个字符的主机名和可靠的点击统计，tr.im 在比赛中表现出色。但是当 Twitter 支持竞争对手 bit . ly 使用它来自动缩短通过 twitter.com 发布的网址时，tr.im 动摇了。面临着一个漫长的艰难过程，最终没有明确的赚钱方式， [tr.im 决定关闭](http://blog.tr.im/post/159369789/tr-im-r-i-p)，网络开发者们都疯了。

好的一面是，所有好的 URL 缩短服务都使用永久重定向(也称为 301 重定向，以其 HTTP 响应代码命名)将浏览器发送到完整的 URL。这意味着像谷歌这样的搜索引擎将跟随重定向到它的目标，并只索引它。

但是，与谷歌不同的是，有些人发布了一个 URL 而没有跟随重定向。许多博主习惯性地将 Twitter 上缩短的网址逐字复制到博客文章中，所以当 tr.im 这样的网址缩短服务消失时，这些链接就断开了。

为了回应开发者的抗议， [tr.im 让步了](http://blog.tr.im/post/160697842/tr-im-resurrected)，放弃了它的计划，呃，放弃这项服务。tr.im 现在已经承诺将[作为一个社区拥有的服务](http://blog.tr.im/post/165049236/tr-im-to-be-community-owned)，但是没有一个计划来抵消其持续的托管成本，tr.im 的公开后空翻可能会让它输掉这场比赛。

简而言之(无意双关！)，URL 缩短服务极大地削弱了将 Web 连接在一起的超链接的网格。想要可靠、永久链接到他们的东西的开发者需要找到一种更好的方式来提供它们。

让你的短网址免于被其他人破坏的唯一方法是生成你自己的短网址并把它们放在你的网站上。如果你做过很多服务器端的开发，你可能很快就能在脑子里勾勒出如何编写这些代码。

如果你不是开发者，你可以看看一些已经出现的 URL 缩短插件。la petite url 是一个 WordPress 插件，它会自动为你博客上的文章生成简短的 url。大多数流行的博客平台和内容管理系统都出现了类似的插件，但如果你找不到适合你特定发布平台的插件，肖恩·因曼刚刚发布的 [Lessn](http://www.shauninman.com/archive/2009/08/17/less_n) 是一个可靠的独立网址缩短器，你可以自己托管。

当然，提供你自己的短网址只是解决了你自己发布的链接的问题。其他人可能仍然会使用上述服务创建的脆弱、简短的 URL 链接到您。

这个问题的一个建议解决方案是[短 URL 自动发现](http://relshorturl.appspot.com/)。想法是在文档的`head`中包含一个标记，宣传这个页面的短 URL:

```
<link rel="shorturl"
  href="http://example.com/1234"/>
```

最新的短 URL 插件(包括 la petite url)会自动为你添加这个标签。

理论上，Twitter 客户端和其他需要获取短 URL 的软件会加载你的文档，发现这个标签(或相当于 [HTTP 头的](http://relshorturl.appspot.com/))，并使用你发布的短 URL，而不是使用第三方服务生成一个。

在实践中，虽然一些前瞻性的网站现在使用这种方法发布短 URL，我们还没有看到第一个广泛使用的应用程序支持短 URL 自动发现。我们或许可以期待这很快发生，但每个人都希望的大胜利是 Twitter 自己意识到出版商支持的短 URL 的价值，并在它们可用时开始使用它们而不是 bit.ly。

当然，Twitter 可以为了 140 个字符的限制而忽略 URL，永远消除短 URL 的弊端。是啊，猴子可能会从我屁股里飞出来。

## 分享这篇文章