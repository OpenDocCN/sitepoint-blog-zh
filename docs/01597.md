# 为什么暂存环境对 WordPress 站点至关重要

> 原文:[https://www . site point . com/why-staging-environments-are-critical-for-WordPress-sites/](https://www.sitepoint.com/why-staging-environments-are-critical-for-wordpress-sites/)

![](../Images/550a21c9874d3d7c864cba880092880f.png)

*本文是与 [SiteGround](https://www.siteground.com/go/article-sp) 合作创作的系列文章的一部分。感谢您对使 SitePoint 成为可能的合作伙伴的支持。*

你有没有想过你组织 WordPress 开发的方式？你使用版本控制吗？暂存环境如何？

## WordPress 的开发过程

WordPress 的出现——有史以来对消费者最友好的内容管理系统之一——创造了一种不同的开发模式。WordPress 的可访问性，以及为其预先制作的主题和插件，允许 web 开发者在需求较低的时候快速而轻松地创建网站。

但它比这更进一步——其中一些开发者并不完全理解平台和他们的插件所基于的语言(或者根本不理解它)。例如，当考虑一般的 PHP 或 JavaScript 开发人员时，许多人仍然没有使用测试、独立环境或版本控制等适当的编程技术。现在，考虑一个简单的 WordPress 站点的开发可以由一个训练或经验少得多的人来完成(或者由一个有经验的程序员来完成，目标是草率)。在安全和维护方面偷工减料的比例几乎肯定会上升。

记住所有这些，谚语棺材上的最后一颗钉子是这样一个事实，WordPress 的更新和维护可以在平台内如此容易地完成。更新平台或几乎任何插件的能力非常棒，但这也意味着“牛仔编码”——直接在现场进行更改——非常方便，非常诱人。也就是说，直到灾难降临。

## 关于暂存环境

许多 WordPress 网站的生命周期开始于一个独立的开发环境，它是在这个环境中构建的(希望它不是在一个真实的生产环境中构建的)。构建完成后，它将被迁移到生产环境中。这就是事情有时会分崩离析的地方。

如果实际的生产主机与开发环境略有不同，缺少一些依赖项或软件，有不同的版本，等等，该怎么办？或者更新插件导致网站崩溃怎么办？如果一个主题更新破坏了你的孩子主题，而你又不能马上诊断出问题所在，该怎么办？

这些问题通常可以通过使用 staging environmentss 来避免，而 staging environment 经常被 WordPress 站点管理员所忽视，然而对于他们来说和其他 web 平台一样重要。

## 设置暂存环境

设置暂存环境的目的是使其尽可能与您的实际生产环境相同。使用相同的托管服务，或相同类型的虚拟专用网。尽可能模拟真实环境。使用相同的 WordPress 版本，相同的插件，相同的配置。一个巧妙的技巧是使用一个[备份/迁移插件](https://www.sitepoint.com/5-wordpress-plugins-backups-migrations)在你的网站首次创建时创建一个镜像副本(或者现在就做，如果你有一个现有的网站但没有暂存环境)，这样两者从一开始就是相同的。然后，您可以设置一个子域(或者另一个域)来访问站点，比如`staging.example.com`。

一旦有了中转站点，使用它就很简单了。任何时候，如果您想在生产站点上进行更改，只需首先在临时站点上进行更改。更新主题或样式时寻找主要问题。在更新购物车或其他更详细的插件或定制代码时，测试功能性问题。确保永久链接在更改后仍然有效。当更新 WordPress 平台和插件时，首先在这里做。这样，如果出现问题，你可以在它出现在大家真正关心的网站上之前发现它！

## 选择托管

你会想要选择一个能满足你需求的主机。对于那些熟悉 web 服务器管理的人来说，当您需要一个中转站点时，启动第二个 VPS 是一个合适的解决方案。根据您进行更改的频率，您甚至可以在开发周期之间关闭它并节省一些钱！

如果你有共享主机，你会寻找一个主机提供这种开箱即用的东西，以避免必须建立两个镜像共享主机帐户或软件包。一些虚拟主机提供这种功能作为他们主机包的一部分，而且非常容易使用。我们的托管服务提供商如 [SiteGround](https://www.siteground.com/go/article-sp) 就做这个，如果你感兴趣，他们有[的教程](https://www.siteground.com/tutorials/staging/)会带你使用他们的暂存环境。我们也刚刚发布了一个关于保持你的开发和生活 [WordPress 环境同步](https://www.sitepoint.com/synchronize-wordpress-live-development-databases)的教程。

不管您的情况如何，如果您没有在投入生产之前使用试运行环境来测试您的更改，那么现在就开始做吧！

## 分享这篇文章