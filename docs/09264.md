# 不使用内容交付网络的 7 个理由

> 原文:[https://www.sitepoint.com/7-reasons-not-to-use-a-cdn/](https://www.sitepoint.com/7-reasons-not-to-use-a-cdn/)

虽然有许多[令人信服的理由使用内容交付网络(CDN)](https://www.sitepoint.com/7-reasons-to-use-a-cdn) ，但在将重要文件放在其他域上之前，您应该考虑以下情况…

**1。额外的复杂性**
如果你是离线开发，链接到一个 CDN 文件是不起作用的。这很少是一个问题，但一些开发人员有不稳定的互联网连接或需要移动工作。

在将您的站点部署到实时服务器时，您可能还需要一个构建过程或手动干预。有必要将 JavaScript 库和其他资产的本地链接 CDN 化。如果你使用亚马逊 S3 这样的服务来托管一些资源，而不是其他资源，事情会变得复杂。

**2。文件可能没有被优化**
考虑一个模块化的库，比如 Modernizr 或者 YUI。免费的 CDN 托管文件是可用的，但它们通常在一个可能超过数百 Kb 的大软件包中提供所有常见功能。

如果您只需要一些特性，您可以使用自己的专用版本，合并所有 CSS 和 JavaScript 文件来调用更少的 HTTP 请求。结果是下载速度更快、执行速度更快的小文件——尤其是在移动设备上。

也就是说，你可以上传优化的文件到一个私有的 CDN，但是你需要考虑额外的工作和成本。

**3。没有预缓存保证**
虽然一个流行的 CDN 文件被预缓存的可能性很高，但这并不是必然的。特别是，移动设备的缓存往往很小，效率相当低。这种优势可以忽略不计，尤其是如果您可以在本地服务器上托管一个较小的文件。

**4。封锁访问**
我们生活在一个有地理、法律、政治和商业边界的世界。组织或整个国家封锁流行的免费 CDN 服务的域名或 IP 地址并不罕见。

同样，谷歌和微软等公司必须遵守美国出口法律。众所周知，古巴、伊朗、朝鲜、苏丹和叙利亚对数据的使用有限制。被封锁国家的名单可能会因任何政府的一时兴起而改变。

**5。两个故障点**
当你的网站瘫痪时，这是灾难性的，尽管有良好的可靠性记录，cdn 也不是绝对可靠的。除了等待服务恢复，你别无选择。

如果服务不可用，可以使用 CDN 并回退到本地文件。这是一个提供高水平冗余的解决方案——代价是进一步的开发和复杂性。

**6。安全**
如果安全是一个主要问题，不要使用公共 CDN。当一个远程文件被调用时，关于引用者的信息也被发送。远程托管的 JavaScript 库尤其危险，因为代码可能会被修改以收集有关用户或系统的数据。

同样，如果您需要 HTTPS，您的 CDN 选项将更加有限。

**7。失去控制**
你乐于将网站文件的控制权交给谷歌、微软、亚马逊或任何其他大型网络公司吗？你担心他们正在整理你的网站和系统的信息吗？那些公司对网络的控制太多了吗？也许这是偏执狂，但是当每个人都想利用你的时候，你有理由变得偏执狂！

如果你对所有这些优点和缺点感到头晕目眩，请马上回来看最后一部分:*你应该使用内容交付网络吗？*

## 分享这篇文章