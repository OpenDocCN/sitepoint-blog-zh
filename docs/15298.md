# HTML 电子邮件疑难解答

> 原文：<https://www.sitepoint.com/html-email-troubleshooter/>

因此，你想给你的客户、潜在客户或时事通讯订阅者发送 HTML 格式的电子邮件。市场营销自上而下地宣扬它，小企业客户需要它，管理层的一位高管也读到过它。

为什么不呢？HTML 邮件的点击率明显更高。统计数据显示，与文本邮件相比，用户不太可能退订 HTML 邮件。在我最近的 [TemplateKit 电子邮件简讯](http://www.florentinedesign.com/email_tk/)中，我有 11 个退订者，其中 10 个是短信接收者。客户只是以更多的点击、更多的销售和更多的信息查询来回应，但前提是你的信息是以一种收件人可以容易地查看和正确显示的形式。

事实是，电子邮件 HTML 浏览器并不等同于网络浏览器。各种各样的设置、首选项、安全更新、版本和第三方应用程序使情况变得更加复杂，这意味着用户体验极难预测。最近我看到了:

*   客户试图通过电子邮件发送表格，但电子邮件在基于网络的电子邮件阅读器中终止
*   与基于网络的电子邮件系统相冲突的样式表(感觉到模式了吗？)
*   被处理两次并中断的重定向
*   在 Outlook 预览窗口中开始流动的 Flash 或 Shockwave 片段，然后在打开电子邮件时再次开始
*   当浏览器的安全设置或基于网络的电子邮件客户端禁止 JavaScripts 时，它们就会爆炸
*   Hotmail 链接记帐系统下神秘断开的链接

…这些只是我最喜欢的现象中的几个。因为它们是两种最常见的电子邮件客户端，所以让我们先来看看 Microsoft Outlook 和 Outlook Express，以及它们如何呈现 HTML。

##### 常见电子邮件客户端

Outlook 根据您当前的配置决定使用 IE 的完整版本(取决于您可能拥有的版本)还是使用“精简”版本。可以帮助您理解这些差异的两个资源是:

*   [Outlook 电子邮件安全更新信息](http://support.microsoft.com/support/kb/articles/q262/7/01.asp)
*   【Outlook 如何呈现 HTML

当你输入你的内容时，你需要注意一些潜在的问题。您可以通过多种方式发送邮件:

1.  作为附件
2.  作为嵌入文档
3.  作为原始 HTML(咨询您的个人电子邮件程序)
4.  通过 bCentral 的 Traffic Builder 等第三方应用程序或 Xchange-e messaging 等强大系统

当您在应用程序中输入 HTML 时，如果您:

*   从网页中剪切和粘贴
*   从 MS Office 产品中剪切和粘贴
*   使用以前邮寄的文档作为代码的基础

##### 从网页中剪切和粘贴

有许多方法可以在不使用 HTML 编辑器的情况下从现有文档中获取 HTML 代码。您可以“查看源代码”并将代码复制到剪贴板，您可以使用“另存为”命令创建一个副本，或者您可以尝试从文档正文中选择代码并将其粘贴到另一个程序中。您需要注意的是文档中的链接是如何设置的。如果您的文档包含许多相对链接img/yourimage.gif)，那么在进行预览和测试时，您可能无法找到您的图像。

您可能希望在 HTML 电子邮件中包含一个基本标签，以便收件人的浏览器知道如何解释与文档相关的链接。基本元素允许设置全局参考信息。当脱离上下文阅读文档时，HREF 属性的使用为文档中所有相对 URL 引用的解释提供了一个基地址。TARGET 属性指定用于页面激活更改(在链接、表单和图像映射中)的全局框架目标名称。

例如:
`<BASE HREF="http://www.florentinedesign.com" TARGET="_top">`这可能对你的邮件有帮助，但是我建议你为每个链接使用一个绝对的 URL。

##### 从 Microsoft Office 产品中剪切和粘贴

如果您从 Microsoft Word 中剪切和粘贴，总有可能有些格式不能很好地移植到 HTML 中。这在自动格式化的情况下最常见，当 MS Word 将普通的击键转换成符号，-，""，以及许多其他符号时。这些被称为 Windows 字符，它们不会被浏览器解释:Word 将这些 ASCI 字符表示为浏览器无法理解的数值。

这就是为什么最好在文本模式下工作，或者将你的文档保存为 DOS 文本文档，并在传输到 HTML 电子邮件之前丢失所有格式。值得考虑的优秀文本编辑器是 TextPad，它允许您指定应该使用哪种代码集并将文档另存为。请注意，仅仅将您的代码粘贴到 TextPad 中，或者将您的文档在 MS Word 中保存为文本文档是不够的。

##### 使用以前邮寄的文档作为代码的基础

每当您试图使用已经寄出的代码作为新邮件的基础时，都可能会遇到问题。当您想要重用的代码已经通过基于 Web 的浏览器呈现时，这种情况最常见。许多基于网络的电子邮件客户端和图像托管公司，如 Netscape NetMail 或 Akamai，都有自己的重定向和记帐功能。如果您试图向这些函数发送一个已经被它们的系统处理过的链接，它们将会断开您的链接。

因此，简单地说，不要试图重定向重定向。对于您自己的重定向也是如此。

因为这些系统会将重定向分配给它们能够发现的任何 HTML 链接，所以避免使用“命名锚点”通常会更好。命名锚点，或“跳转锚点”，是将你带到同一文档中的另一个位置的链接:
`<A Name="foo">`如果一个重定向被放置在命名锚点上，它很可能会断开链接或产生一个新的浏览器窗口——产生不可预知的结果。从营销的角度来看，如果你的电子邮件太长，你觉得你需要使用命名锚，也许你应该考虑编辑。
`<A Href="#foo>This would jump you to "foo" in this email"</A>`

##### 电子邮件中不必要的 HTML

现在让我们来讨论一下不同的元素，它们虽然经常包含在邮件中，但并不是真正必要的。在你邮寄之前，应该去掉下列元素。这将减少邮件的总体大小，并提高客户发送、呈现和接收邮件的速度。虽然这对于 100 封邮件来说似乎没什么大不了的，但是想象一下在一天之内发送 500 万封左右的电子邮件…

***所有 Meta 标签，包括刷新缓存&杂注***

许多系统会默认禁用一些 Meta 标记，但是当 Outlook 收到刷新命令时，它只会在预览窗格和打开的邮件中显示空白内容。基于网络的系统通常只会显示你的`<BODY></BODY>`标签之间的内容。

***<称号></称号>***

你的电子邮件的主题部分负责这个元素。

***长注释或被注释掉的章节***

***导出为 HTML 的程序***

如果您使用 Dreamweaver、FrontPage 或 Adobe，请避免引用任何扩展、样式或 Fireworks/Image Ready 表格。这在首页扩展中最为常见，它经常引用 IE 风格。如果您有一个使用库项目(如 Dreamweaver)的文档，您必须将库项目拆分开来，然后将代码作为原始 HTML 插入，这样您的邮件才能正常工作。

***重定向***

许多基于网络的电子邮件客户端把他们自己的重定向放在你的链接上(不管出于什么邪恶的原因……)。因此，如果你在 URL、turls 或查询字符串上放置你自己的重定向，它们可能会中断，或者在你的电子邮件中间显示为纯文本。

***无关样式表***

确保如果您使用样式表，它们只包括您将用于特定邮件的元素。这有助于从邮件中删除大量不必要的代码。当模型包含网站的整个样式表，而不仅仅是邮件中使用的样式时，这种现象最常见。

因此，如果你有 100 行代码，定义了网站上的 25 种样式，但你的 HTML 电子邮件只使用一种样式，你可以在 HTML 代码中标记该样式，或者你可以简单地定义一种样式，并将其应用于整个电子邮件。虽然对于几百封邮件来说这看起来没什么大不了的，但是，如果你一天要发送一百万封邮件，这一数字就会增加。

***特殊字符***

在 HTML 邮件中使用特殊字符时要小心。特殊字符包括那些必须通过转义序列生成的字符(例如:HTML 中的= ©),许多电子邮件浏览器在阅读这些字符时会有困难。

需要特别小心的一个字符序列是不间断空格字符( )。许多所见即所得的编辑(如 FrontPage & Dreamweaver)已经爱上了这个角色。此外，许多 WYSIWYG 编辑器使用不间断空格来打开, when viewed by most Netscape browsers, it usually closes. When you have to keep aWhen opening cells to make your design work, you should use interval GIFs.

##### HTML 电子邮件——有效沟通

尽管 HTML 电子邮件似乎需要降低功能级别，但是如果您遵循上述约定，您仍然可以向您的订户提供有效的通信。

在讨论的下一部分，我们将探索在电子邮件中包含 JavaScript &富媒体元素，如 Flash 和嵌入式视频。到时候见！

## 分享这篇文章