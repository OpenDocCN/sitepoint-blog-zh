# 道格拉斯·克洛克福特:JavaScript 并不糟糕

> 原文:[https://www.sitepoint.com/interview-doug-crockford/](https://www.sitepoint.com/interview-doug-crockford/)

在上周的 Web Directions South 会议上，SitePoint 的凯文·杨克有机会与雅虎架构师兼 JavaScript 专家道格拉斯·克洛克福特·T2 进行了交谈。

道格拉斯给[做了一个题为*网络前进！*(前 *Ajax 安全* )](http://www.webdirections.org/resources/douglas-crockford-ajax-security/) ，他在其中描述了 JavaScript 作为一种语言的潜力和问题，以及它需要如何改变才能让网络继续发展。他着重强调了当前开发 web 标准的过程是如何让我们失望的，以及迫在眉睫的浏览器大战如何提供解决方案。

你好，我是来自 sitepoint.com 的凯文·杨克，我现在和雅虎的道格拉斯·克洛克福特一起在 2008 年南方网站上。你好道格。

你好。

所以，我听你说过好几次 JavaScript 有多烂，有多少问题，但你似乎对它投入了很多热情。这是为什么呢？

我想你没听过我说这很糟糕，因为那不是我的立场，除非我偶尔附和市场情绪。

啊，这很公平。

我很清楚它的缺点。但我相信，如果你去掉它的缺点，你剩下的实际上是一种优雅、美丽的小语种。它不仅是一种美丽的小语言，而且也是一种强大的语言，是世界上使用最广泛的语言。

是的。从语言的来源来看，它的能力让我不断感到惊讶。我的意思是，20 世纪 90 年代的一天，网景公司说，“我们需要一点语言来运行我们的浏览器。”我们最终得到的非常接近我们今天拥有的 JavaScript。Netscape 是如何最终将它作为一种语言来满足当时的需求的呢？

他们真的很幸运。考虑到创造这种语言的过程，我们应该得到更糟糕的东西，因为他们没有仔细设计需求。他们肯定没有给它的设计或实现足够的时间。他们拿了一个原型，只是为了证明概念，这就是他们运送的东西。并且它有所有你期望这样的实现会有的问题。部分是基于这种实现，这种语言得到了它所拥有的可怕的名声。许多这样的缺陷仍然存在于语言中。

但除此之外，还有一些非常聪明的想法，这些想法后来被揭示出来，赋予了这门语言惊人的表达能力。但与此同时，它对初学者来说非常容易上手。对于大多数 web 开发人员来说，JavaScript 是他们的第一编程语言，这是一个非常有价值的特性。很多 JavaScript 的批评者想回到另一个方向，让它更像 Java，但我认为这是一件坏事，因为它会疏远大多数 web 开发人员。

所以，我宁愿走另一个方向，培训我们的网络开发人员如何成为程序员，如何成为计算机科学家，因为你可以用这种语言。用这种语言是有可能写出好程序的，这是我们以前不知道的。除此之外，我现在坚持认为编写好的程序是必要的，因为如果程序不好，它们就不会扩展，也不会安全。这种语言足以支持这一使命，因此它是可行的。

**你最近写了一本书， [JavaScript:精彩部分](http://www.amazon.com/exec/obidos/ASIN/0596517742/webmasterresou05/)，我最近也写了一本关于 JavaScript 的书。正如你所说，我在写作的时候发现，你必须努力训练人们不要在 JavaScript 中使用什么。**

对我来说，网络的优势在于它的可访问性，不仅仅是对阅读它的人来说，对发布新内容的人来说也是如此。我感兴趣的是，随着 JavaScript 向前发展，我们试图用它来纠正这些问题，我们是否能够保持低门槛，使 JavaScript 成为人们可以在一两天后作为他们的第一语言学习并感到自信的东西？

我想是的，我认为我们需要。如果我们不保持这种语言的简单性，我们将会犯一个悲剧性的错误。我想对这门语言做的大部分修改都是为了让它更简单。有一些垃圾，也有一些吸引人的麻烦，我们不需要，但人们会依赖它们。没有它我们会过得更好。

不幸的是，对于网络来说，一旦有不好的东西进入，要花上几年时间才能摆脱它。Ajax 直到 2005 年才出现，但是我们需要的所有 Ajax 技术在 2000 年就已经存在了。这五年的大部分时间都花在了从市场上移除旧浏览器上，直到 IE6 上有了足够多的受众，使得 Ajax 成为一个可行的应用程序平台。

我很欣赏雅虎的教育计划——它的[模式库](http://developer.yahoo.com/ypatterns/)和[雅虎开发者网络](http://developer.yahoo.com/)。那是怎么发生的？雅虎成功了吗？

我认为这是成功的。你知道，雅虎有一些聪明的人。一直都有。多年来，我们一直对这个事实保密。我们不再那么做了。我真的很高兴看到我们现在变得更加开放，我们正在与社区的其他人分享我们所知道的。这显然是一件好事，人们对我们发布的内容非常感兴趣。

毫无疑问，你今天演讲中臭名昭著的一句话是，我们需要另一场浏览器战争。浏览器大战的哪些方面会带来进步并推动网络向前发展？我们希望看到浏览器厂商争夺什么？是用户市场份额，还是开发者心智份额，还是一切都有点？

这将是一切。战争大概会有战线，可能是不同的东西在不同的时间热。但是我们现在的问题是我们被困住了。自从 1999 年 Ajax 问世以来，我们的技术根本没有发展，我们今天理解 web 应用程序的方式也完全不同。所以我们现在试图用错误的技术前进，这是不够的。我们已经尝试使用 W3C 和 ECMA 的标准流程向前推进；那个过程是无效的，所以我们需要找到另一种方法。

我并不是真的在提议一场浏览器战争——它会自己发生。我希望我有能力说，“这是我们必须做的。”我能做的最好的事情就是认识到，“这是将要发生的事情，我们应该找到一种方法来最好地利用它。”

Yahoo 是 ECMAScript 标准团体中相对较新的成员；您谈到了您希望采用一种更保守的方法来实现标准化，在这种情况下，标准机构会跟踪实施情况，并记录什么是真正好的，什么是经过验证的。在这种情况下，JavaScript 会变得更好吗？那些前沿的对话会发生在哪里？

它们仍可能在 ECMA 发生。我在 ECMA 启动了一个进程，研究如何创建一种安全的 JavaScript 方言，或者说一种 JavaScript 能力方言。这将发生在 ECMA，涉及 ECMA 成员。我希望我也能向一些非 ECMA 成员开放。我们最初的动机不会是写一个标准，而是想出一种我们可以测试的语言。我们将尝试测试这种语言，看看我们是否能让它得到部署，看看它是否真的做了它需要做的事情，然后我们将尝试制定一个标准。

我认为这是所有事情的正确顺序，但是在过去的几年里，网络标准——至少在过去的十年里——网络标准已经失去了焦点。他们更多的是关于发明而不是编纂，我认为这是不健康的。往好里说，这是徒劳的，往坏里说，我们已经看到了由此产生的糟糕的标准。

例如，CSS2 是不可实现的，最终它不得不被修改为 CSS2.1——试图将 CSS2 缩减到人们能够理解如何实现的程度。这个顺序完全颠倒了——或者说它开始是颠倒的，但最终他们做对了。让我们看看什么实际上可以工作，并制定一个标准，然后让每个人都赶上对方。我认为这是标准的恰当角色。

我现在看到的 HTML5 发生的事情令人震惊。有一些东西我真的很喜欢:我真的很喜欢他们发现了 HTML 解析的规则。太棒了。早就该这样了。你可以看到他们正在做的任何一个单独的功能，然后说，“是啊，这很有意义。”但是太多了，没有很好的权衡，没有复杂的预算。这不是出于真正的需要，而是委员会面前闪闪发光的东西。

所以，我想找到一种方法，在这个过程中注入更多的纪律，我认为一种方法是把它变成一个评估和描述的过程，在这个过程中，我们将观察在野外发生的事情，并记录最好的事情。记录过程真的很难——工作量很大。用一种通用的方式来描述像计算机系统这样复杂的东西是很困难的。让这些组织来做这项工作是好事，但这应该是他们的工作重点。

你在演讲中提到的一个项目是 [AdSafe](http://www.adsafe.org/) ，这是一种以安全的方式将广告注入页面的方法，这样广告就不会不受限制地访问托管它们的网站的其他部分。从一个运行广告并从我们的广告客户那里收到最令人震惊的代码的网站的角度来说——他们希望我们注入到我们的网站中——我们如何让广告行业接受这一点？

我们必须一起努力。在雅虎，我们曾经讨论过进入这个行业，但我们总是退缩，因为我们不想被认为很难共事——我们已经被认为很难共事了！所以，我们需要同时接近他们，告诉他们，“看，我们再也不能接受这些恶心的广告了。如果你想上我们的网站，我们至少需要达到这种水平的技术质量。”

我认为计算机网络是唯一没有这种质量标准的地方。如果你想在电视网上展示一个广告，它将正好是三十秒。如果你想的话，你不会去得更久——这不是一个选项。它必须正确编码，必须是标准的磁带格式…所有这些东西。(不然)没戏。我们对基于电脑的广告没有这些限制，但我们需要。因此，这是我们必须进行的补救努力。

**所以，可以认为这是对你的书的一个小小的剧透，但是如果你有 15 分钟的时间来关注当今世界上所有编写 JavaScript 的人，你会教他们在语言方面做得更好，或者不做什么，来改进网络上的 JavaScript？**

第一件事是，要意识到你能够并且必须写出好的程序。衡量一个程序质量的主要标准之一是它的易读性。我们应该写程序给其他人阅读。我建议将代码阅读作为所有开发活动的标准流程，因此一个团队至少应该每周进行一次代码阅读，无论你是否花时间阅读彼此的代码…我认为这样做的好处是巨大的。

很好。非常感谢！

谢谢你。

*图片来源:[网页说明](http://flickr.com/photos/webdirections/2902790539/)T3】*

## 分享这篇文章