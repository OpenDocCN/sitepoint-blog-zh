# Python 集合之旅

> 原文:[https://www.sitepoint.com/a-tour-of-python-collections/](https://www.sitepoint.com/a-tour-of-python-collections/)

在本教程中，我将介绍 Python 中几种不同类型的集合。

在我们开始之前，让我们定义一下什么是集合。一个**集合**类似于一个篮子，你可以从中添加和删除项目。在某些情况下，它们是相同类型的项目，而在其他情况下，它们是不同的。基本上，它是一个存储结构，允许你收集东西。

例如，您可能有一个汽车类型。您创建了汽车的几个实例，并希望通过某种方式将所有这些汽车组合在一起并方便地访问它们。这是收藏的完美场景。

这些收藏品将保存在记忆中。您不需要构建集合或创建任何类型的脚手架。所有这些都是免费提供的。只需创建一个集合实例，并开始添加您的汽车。当您准备好时，您可以通过名称或索引(在集合中的位置)将它们提取出来。

Python 提供了几个内置类型，它们属于一个模糊的类别，称为集合。虽然 Python 中没有名为`collection`的正式类型，但是有列表、映射和集合。

在本教程中，我们将涵盖以下类型:

*   列表
*   用线串
*   字典
*   设置

## 目录

Python 中的列表是一种称为序列的内置类型。列表是可变的，允许您添加相同类型或不同类型的项，使它们成为非常通用的构造。Python 列表类似于其他语言中的数组。

Python 列表确实允许使用非唯一元素。

以下是创建列表并向其中添加项目的示例:

```
alist = ["item1", "item2", 4]
```

请注意，该列表是异构的，包含字符串和数字类型。

要从列表中检索一项，只需引用该项的索引。Python 列表是零索引的。如果我想要最后一项，即位置 3，我需要使用索引 2:

```
alist[2]
> 4
```

返回数字 4。当引用一个列表项时，只需从它的位置减去一就可以得到正确的索引值。

使用`len`命令可以检查列表的长度:

```
len(alist))
> 3
```

要向列表中添加更多项目，使用`append()`功能:

```
alist.append(False)
len(alist)
> 4
```

我们将列表增加了一个，并添加了一个不同的类型——布尔值。榜单一点都不抱怨。

我们可以通过调用`remove()`来删除元素:

```
alist.remove("item2")
```

`remove()`不返回值。该列表将被更新，现在包含三个项目:

```
['item1', 4, False]
```

从列表中取出项目还有其他几种方法。我们看到了如何使用索引来访问一个条目。如果我访问索引 2，我会得到第 3 项:

```
thevalue = alist[2]
print(thevalue)
> False
```

上述代码将为我们提供该项目的副本。那项仍在清单上。列表总数不受影响。

然而，如果我们使用`pop()`，我们得到了项目，但是它也被从列表中删除:

```
thevalue = alist.pop(1)
print(thevalue)
> 4
print("after pop", alist)
> ['item1', False]
```

列表也可以排序。如果我有下面的字符串列表:

```
alpha = ["z", "b", "a", "c"]
```

您可以使用`sort()`命令对其进行排序:

```
alpha.sort()
```

`sort()`不返回值。不过，`alpha`现在已经排序了。您可以通过打印列表看到这一点:

```
print(alpha)
```

通过调用`reverse()`可以很容易地反转元素:

```
alpha.reverse()
```

`reverse()`也不返回值，并且会反转当前列表。

## 字符串是列表吗？

字符串和列表有一些相似之处。然而，字符串是不可变的，而列表是可变的。

字符串像列表一样是基于索引的。你也可以得到一个字符串中的字符数，就像你可以得到一个列表中的条目数一样。

例如:

```
mystring = "The quick brown fox." 
print(len(mystring)) 
> 20
print(mystring[4])
> q
```

与列表不同，您不能通过追加来添加另一个字符。您也不能更新字符串中的特定元素。

请注意，如果我们试图将一个字符分配到字符串中的特定位置，会发生什么情况:

```
mystring[4] = 'z'
> TypeError: 'str' object does not support item assignment
```

这就是字符串的不可变部分发挥作用的地方。

根据字符串的不同，我们可以将字符串转换成列表。从上面取我们的`mystring`变量。如果我们`split()`这个字符串，它将默认为按空格拆分:

```
stringlist = mystring.split()
stringlist
>['The', 'quick', 'brown', 'fox.']
type(stringlist)
><class 'list'>
```

字符串中的每个单词都成为列表中的一个元素。我们还可以看到类型显然是一个列表。

如果字符串没有空格，我们仍然可以拆分它。但是结果会是什么呢？让我们检查一下:

```
mystring2 = "Thequickbrownfox." 
stringlist2 = mystring2.split()
stringlist2
type(stringlist2)
>['Thequickbrownfox.']
><class 'list'>
```

我们仍然得到一个列表，但是这次只有一个元素。最终，在这种情况下，拆分字符串没有多大用处。

## 绘图

映射是另一种内置类型。Python 中唯一可用的映射是字典。字典是基于键/值的。与基于索引的列表不同，我们不使用索引来访问字典值。相反，我们使用键来访问值。

创建字典类似于创建列表，只是添加了键/值对，而不是单个项目。这里有一个例子:

```
mydictionary = {"item1":45, "item2":76, "item3":145}
```

每个键/值由冒号分隔。第一部分是密钥，第二部分是值。在第一项中，`item1`是键，`45`是值。此外，请注意，我们使用大括号而不是方括号来括住我们的项目。

当从字典中获取条目时，我们考虑的是键，因为通过索引访问是不可能的。如果我们想要`item2`，我们用:

```
mydictionary["item2"]
> 76
```

我们可以检查字典的长度，就像我们检查列表的长度一样:

```
len(mydictionary)
> 3
```

为了更新`item2`，我们使用执行以下操作:

```
mydictionary["item2"] = 100
```

添加项目与更新的语法相同:

```
mydictionary["item62"] = 433
```

`item62`现在存在于字典中，总计数增加了一。

字典条目可以通过引用特定的键来删除:

```
del mydictionary["item2"]
```

`item2`现已删除。如您所见，字典操作相当简单。

如前所述，字典有键/值对。如果您只想访问密钥，可以这样做:

```
mydictionary.keys()
> dict_keys(['item3', 'item1', 'item62'])
```

访问值的方式相同:

```
mydictionary.values()
> dict_values([145, 45, 433])
```

## 设置

集合是无序的集合，不能有重复的元素。集合不能排序。`sort()`方法不适用于集合。

与列表相比，集合可以比列表更快地检查元素的存在。

要创建集合，只需执行以下操作:

```
myset = {3,4,5,1}
```

或者使用 set 方法并提供一个现有的结构。例如:

```
mylist = [0,1,5,4,3,7,6,6]
myset = set(mylist)
>{0, 1, 3, 4, 5, 6, 7}
```

由于集合只能包含唯一的项目，请注意其中一个重复的`6`已被移除。使用`set()`对于从现有数据中创建一个独特的项目集合来说非常有用。

如果我试着把`6`加回去，它没有任何效果:

```
myset.add(6)
>{0, 1, 3, 4, 5, 6, 7}
```

要从集合中删除一个元素，可以调用`remove()`方法:

```
myset.remove(4)
```

`4`已经不在`myset`了。

集合也不支持索引。尝试访问集合中的元素会引发错误:

```
myset[2]
>TypeError: 'set' object does not support indexing
```

集合有一些独特的方法。如果你熟悉集合的数学运算(差、交和并)，这些方法对你来说是很熟悉的。

我们从`difference()`开始。假设我有这两组:

```
set1 = {1,3,6,7}
set2 = {1,3,6,8,10}
```

使用`set1`，与`set2`的区别是`7`。`7`在`set1`而不在`set2`。在 Python 中，如下所示:

```
set1.difference(set2)
>{7}
```

走另一条路:

```
set2.difference(set1)
>{8, 10}
```

如何找到两组中的共同点:

```
set1.intersection(set2)
>{1, 3, 6}
```

最后，将两个集合组合起来创建一个新集合:

```
set3 = set1.union(set2)
>{1, 3, 6, 7, 8, 10}
```

并集包含两个集合中的所有项目。

## 摘要

我们已经学习了 Python 列表、字符串(虽然不是序列)、字典和集合。我们已经看了所有的具体操作和独特的能力。我希望本教程进一步增强了您对 Python 中集合的了解。

## 分享这篇文章