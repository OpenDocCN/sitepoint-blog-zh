# 为什么是 JavaScript 和物联网？

> 原文:[https://www.sitepoint.com/javascript-internet-things/](https://www.sitepoint.com/javascript-internet-things/)

JavaScript 已经证明了自己在 web 应用的客户端和服务器端都有价值，但是为什么它在不断扩大的物联网(IoT)中有潜力呢？

在过去的两年里，我在 SitePoint 上的文章 [JavaScript Beyond the Web](https://www.sitepoint.com/javascript-beyond-web) 和 2014 年的文章[JavaScript Beyond the Web](https://www.sitepoint.com/javascript-beyond-web-2014/)中，以及在各种会议和集会上的各种演示中，介绍了 JavaScript 开发人员可以参与的越来越多的技术。人们对 JavaScript 和物联网有着巨大的热情，这很好(很高兴知道我并不孤单)，但许多开发人员会问一个非常合理的问题——为什么是 JavaScript？物联网使用 JavaScript 有什么优势？我决定更详细地探讨这个话题，并把我的许多想法写下来，这将是有用的。

## 互联网的大部分已经在使用 JavaScript 了

物联网的整个概念很简单。我们希望将一系列新设备连接到互联网，以便它们可以与世界各地的服务器和设备通话。虽然下一个改变世界的大型物联网设备可能是我们看不到的东西(这只是技术的本质，对吗？)，我们知道它可能立足的技术支柱——以新的和意想不到的方式将设备连接到 web APIs，以(希望)造福社会。现在我们的网页和网络应用程序能说什么语言？JavaScript。将相同的标准平台扩展到物联网是有意义的，可以与使用相同语言的更多设备进行通信。

## 我们可以共享功能

JavaScript 无处不在的能力是巨大的。当将设备网络连接到您的服务器时，让它们说同一种语言会使生活更容易。如果您有大量不同的连接设备，这些设备都理解 JavaScript，并且您有一个运行 Node.js 的服务器，您就降低了复杂性，并且可以在不同的设备上共享类似的功能。假设您的应用程序中有业务逻辑，您需要为不同的设备和服务器响应重用这些逻辑。使用 JavaScript，您可以轻松地为不同的设备调用重用相同的函数——构建一次，然后重用。

## 现有的库、插件和 API

JavaScript 有一系列现有的库、插件和 API，其中许多可以在物联网中使用。虽然旧的 jQuery 插件对于非客户端代码来说不是最可重用的，但是 JavaScript 中的 npm 模块正在不断发展，可以在客户端、服务器端以及其他地方的许多解决方案中重用。

像[下划线. js](http://underscorejs.org/) 、 [lodash](https://www.npmjs.org/package/lodash) 、[遍历](https://github.com/substack/js-traverse)和[异步](https://www.npmjs.org/package/async)这样的 JavaScript 实用程序库可以很好地在不同设备的常见情况下使用。上述模块中有一些非常强大的功能，对物联网项目非常有用。

另一个非常适合物联网的优秀 JavaScript 模块的例子是 [Socket.io](http://socket.io/) ，这是一个跨多个设备提供基于事件的实时通信的模块。

我们不需要为这些基本的东西构建一系列新的库和插件，我们可以重用和进一步开发目前 web 上使用的现有解决方案，以实现全新的实现。

## JavaScript 在事件驱动的应用中很棒

JavaScript 非常擅长事件驱动的应用程序。在这些应用程序中，每个设备都会监听各种事件，并在它关心的事件发生时做出响应。Socket.io 在这方面很棒。

节点有“事件循环”虽然详细解释这一点并不在本文的讨论范围之内，但是它允许我们执行许多任务，而不需要等待每个任务完成后再进入下一个任务。我们可以接收和响应事件，然后等待每一个事件的回调，一旦事件完成就通知我们。这意味着我们可以在事件发生时做出反应，在事件发生时同时处理许多任务。多个设备也可以响应相同的事件。这在物联网中非常适用。

让我们想象一下，你有一个可以上网的家，里面有一个智能热水浴缸，当你走回家的时候，浴缸会装满水。这是一个相当随机的例子，但是让我们继续吧！你的手机信号显示你还有五分钟就到家了。浴缸看到这一事件，并开始自动注水。你也想看《哥谭》的最新剧集，所以你打开一个手机应用程序，选择下载并播放这一季的最新剧集，当你到达浴室的热水浴缸上方的大显示屏上。是的——这是一个非常别致的热水浴缸。tub 接收到这个事件，并开始查找您已经看过的剧集。

突然，你意识到你忘了在回家的路上买些牛奶。正如所有令人欣喜的技术突破一样，你的待办事项应用程序仍然容易出现用户错误。你不小心设置了提醒去买明天的牛奶，在最后一刻不得不依靠原始人类的大脑！你转身去最近的超市。

你的手机会注意到方向的变化，并发出你不再在回家路上的信号。浴缸看到这一事件，暂时停止注水。浴缸可以立即处理这一请求，并停止注水，而不是等到它为您检索到最新的 Gotham 剧集列表后再对这一变化做出响应。一旦找到了未看集的列表，浴盆就会看到我们已经得到了这个列表，并在你去买牛奶的时候下载下一集。一旦你再次踏上回家的路，你的手机会再次发出这个信号。浴缸看到这一事件，并在完成下载的同时重新打开水。你回家的时候，热水浴缸已经准备好了，当你走进浴室的时候，哥谭正在播放。

## JavaScript 作为一种语言已经成熟

有一种普遍的误解，认为 JavaScript 仍然是一种很难使用的语言。我不同意。使用现代 JavaScript 实践完全有可能构建一个非常稳定且可维护的代码库。JavaScript 是一种足够成熟的语言，不仅仅用于简单的面向客户端的应用程序。我们已经有了像 [JSHint](http://jshint.com/) 这样的 JavaScript linters 来确保代码符合特定的标准，还有像 [Mocha](http://mochajs.org/) 这样的 JavaScript 测试框架，它们有可能扩展到物联网系统。

## 数据

每种语言都有自己的特性，在不同的设备上使用不同的语言意味着要处理这些特性。通常，你必须将数据转换成其他语言需要的格式，然后如果以相反的方向传递数据，再转换回来。一些语言比其他语言更好地处理这一点，并且通常有记录的方法来传递数据，所以这不是不可能的。然而，如果你不需要太担心这个不是很好吗？想象一下，所有的设备都以同样的方式理解数据类型。

## JavaScript 已打开

JavaScript 开发人员不需要使用特定的 IDE 或单一的操作系统。用这种语言发布应用程序不需要支付年费。没有一个封闭的大公司从它最黑暗的深处保护着语言和它的发展。JavaScript 是一个开放标准，可以使用各种 JavaScript 引擎来实现。我真的希望 JavaScript 的开放标准将带来许多开放的物联网设备，它们可以相互协作和构建，保持开放网络的理想，并进入一个全新的互联网时代。

## 对于新开发人员来说，JavaScript 是更好的选择

我认为当谈到让开发者参与物联网的各种选择时，JavaScript 的门槛最低。对于初学者来说，这是一种更容易理解的语言，但是有一整套高级方法可以将一个项目构建和发展成一个真正可扩展的系统。

## 令人难以置信的社区

JavaScript 社区是一个不断发展的非常开放的社区。新的和令人兴奋的模块和技术不断涌现，开发社区也在以非常积极的方式不断发展。我认为这个原因是 JavaScript 非常适合物联网中不断发展的技术的一个重要原因。

该社区中有一些非常有才华的 JavaScript 开发人员，他们已经使用这种语言及其细微差别很多年了。他们在设置测试驱动的模块化 JavaScript 应用程序方面很有经验。也有许多 JavaScript 开发人员非常渴望提高和发展他们的技能。我很乐意看到所有这些人才尝试超越典型的网络，用新设备编程互动体验。

## 它已经开始了

已经有了支持 JavaScript 的物联网设备。参见我在 2014 年发表的 [JavaScript Beyond the Web](https://www.sitepoint.com/javascript-beyond-web) 和[JavaScript Beyond the Web](https://www.sitepoint.com/javascript-beyond-web-2014/)文章，了解其中一些内容的概述。

## 结论

正如你可能知道的，我非常热衷于 JavaScript 在这个领域的发展。在物联网中使用 JavaScript 有很多优势，我希望在未来几年里看到它的蓬勃发展。

这些都是我自己的观点，但是我很想在评论中听到你的想法。我错过了什么优势吗？我本可以说得更好的事情？到目前为止，您在 JS 和 IoT 方面有什么经验可以分享吗？

JavaScript 有一个庞大而充满激情的社区，我希望这个社区也能展现出同样的兴奋和激情，把他们的技能带到物联网中来，这是没人会想到的。

*感谢[菲尔·法鲁吉亚](https://twitter.com/phillfarrugia)和[杰瑞米·布朗](https://twitter.com/jeremybrown)当我在推特上提出这个问题时他们的想法。*

## 分享这篇文章