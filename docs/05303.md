# MVC——问题还是解决方案？

> 原文:[https://www.sitepoint.com/mvc-problem-solution/](https://www.sitepoint.com/mvc-problem-solution/)

储存库、适配器、MVC 及其所有的表亲、SOLID、RTFM……作为一名(PHP)开发人员，这些词汇从网络的每个角落抛向你。我讨厌这样，我受够了。别告诉我该做什么，给我看看那些小猫。

## 软件解决问题

我们不只是写软件。代码不会从天上掉到我们的文件里。我们分析需求，把它们分解成我们知道如何解决的小问题，然后我们解决那些小问题。你写的、已经写的和将要写的每一行代码都解决了某个问题。无论是拯救世界，在屏幕上展示小猫，还是让它在 IE8 中看起来不错。它的存在是有原因的，别碰它！

问题是可以解决的，这些问题的解决方案成为更大的事情的一部分。满足所有初始需求的黑盒。但是我们如何解决这些问题呢？我的解决方案是最好的解决方案吗？其他开发者(或者 2 个月后的我)会理解我在这里做的事情吗？

## 一个解决方案适合所有人

当解决 web 应用程序问题时，我们被迫使用 MVC。开发社区经常对那些不使用它的人皱眉头，但是很少让那些他们皱眉头的人问为什么。

那么为什么 MVC 是最好的呢？常见的回流原因有:

*   降低代码复杂性
*   代码重用
*   增加灵活性
*   去耦代码

酷，听起来不错，但是…

*   是真的吗？
*   是不是其他模式都缺少这些酷炫的东西？

答案是否定的。

MVC 没有解决*代码复杂度*的问题。它也没有解决*代码重用*或*无灵活性*的问题。而且不保证*解耦代码*。

**开发者**保证降低代码复杂度。是**我们**编码员、程序员、开发者和艺术家写出了灵活的、解耦的和可重用的代码。我们需要 MVC 就像我们需要 document.getElementById()的 jQuery 一样。在任何人听说 MVC 之前，我们已经在构建伟大的软件，并且我们将继续在没有 MVC 的情况下构建伟大的东西。

不要忘记 MVC 是一种模式，而不是解决方案。它和其他所有的都是一致的。适配器、工厂、单件、模块、解释器、观察器…

## 模式不能解决问题，它们能帮助我们

模式**帮助**我们编写灵活、解耦且易于使用的代码。模式是开发人员可以用来解决问题的**最佳实践**。那些**最佳实践**根据你正在解决的问题类型而不同，没有**前 5** 。一艘船可能真的很擅长穿越水域，但它不能耕地。

每种模式都有其优点和缺点，并且适合于处理特定的情况。例如，工厂模式非常擅长创建对象。模块模式帮助我们用一种不支持(或仅部分支持)模块的语言(例如 JavaScript)编写软件模块。观察者模式的优势在于事件处理，MVC 帮助我们分离布局、数据操作和控制器。

但是 MVC 被严重滥用，原因如下:

不知何故，有人认为这是用 PHP 编写的、可以用浏览器访问的所有东西的最佳方法。然后出现了一个规则，模型应该与数据库中的行有一对一的关系，控制器应该是瘦的，视图必须用编译成 PHP 的模板语言编写。

然后，有人指出“瘦控制器”并不总是最好的方法。他们因此创造了胖控制器、瘦模型的规则。

几次迭代后，我们让可怜的 MVC 诞生了 HMVC、MVA、MVP、MVVM、PAC……

## MVC 是新的 Singleton(或 IE8)

可悲的是，MVC 并不是唯一被滥用的模式。正如基思很好地指出的:

> 我们需要一个看起来像全球化，行动起来像全球化，但又不是真正全球化的东西。

突然间，单例模式在我们的代码中随处可见。您可以编写蹩脚的代码，而不会有人抱怨使用`global $var`。相反，我们使用单例模式，`Global::getInstance()->var`并将其称为 OO。

## 模式很酷，但开发人员不酷

不要误解我，模式是可以使用的。但是要明智地使用它们。一起使用它们。没有什么比开发人员出于错误的原因和错误的意图使用错误的模式更糟糕的了。

所以拜托，我求你了。不要滥用模式。

不要多此一举。你不是第一个试图用 JavaScript 创建模块的开发者，也不是第一个开发事件处理软件的人。在你之前，许多更聪明、更训练有素的专业人士也做过同样的事情。

难以将 MySQL 从 PHP 中分离出来？你在你的 HTML 中写`SELECT * FROM`吗？MVC 可能会对你有所帮助，或者多层架构更适合你。

有懒惰加载/读取配置数据的问题吗？辛格尔顿能帮上忙。

创建某个类的对象是一件痛苦的事情吗？工厂模式真的可以帮你保持干爽。

让两个服务互相通信有困难？适配器会有所帮助。

## 结论

根据情况和手头的问题，不同的模式可以帮助您编写健壮、安全和可理解的代码。只是要小心使用它们——如果你发现自己在使用 MVC 模式的一页纸，`ctrl+a` `del`。

愿模式与你同在！

## 分享这篇文章