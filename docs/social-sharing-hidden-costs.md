# 社交分享的隐性成本

> 原文：<https://www.sitepoint.com/social-sharing-hidden-costs/>

我最近在 RWD 的一个小网站上工作，该网站旨在替代一个数兆字节的庞然大物。最初的网站大小几乎达到了 3.5Mb，导致某些浏览器崩溃，在手机上无法使用。我把新网站的每个字节都挤出来了…

*   采用了最小、干净的 HTML5
*   唯一增加的垫片是为老歌上的 HTML5
*   干净、扁平、方形设计的趋势减少了 CSS 代码和图形的数量
*   CSS3 的过渡和动画被用来支持 JavaScript 的替代品
*   CSS3 特效和一小组网络字体取代了许多图片
*   JavaScript 不是必需的，但是在不依赖大型库的情况下实现了一点渐进的增强。

结果是:主页总容量不到 300Kb，所有其他页面都不到 90Kb——这包括所有图像，没有代码压缩或缩小。无论连接性如何，该网站在所有设备上都能快速加载。

客户很喜欢它…但是缺少一样东西:*社交网络分享按钮*。我沉迷于媒体营销经理的几段独白，这些独白都是关于现代网络中这些关键元素的重要性。

## 社会骗局

社交媒体大师们忽略了一点，那就是很少有页面会像病毒一样传播。对于每一个互联网现象，都有数十亿人和公司从未获得过崇拜地位。在所有页面上添加社交按钮似乎是个好主意，但没有人会“喜欢”你公司的道德声明或“分享”首席执行官的照片。

*“啊”*，*媒体大师声称，“但是让分享内容变得容易又有什么坏处呢？”*。我给你几个理由…

## 带宽破坏按钮

搜索“脸书喜欢按钮”，你很快就会找到他们有用的*获取代码*工具。填写细节，复制十行脚本，粘贴到你的页面上，它的工作就完成了。

虽然它看起来像几行无关紧要的代码，但它在后台加载了各种资源。那个小小的脸书“喜欢”按钮需要 270Kb 的压缩代码和几个 HTTP 请求。*为什么？*让我们不要忘记其他流行的社交网络…

| 脸书“喜欢”按钮: | 270Kb |
| Google+分享按钮: | 135Kb |
| Twitter 分享按钮: | 95Kb |
| LinkedIn 共享按钮: | 80Kb |

四个都要吗？那将是 580 kb——或者在一个良好的移动连接上超过 10 秒。那些小按钮几乎比我要求的页数大七倍。

不可否认，有些脚本会被缓存在浏览器中，因为用户已经使用类似的按钮访问了另一个站点。但这并不等于零成本；浏览器在下载或呈现其他内容之前，仍然必须解析和执行这些脚本。脸书甚至建议在你的任何内容显示之前，在开始标签之后立即添加他们的代码。

谁会“喜欢”一个响应速度变慢的页面？

## 测试次数

如果没有添加到公开的网页上，一些社交按钮就会失效。换句话说，当你在本地电脑或内部网测试一个站点时，它们不会出现。为了确保按钮不会破坏你的布局，你必须把页面上传到一个实时服务器上——可能是你真正的网站。你会在测试之前发布其他代码吗？

## 社会保障

你会允许任何开发者访问你的网站，做他们想做的事情吗？没有吗？社交按钮将 JavaScript 插入你的页面，该代码与你的代码具有相同的权利。它可以做任何事情:替换内容，破坏图像，劫持链接，显示广告，重定向到其他地方，等等。

虽然没有一个社交网络会参与这样的活动，但你会吗？

1.  了解所有这些臃肿的代码在所有社交网络中做了什么？
2.  相信所有的社交网络都有协议来防止来自内部员工和外部黑客的间接或蓄意攻击？
3.  当代码发生变化时，测试所有设备上的所有代码？
4.  知道所有代码在任何时候都可以在所有浏览器上运行吗？由这些按钮中的一个引发的单个错误可能会阻止后续的 JavaScript 执行并破坏您的页面。

## 可以有社交蛋糕吃！

社交网络只有在被利用的情况下才会存在。他们提供简单易用的分享按钮，以便成为更有价值的资源，并吸引人们加入。你的网站可能享受寄生利益，但不要忘记，它的网络有最大的收益。

幸运的是，没有可笑的带宽或安全开销，实现共享按钮是可能的。这些技术并不总是广为人知，但是我将在我的下一篇 SitePoint 文章中说明如何做到这一点…

## 分享这篇文章