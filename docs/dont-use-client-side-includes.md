# 不要使用客户端包含！

> 原文：<https://www.sitepoint.com/dont-use-client-side-includes/>

Builder.com 的[使用客户端 Includes 而不是服务器端 Includes](http://builder.com.com/5100-6371-5172019.html) 使得用 Javascript 支持的替代技术取代包含公共页面组件的服务器端技术成为可能。我的建议是:保持清醒。虽然 Javascript includes 可能会稍微降低服务器的负载，甚至可能会由于额外的客户端缓存而增加页面加载时间，但弊远大于利:

*   Javascript 是一个严重的可访问性危险信号:为了满足可访问性需求，您的内容需要对缺乏 Javascript 支持的用户和设备是可访问的。
*   搜索引擎看不到用 Javascript 添加的内容。如果你在 Javascript 搜索引擎中隐藏你的链接，蜘蛛甚至无法抓取你的网站。
*   许多浏览器都积极缓存 Javascript。这可能有助于提高性能，但这意味着除非访问者强制刷新浏览器，否则您对 includes 所做的更改可能不会显示出来。你不能指望他们经常这样做，如果有的话。
*   启用 SSIs 对性能的影响通常被过分夸大了。现代网络服务器通常是非常强大的机器。许多网站使用 PHP 或 Perl 等技术动态生成每个页面，这比简单的 SSIs 带来了更高的开销。

如果您的主机不支持某种形式的服务器端包含，您应该转移到另一台主机。现在主机市场已经饱和了，高质量的主机加上一个中等流量网站的所有虚饰应该不会让你每月花费超过 5 到 10 美元。请注意，这是假设您使用开源平台；专有托管平台的成本要高得多。

Javascript includes 可能有意义的唯一情况是，如果您在 CD 上分发一个站点，而动态服务平台不可用，但即使这样，更好的解决方案是使用模板和简单的脚本语言在 CD 上生成静态 HTML 文件。

我对 Javascript 的黄金法则是，它不应该导致非 Javascript 浏览器无法访问的内容。如果它增强了使用 Javascript 的用户的体验，那就很好，只要它不会导致网站对其他人不起作用。

## 分享这篇文章